<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Baro/AP_Baro.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_7db4a971a8c593e04169c3b474b45b25.html">AP_Baro</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AP_Baro.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AP__Baro_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   (at your option) any later version.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *       APM_Baro.cpp - barometer driver</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro_8h.html">AP_Baro.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stdio_8h.html">stdio.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Common_8h.html">AP_Common/AP_Common.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__BoardConfig_8h.html">AP_BoardConfig/AP_BoardConfig.h</a>&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__BoardConfig__CAN_8h.html">AP_BoardConfig/AP_BoardConfig_CAN.h</a>&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Vehicle__Type_8h.html">AP_Vehicle/AP_Vehicle_Type.h</a>&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__SITL_8h.html">AP_Baro_SITL.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__BMP085_8h.html">AP_Baro_BMP085.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__BMP280_8h.html">AP_Baro_BMP280.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__HIL_8h.html">AP_Baro_HIL.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__KellerLD_8h.html">AP_Baro_KellerLD.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__MS5611_8h.html">AP_Baro_MS5611.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__ICM20789_8h.html">AP_Baro_ICM20789.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__LPS2XH_8h.html">AP_Baro_LPS2XH.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__FBM320_8h.html">AP_Baro_FBM320.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__DPS280_8h.html">AP_Baro_DPS280.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#if HAL_WITH_UAVCAN</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Baro__UAVCAN_8h.html">AP_Baro_UAVCAN.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Logger_8h.html">AP_Logger/AP_Logger.h</a>&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="AP__Baro_8cpp.html#a909df6648c8286a4b6c4feb37fdb14f7">   49</a></span>&#160;<span class="preprocessor">#define INTERNAL_TEMPERATURE_CLAMP 35.0f</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#ifndef HAL_BARO_FILTER_DEFAULT</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="AP__Baro_8cpp.html#a7892bd201aba77083286e9064aa13bdb">   52</a></span>&#160;<span class="preprocessor"> #define HAL_BARO_FILTER_DEFAULT 0 // turned off by default</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#if !defined(HAL_PROBE_EXTERNAL_I2C_BAROS) &amp;&amp; !HAL_MINIMIZE_FEATURES</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="AP__Baro_8cpp.html#acdfa76602168cd53e2b33b5305ef34ac">   56</a></span>&#160;<span class="preprocessor">#define HAL_PROBE_EXTERNAL_I2C_BAROS</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#ifndef HAL_BARO_PROBE_EXT_DEFAULT</span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="AP__Baro_8cpp.html#a13a115f1a1d1480277e4ffff0577f7fa">   60</a></span>&#160;<span class="preprocessor"> #define HAL_BARO_PROBE_EXT_DEFAULT 0</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// table of user settable parameters</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">const</span> <a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classAP__Baro.html#a4a6371e708d80d1a873a7dd048c9bef8">AP_Baro::var_info</a>[] = {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// NOTE: Index numbers 0 and 1 were for the old integer</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// ground temperature and pressure</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// @Param: ABS_PRESS</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// @DisplayName: Absolute Pressure</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// @Description: calibrated ground pressure in Pascals</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// @Units: Pa</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">// @ReadOnly: True</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// @Volatile: True</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;ABS_PRESS&quot;</span>, 2, <a class="code" href="classAP__Baro.html">AP_Baro</a>, sensors[0].ground_pressure, 0),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// @Param: TEMP</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// @DisplayName: ground temperature</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// @Description: User provided ambient ground temperature in degrees Celsius. This is used to improve the calculation of the altitude the vehicle is at. This parameter is not persistent and will be reset to 0 every time the vehicle is rebooted. A value of 0 means use the internal measurement ambient temperature.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// @Units: degC</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// @Volatile: True</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TEMP&quot;</span>, 3, <a class="code" href="classAP__Baro.html">AP_Baro</a>, _user_ground_temperature, 0),</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// index 4 reserved for old AP_Int8 version in legacy FRAM</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">//AP_GROUPINFO(&quot;ALT_OFFSET&quot;, 4, AP_Baro, _alt_offset, 0),</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// @Param: ALT_OFFSET</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// @DisplayName: altitude offset</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// @Description: altitude offset in meters added to barometric altitude. This is used to allow for automatic adjustment of the base barometric altitude by a ground station equipped with a barometer. The value is added to the barometric altitude read by the aircraft. It is automatically reset to 0 when the barometer is calibrated on each reboot or when a preflight calibration is performed.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// @Units: m</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;ALT_OFFSET&quot;</span>, 5, <a class="code" href="classAP__Baro.html">AP_Baro</a>, _alt_offset, 0),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// @Param: PRIMARY</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// @DisplayName: Primary barometer</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// @Description: This selects which barometer will be the primary if multiple barometers are found</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// @Values: 0:FirstBaro,1:2ndBaro,2:3rdBaro</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PRIMARY&quot;</span>, 6, <a class="code" href="classAP__Baro.html">AP_Baro</a>, _primary_baro, 0),</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// @Param: EXT_BUS</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// @DisplayName: External baro bus</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// @Description: This selects the bus number for looking for an I2C barometer. When set to -1 it will probe all external i2c buses based on the GND_PROBE_EXT parameter.</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// @Values: -1:Disabled,0:Bus0,1:Bus1</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;EXT_BUS&quot;</span>, 7, <a class="code" href="classAP__Baro.html">AP_Baro</a>, _ext_bus, -1),</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// @Param: SPEC_GRAV</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// @DisplayName: Specific Gravity (For water depth measurement)</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// @Description: This sets the specific gravity of the fluid when flying an underwater ROV.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// @Values: 1.0:Freshwater,1.024:Saltwater</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="AP__Param_8h.html#a752a6a1d27589c64a386ab2818e7057d">AP_GROUPINFO_FRAME</a>(<span class="stringliteral">&quot;SPEC_GRAV&quot;</span>, 8, <a class="code" href="classAP__Baro.html">AP_Baro</a>, _specific_gravity, 1.0, <a class="code" href="AP__Param_8h.html#aaccf2c99c335d606cf6a851c02835e46">AP_PARAM_FRAME_SUB</a>),</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#if BARO_MAX_INSTANCES &gt; 1</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// @Param: ABS_PRESS2</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// @DisplayName: Absolute Pressure</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// @Description: calibrated ground pressure in Pascals</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// @Units: Pa</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// @ReadOnly: True</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// @Volatile: True</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;ABS_PRESS2&quot;</span>, 9, <a class="code" href="classAP__Baro.html">AP_Baro</a>, sensors[1].ground_pressure, 0),</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// Slot 10 used to be TEMP2</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#if BARO_MAX_INSTANCES &gt; 2</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// @Param: ABS_PRESS3</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// @DisplayName: Absolute Pressure</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// @Description: calibrated ground pressure in Pascals</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// @Units: Pa</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// @ReadOnly: True</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// @Volatile: True</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;ABS_PRESS3&quot;</span>, 11, <a class="code" href="classAP__Baro.html">AP_Baro</a>, sensors[2].ground_pressure, 0),</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// Slot 12 used to be TEMP3</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// @Param: FLTR_RNG</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// @DisplayName: Range in which sample is accepted</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// @Description: This sets the range around the average value that new samples must be within to be accepted. This can help reduce the impact of noise on sensors that are on long I2C cables. The value is a percentage from the average value. A value of zero disables this filter.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// @Units: %</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// @Range: 0 100</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;FLTR_RNG&quot;</span>, 13, <a class="code" href="classAP__Baro.html">AP_Baro</a>, _filter_range, <a class="code" href="AP__Baro_8cpp.html#a7892bd201aba77083286e9064aa13bdb">HAL_BARO_FILTER_DEFAULT</a>),</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#ifdef HAL_PROBE_EXTERNAL_I2C_BAROS</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// @Param: PROBE_EXT</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// @DisplayName: External barometers to probe</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// @Description: This sets which types of external i2c barometer to look for. It is a bitmask of barometer types. The I2C buses to probe is based on GND_EXT_BUS. If GND_EXT_BUS is -1 then it will probe all external buses, otherwise it will probe just the bus number given in GND_EXT_BUS.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// @Bitmask: 0:BMP085,1:BMP280,2:MS5611,3:MS5607,4:MS5637,5:FBM320,6:DPS280,7:LPS25H,8:Keller</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// @Values: 1:BMP085,2:BMP280,4:MS5611,8:MS5607,16:MS5637,32:FBM320,64:DPS280,128:LPS25H,256:Keller</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PROBE_EXT&quot;</span>, 14, <a class="code" href="classAP__Baro.html">AP_Baro</a>, _baro_probe_ext, <a class="code" href="AP__Baro_8cpp.html#a13a115f1a1d1480277e4ffff0577f7fa">HAL_BARO_PROBE_EXT_DEFAULT</a>),</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;};</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">// singleton instance</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<a class="code" href="classAP__Baro.html">AP_Baro</a> *<a class="code" href="classAP__Baro.html#af3fecfba7c5df454304d0c59f4dd7b07">AP_Baro::_singleton</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">  AP_Baro constructor</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a2365014f8266bebaf041590ff2df01cb">  175</a></span>&#160;<a class="code" href="classAP__Baro.html#a2365014f8266bebaf041590ff2df01cb">AP_Baro::AP_Baro</a>()</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classAP__Baro.html#af3fecfba7c5df454304d0c59f4dd7b07">_singleton</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, <a class="code" href="classAP__Baro.html#a4a6371e708d80d1a873a7dd048c9bef8">var_info</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">// calibrate the barometer. This must be called at least once before</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">// the altitude() or climb_rate() interfaces can be used</span></div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classAP__Baro.html#abd4110392c9cc5e59b143dd4cb2b5800">  184</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#abd4110392c9cc5e59b143dd4cb2b5800">AP_Baro::calibrate</a>(<span class="keywordtype">bool</span> <a class="code" href="SIM__FlightAxis_8cpp.html#a2fbf6e53878d27027d879556d308486f">save</a>)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// start by assuming all sensors are calibrated (for healthy() test)</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0649ac0ad652079e2b287f0aaa34d981">calibrated</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a34dcd28c562002e52c19b3ebf6e7085f">alt_ok</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code" href="classAP__HAL_1_1Util.html#a19cbaa06e0e8804d1669deacf5ad6081">was_watchdog_reset</a>()) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Baro: skipping calibration&quot;</span>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Calibrating barometer&quot;</span>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// reset the altitude offset when we calibrate. The altitude</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// offset is supposed to be for within a flight</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classAP__Baro.html#a0ac3f7a7f0c7709a30ebc6ab98643ed9">_alt_offset</a>.set_and_save(0);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// let the barometer settle for a full second after startup</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// the MS5611 reads quite a long way off for the first second,</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// leading to about 1m of error if we don&#39;t wait</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 10; i++) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        uint32_t tstart = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="classAP__Baro.html#a51144302ade095d22cafe8fa4928fd29">update</a>();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - tstart &gt; 500) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <a class="code" href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a>(<span class="stringliteral">&quot;PANIC: AP_Baro::read unsuccessful &quot;</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        <span class="stringliteral">&quot;for more than 500ms in AP_Baro::calibrate [2]\r\n&quot;</span>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#a94ab41309b1ff10b8b862b826e59c882">scheduler</a>-&gt;<a class="code" href="classAP__HAL_1_1Scheduler.html#ab3175e2e6223ccfe82f957e41cc12b26">delay</a>(10);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        } <span class="keywordflow">while</span> (!<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>());</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#a94ab41309b1ff10b8b862b826e59c882">scheduler</a>-&gt;<a class="code" href="classAP__HAL_1_1Scheduler.html#ab3175e2e6223ccfe82f957e41cc12b26">delay</a>(100);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// now average over 5 values for the ground pressure settings</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordtype">float</span> sum_pressure[<a class="code" href="AP__Baro_8h.html#afc734c99d3a6ed4a3fd26b4dff1ae78f">BARO_MAX_INSTANCES</a>] = {0};</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    uint8_t <a class="code" href="Perf__Lttng__TracePoints_8h.html#ae11b3deb3de3df7dc48e439074023e35">count</a>[<a class="code" href="AP__Baro_8h.html#afc734c99d3a6ed4a3fd26b4dff1ae78f">BARO_MAX_INSTANCES</a>] = {0};</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">const</span> uint8_t num_samples = 5;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">for</span> (uint8_t c = 0; c &lt; num_samples; c++) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        uint32_t tstart = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <a class="code" href="classAP__Baro.html#a51144302ade095d22cafe8fa4928fd29">update</a>();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - tstart &gt; 500) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <a class="code" href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a>(<span class="stringliteral">&quot;PANIC: AP_Baro::read unsuccessful &quot;</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        <span class="stringliteral">&quot;for more than 500ms in AP_Baro::calibrate [3]\r\n&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        } <span class="keywordflow">while</span> (!<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>());</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>(i)) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                sum_pressure[i] += <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#ac78bcc8b22d5c8623f04ce5ef8af938c">pressure</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <a class="code" href="Perf__Lttng__TracePoints_8h.html#ae11b3deb3de3df7dc48e439074023e35">count</a>[i] += 1;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#a94ab41309b1ff10b8b862b826e59c882">scheduler</a>-&gt;<a class="code" href="classAP__HAL_1_1Scheduler.html#ab3175e2e6223ccfe82f957e41cc12b26">delay</a>(100);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="Perf__Lttng__TracePoints_8h.html#ae11b3deb3de3df7dc48e439074023e35">count</a>[i] == 0) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0649ac0ad652079e2b287f0aaa34d981">calibrated</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="SIM__FlightAxis_8cpp.html#a2fbf6e53878d27027d879556d308486f">save</a>) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0a26688e5dafabb550571b6341655a12">ground_pressure</a>.set_and_save(sum_pressure[i] / <a class="code" href="Perf__Lttng__TracePoints_8h.html#ae11b3deb3de3df7dc48e439074023e35">count</a>[i]);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="classAP__Baro.html#a5f9cd805004a3a931e4eb82a83a8c917">_guessed_ground_temperature</a> = <a class="code" href="classAP__Baro.html#a0bdd3c41ed13e7d3b6e71bbc6fd05fd9">get_external_temperature</a>();</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// panic if all sensors are not calibrated</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    uint8_t num_calibrated = 0;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].calibrated) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Barometer %u calibration complete&quot;</span>, i+1);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            num_calibrated++;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (num_calibrated) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a>(<span class="stringliteral">&quot;AP_Baro: all sensors uncalibrated&quot;</span>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">   update the barometer calibration</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">   this updates the baro ground calibration to the current values. It</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">   can be used before arming to keep the baro well calibrated</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a67fd690b15ef9f0f23b3304831ca913a">  271</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#a67fd690b15ef9f0f23b3304831ca913a">AP_Baro::update_calibration</a>()</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keyword">const</span> uint32_t now = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> do_notify = now - <a class="code" href="classAP__Baro.html#a8eabe0ea3b907dd28ec41d3bcc46fa56">_last_notify_ms</a> &gt; 10000;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (do_notify) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="classAP__Baro.html#a8eabe0ea3b907dd28ec41d3bcc46fa56">_last_notify_ms</a> = now;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>(i)) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordtype">float</span> corrected_pressure = <a class="code" href="classAP__Baro.html#a41b3c00624c78b883413b53fc5a81a32">get_pressure</a>(i) + <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a27abcb4f295b00f20a4a8e49282369d8">p_correction</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0a26688e5dafabb550571b6341655a12">ground_pressure</a>.set(corrected_pressure);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="comment">// don&#39;t notify the GCS too rapidly or we flood the link</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> (do_notify) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0a26688e5dafabb550571b6341655a12">ground_pressure</a>.notify();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// always update the guessed ground temp</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="classAP__Baro.html#a5f9cd805004a3a931e4eb82a83a8c917">_guessed_ground_temperature</a> = <a class="code" href="classAP__Baro.html#a0bdd3c41ed13e7d3b6e71bbc6fd05fd9">get_external_temperature</a>();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// force EAS2TAS to recalculate</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classAP__Baro.html#a14419ec70362bea5ada11f198957f0e4">_EAS2TAS</a> = 0;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">// return altitude difference in meters between current pressure and a</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">// given base_pressure in Pascal</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a54dee5f283f1b59007fd4872db0f6eea">  299</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#a54dee5f283f1b59007fd4872db0f6eea">AP_Baro::get_altitude_difference</a>(<span class="keywordtype">float</span> base_pressure, <span class="keywordtype">float</span> pressure)<span class="keyword"> const</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">float</span> ret;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">float</span> temp    = <a class="code" href="classAP__Baro.html#a932c39564d42db7594dc132eb6703919">get_ground_temperature</a>() + <a class="code" href="definitions_8h.html#a52c2fdb7a991a9aeea4e92cb047ea7e7">C_TO_KELVIN</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">float</span> scaling = <a class="code" href="classAP__Baro.html#a6ed00073ef8152802649a862b17853d9">pressure</a> / base_pressure;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// This is an exact calculation that is within +-2.5m of the standard</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// atmosphere tables in the troposphere (up to 11,000 m amsl).</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    ret = 153.8462f * temp * (1.0f - expf(0.190259<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> * logf(scaling)));</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">// return current scale factor that converts from equivalent to true airspeed</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">// valid for altitudes up to 10km AMSL</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// assumes standard atmosphere lapse rate</span></div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a0115c37618652051c1f6efd072fcc74b">  316</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#a0115c37618652051c1f6efd072fcc74b">AP_Baro::get_EAS2TAS</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a> = <a class="code" href="classAP__Baro.html#a50ae73cce1699d88638e3dfab4ffd330">get_altitude</a>();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> ((fabsf(<a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a> - <a class="code" href="classAP__Baro.html#ac798d7a4c79480ac8d8d3cfd25a6d38f">_last_altitude_EAS2TAS</a>) &lt; 25.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>) &amp;&amp; !<a class="code" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code" href="classAP__Baro.html#a14419ec70362bea5ada11f198957f0e4">_EAS2TAS</a>)) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="comment">// not enough change to require re-calculating</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#a14419ec70362bea5ada11f198957f0e4">_EAS2TAS</a>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// only estimate lapse rate for the difference from the ground location</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// provides a more consistent reading then trying to estimate a complete</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// ISA model atmosphere</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">float</span> tempK = <a class="code" href="classAP__Baro.html#a932c39564d42db7594dc132eb6703919">get_ground_temperature</a>() + <a class="code" href="definitions_8h.html#a52c2fdb7a991a9aeea4e92cb047ea7e7">C_TO_KELVIN</a> - <a class="code" href="definitions_8h.html#ad6b1e57bc920c85a176ca7d4995c51d9">ISA_LAPSE_RATE</a> * <a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> eas2tas_squared = <a class="code" href="definitions_8h.html#a2b3e4e807917d73b40de13ee287fb37c">SSL_AIR_DENSITY</a> / ((float)<a class="code" href="classAP__Baro.html#a41b3c00624c78b883413b53fc5a81a32">get_pressure</a>() / (<a class="code" href="definitions_8h.html#aaf03f8cf3cf92e64dd5c1865111c365b">ISA_GAS_CONSTANT</a> * tempK));</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(eas2tas_squared)) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">return</span> 1.0;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="classAP__Baro.html#a14419ec70362bea5ada11f198957f0e4">_EAS2TAS</a> = sqrtf(eas2tas_squared);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="classAP__Baro.html#ac798d7a4c79480ac8d8d3cfd25a6d38f">_last_altitude_EAS2TAS</a> = <a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#a14419ec70362bea5ada11f198957f0e4">_EAS2TAS</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">// return air density / sea level density - decreases as altitude climbs</span></div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classAP__Baro.html#ab313ca72951292ae6d6f6a06ec21d123">  338</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#ab313ca72951292ae6d6f6a06ec21d123">AP_Baro::get_air_density_ratio</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> eas2tas = <a class="code" href="classAP__Baro.html#a0115c37618652051c1f6efd072fcc74b">get_EAS2TAS</a>();</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (eas2tas &gt; 0.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">return</span> 1.0f/(<a class="code" href="AP__Math_8h.html#a0375e3d67fd3911cacee5c3e1408c0f2">sq</a>(eas2tas));</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span> 1.0f;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">// return current climb_rate estimate relative to time that calibrate()</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">// was called. Returns climb rate in meters/s, positive means up</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">// note that this relies on read() being called regularly to get new data</span></div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classAP__Baro.html#afd63ca7ecadb313c2217bd9f7e6a7b42">  351</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#afd63ca7ecadb313c2217bd9f7e6a7b42">AP_Baro::get_climb_rate</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a73c822d790be85622db617adf45fc0f0">_hil</a>.have_alt) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#a73c822d790be85622db617adf45fc0f0">_hil</a>.climb_rate;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// we use a 7 point derivative filter on the climb rate. This seems</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// to produce somewhat reasonable results on real hardware</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#a540c2baa114c2295a54c30e75257dcee">_climb_rate_filter</a>.<a class="code" href="classDerivativeFilter.html#a8641b45206ea4b901e86f67a49de6fc8">slope</a>() * 1.0e3f;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">// returns the ground temperature in degrees C, selecting either a user</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">// provided one, or the internal estimate</span></div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a932c39564d42db7594dc132eb6703919">  363</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#a932c39564d42db7594dc132eb6703919">AP_Baro::get_ground_temperature</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code" href="classAP__Baro.html#a07e6bb1ae813f927b5159db0f96ed160">_user_ground_temperature</a>)) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#a5f9cd805004a3a931e4eb82a83a8c917">_guessed_ground_temperature</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#a07e6bb1ae813f927b5159db0f96ed160">_user_ground_temperature</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">  set external temperature to be used for calibration (degrees C)</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a6efd89cc278ac45acd3bc35ce38f5505">  376</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#a6efd89cc278ac45acd3bc35ce38f5505">AP_Baro::set_external_temperature</a>(<span class="keywordtype">float</span> <a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="classAP__Baro.html#afaf3cefa9299b1c3f4083920dc35a0e5">_external_temperature</a> = <a class="code" href="classAP__Baro.html#adb9c6ecd586c4218cf20c835601ea3df">temperature</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="classAP__Baro.html#aca944bccac83d09b604b218ff2e05e39">_last_external_temperature_ms</a> = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">  get the temperature in degrees C to be used for calibration purposes</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a8affc3caba94e5dc21192f39a04a8b69">  385</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#a0bdd3c41ed13e7d3b6e71bbc6fd05fd9">AP_Baro::get_external_temperature</a>(<span class="keyword">const</span> uint8_t <a class="code" href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// if we have a recent external temperature then use it</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#aca944bccac83d09b604b218ff2e05e39">_last_external_temperature_ms</a> != 0 &amp;&amp; <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code" href="classAP__Baro.html#aca944bccac83d09b604b218ff2e05e39">_last_external_temperature_ms</a> &lt; 10000) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#afaf3cefa9299b1c3f4083920dc35a0e5">_external_temperature</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    </div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// if we don&#39;t have an external temperature then try to use temperature</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// from the airspeed sensor</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a> *<a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a> = <a class="code" href="classAP__Airspeed.html#a6bfb2eababf55852b35bdff810ca86d1">AP_Airspeed::get_singleton</a>();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#adb9c6ecd586c4218cf20c835601ea3df">temperature</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>-&gt;<a class="code" href="classAP__Airspeed.html#a1f93ae84c30efc1375765b835004e7a9">healthy</a>() &amp;&amp; <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>-&gt;<a class="code" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">get_temperature</a>(<a class="code" href="classAP__Baro.html#adb9c6ecd586c4218cf20c835601ea3df">temperature</a>)) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#adb9c6ecd586c4218cf20c835601ea3df">temperature</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    </div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// if we don&#39;t have an external temperature and airspeed temperature</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// then use the minimum of the barometer temperature and 35 degrees C.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// The reason for not just using the baro temperature is it tends to read high,</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// often 30 degrees above the actual temperature. That means the</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// EAS2TAS tends to be off by quite a large margin, as well as</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// the calculation of altitude difference betweeen two pressures</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// reporting a high temperature will cause the aircraft to</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// estimate itself as flying higher then it actually is.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="AP__Math_8h.html#a321a91de43cfb2e95d40cde314d0a80f">MIN</a>(<a class="code" href="classAP__Baro.html#ae7be7aff322792daa05c01e4f326cc42">get_temperature</a>(<a class="code" href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a>), <a class="code" href="AP__Baro_8cpp.html#a909df6648c8286a4b6c4feb37fdb14f7">INTERNAL_TEMPERATURE_CLAMP</a>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="classAP__Baro.html#ae909b10b5b28f4914405c72da27f557f">  414</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Baro.html#ae909b10b5b28f4914405c72da27f557f">AP_Baro::_add_backend</a>(<a class="code" href="classAP__Baro__Backend.html">AP_Baro_Backend</a> *backend)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span> (!backend) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">_num_drivers</a> &gt;= <a class="code" href="AP__Baro_8h.html#a491240a089a6a7ba869b45f3e6aaa571">BARO_MAX_DRIVERS</a>) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a>(<span class="stringliteral">&quot;Too many barometer drivers&quot;</span>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="classAP__Baro.html#af745e42cd2707ce4fd68f7ed8acf018b">drivers</a>[<a class="code" href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">_num_drivers</a>++] = backend;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">  macro to add a backend with check for too many sensors</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"> We don&#39;t try to start more than the maximum allowed</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">  430</a></span>&#160;<span class="preprocessor">#define ADD_BACKEND(backend) \</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">    do { _add_backend(backend);     \</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">       if (_num_drivers == BARO_MAX_DRIVERS || \</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">          _num_sensors == BARO_MAX_INSTANCES) { \</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">          return; \</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor">       } \</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">  initialise the barometer object, loading backend drivers</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a942db790233528bfbb4d9a07c3454360">  441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#a942db790233528bfbb4d9a07c3454360">AP_Baro::init</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// ensure that there isn&#39;t a previous ground temperature saved</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code" href="classAP__Baro.html#a07e6bb1ae813f927b5159db0f96ed160">_user_ground_temperature</a>)) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <a class="code" href="classAP__Baro.html#a07e6bb1ae813f927b5159db0f96ed160">_user_ground_temperature</a>.set_and_save(0.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="classAP__Baro.html#a07e6bb1ae813f927b5159db0f96ed160">_user_ground_temperature</a>.notify();</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#adc9ea1ec9586d6654d241c96d15f75a5">_hil_mode</a>) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="classAP__Baro.html#af745e42cd2707ce4fd68f7ed8acf018b">drivers</a>[0] = <span class="keyword">new</span> <a class="code" href="classAP__Baro__HIL.html">AP_Baro_HIL</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">_num_drivers</a> = 1;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="preprocessor">#if HAL_WITH_UAVCAN</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// Detect UAVCAN Modules, try as many times as there are driver slots</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; <a class="code" href="AP__Baro_8h.html#a491240a089a6a7ba869b45f3e6aaa571">BARO_MAX_DRIVERS</a>; i++) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__UAVCAN.html#a40a5b8eab142ed4da7f3f93a4145d917">AP_Baro_UAVCAN::probe</a>(*<span class="keyword">this</span>));</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#if defined(HAL_BARO_PROBE_LIST)</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">// probe list from BARO lines in hwdef.dat</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    HAL_BARO_PROBE_LIST;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="preprocessor">#elif AP_FEATURE_BOARD_DETECT</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classAP__BoardConfig.html#a8a3185c191ab40fd95ceeadd8a5b0cf9">AP_BoardConfig::get_board_type</a>()) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983acf567833f77e46ce320a961f68611bff">AP_BoardConfig::PX4_BOARD_PX4V1</a>:</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">#ifdef HAL_BARO_MS5611_I2C_BUS</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_MS5611_I2C_BUS, <a class="code" href="AP__Baro__MS5611_8h.html#aaf0ce53525206cfe1311cbf23d4b14d2">HAL_BARO_MS5611_I2C_ADDR</a>))));</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983aa765b43df6cbdb15f9720f993d79ceb3">AP_BoardConfig::PX4_BOARD_PIXHAWK</a>:</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983aa4b366ff17e0c44076231ae8c51edd42">AP_BoardConfig::PX4_BOARD_PHMINI</a>:</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a922eeb71ccd9862923f68246f86bb667">AP_BoardConfig::PX4_BOARD_AUAV21</a>:</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a78f917fc079eb5acb3e9623f0bbe0ff9">AP_BoardConfig::PX4_BOARD_PH2SLIM</a>:</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a05ec778f42256d22fbdf58c458707b38">AP_BoardConfig::PX4_BOARD_PIXHAWK_PRO</a>:</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a>))));</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983ad387380811280b3f995f8387ab50264e">AP_BoardConfig::PX4_BOARD_PIXHAWK2</a>:</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a2548b608826699e872a2de7f4e1ff877">AP_BoardConfig::PX4_BOARD_SP01</a>:</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a1903be1deb40405d8bf59de5ce9a9077">HAL_BARO_MS5611_SPI_EXT_NAME</a>))));</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a>))));</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a6aaf12ce90b5b9586d350af949ab84a0">AP_BoardConfig::PX4_BOARD_MINDPXV2</a>:</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a>))));</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a97426996f59ed4a7534cfd7bb6a3174a">AP_BoardConfig::PX4_BOARD_AEROFC</a>:</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor">#ifdef HAL_BARO_MS5607_I2C_BUS</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_MS5607_I2C_BUS, <a class="code" href="AP__Baro__MS5611_8h.html#ab1fc257a77960bdfab4eb69f4f1dfbf2">HAL_BARO_MS5607_I2C_ADDR</a>)),</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                          <a class="code" href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09a3c04e3e6bb015272b9d1f732cadc0685">AP_Baro_MS56XX::BARO_MS5607</a>));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a3c5386db31b5c706894441bb6279eefc">AP_BoardConfig::VRX_BOARD_BRAIN54</a>:</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a>))));</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a1903be1deb40405d8bf59de5ce9a9077">HAL_BARO_MS5611_SPI_EXT_NAME</a>))));</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">#ifdef HAL_BARO_MS5611_SPI_IMU_NAME</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(HAL_BARO_MS5611_SPI_IMU_NAME))));</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a212c2ff8c6c4ada3668b927ac6728a87">AP_BoardConfig::VRX_BOARD_BRAIN51</a>:</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a939e3484a227aa39019088ac96a9cfd3">AP_BoardConfig::VRX_BOARD_BRAIN52</a>:</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983aedbfaade4bc5663cfd73a8652235bb30">AP_BoardConfig::VRX_BOARD_BRAIN52E</a>:</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a2f0a5b6527161d6a622728dfe8fd4023">AP_BoardConfig::VRX_BOARD_CORE10</a>:</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a53e500f8c050e0ae471194b0fca121cb">AP_BoardConfig::VRX_BOARD_UBRAIN51</a>:</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a122ab74c52fd603b79d0b2c0b5651ed5">AP_BoardConfig::VRX_BOARD_UBRAIN52</a>:</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a>))));</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983ac37e0c90b91e19c9b6945baa8b05b278">AP_BoardConfig::PX4_BOARD_PCNC1</a>:</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__ICM20789.html#a2e0e725561f9b022d67f24f025433395">AP_Baro_ICM20789::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                                            std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(1, 0x63)),</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                                            std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a7e7ec91ec2955e149b39f0df332b3325">HAL_INS_MPU60x0_NAME</a>))));</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a6f39405e261af307e647f079d8a6ec56">AP_BoardConfig::PX4_BOARD_FMUV5</a>:</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983ae3bc20831e04c6038b9ad40680003eda">AP_BoardConfig::PX4_BOARD_FMUV6</a>:</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a>))));</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#elif CONFIG_HAL_BOARD == HAL_BOARD_SITL</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="classSITL_1_1SITL.html">SITL::SITL</a> *<a class="code" href="namespaceAP.html#ab2991c8a02a28bf52b0aba35d9c3bc2f">sitl</a> = <a class="code" href="namespaceAP.html#ab2991c8a02a28bf52b0aba35d9c3bc2f">AP::sitl</a>();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceAP.html#ab2991c8a02a28bf52b0aba35d9c3bc2f">sitl</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a>(<span class="stringliteral">&quot;No SITL pointer&quot;</span>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceAP.html#ab2991c8a02a28bf52b0aba35d9c3bc2f">sitl</a>-&gt;<a class="code" href="classSITL_1_1SITL.html#ad2afe2926a48509354ee84a0968fee22">baro_count</a> &gt; 1) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        ::fprintf(stderr, <span class="stringliteral">&quot;More than one baro not supported.  Sorry.&quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceAP.html#ab2991c8a02a28bf52b0aba35d9c3bc2f">sitl</a>-&gt;<a class="code" href="classSITL_1_1SITL.html#ad2afe2926a48509354ee84a0968fee22">baro_count</a> == 1) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<span class="keyword">new</span> <a class="code" href="classAP__Baro.html#a1bb0c6bd831874e040c6b51b7de6e63a">AP_Baro_SITL</a>(*<span class="keyword">this</span>));</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_HIL</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="classAP__Baro.html#af745e42cd2707ce4fd68f7ed8acf018b">drivers</a>[0] = <span class="keyword">new</span> <a class="code" href="classAP__Baro__HIL.html">AP_Baro_HIL</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">_num_drivers</a> = 1;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_BMP085</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__BMP085.html#a69c38a5c48eee9438899195eb66cbaaf">AP_Baro_BMP085::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_BMP085_BUS, <a class="code" href="AP__Baro__BMP085_8h.html#af1239bda63efcfcf20d0011d0d153320">HAL_BARO_BMP085_I2C_ADDR</a>))));</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_BMP280_I2C</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__BMP280.html#af8a73b9644744972054c2ec0d6b940be">AP_Baro_BMP280::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_BMP280_BUS, <a class="code" href="AP__Baro__BMP280_8h.html#abab1a76525223fd61fc655fe5a75c9f9">HAL_BARO_BMP280_I2C_ADDR</a>))));</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_BMP280_SPI</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__BMP280.html#af8a73b9644744972054c2ec0d6b940be">AP_Baro_BMP280::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#ab9184b93b37c76df2b3cc83924a04d72">HAL_BARO_BMP280_NAME</a>))));</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_MS5611_I2C</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_MS5611_I2C_BUS, <a class="code" href="AP__Baro__MS5611_8h.html#aaf0ce53525206cfe1311cbf23d4b14d2">HAL_BARO_MS5611_I2C_ADDR</a>))));</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_MS5611_SPI</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a>))));</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_MS5607_I2C</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_MS5607_I2C_BUS, <a class="code" href="AP__Baro__MS5611_8h.html#ab1fc257a77960bdfab4eb69f4f1dfbf2">HAL_BARO_MS5607_I2C_ADDR</a>)),</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                      <a class="code" href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09a3c04e3e6bb015272b9d1f732cadc0685">AP_Baro_MS56XX::BARO_MS5607</a>));</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_MS5637_I2C</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_MS5637_I2C_BUS, <a class="code" href="AP__Baro__MS5611_8h.html#a51c1f9ec702b4e42f1dd6e972a962453">HAL_BARO_MS5637_I2C_ADDR</a>)),</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                      <a class="code" href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09ab2ddf5ebc6f5e3ad8cb60a4e8578006a">AP_Baro_MS56XX::BARO_MS5637</a>));</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_FBM320_I2C</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__FBM320.html#a7f04f6436e0bb4c371b6d6ca88b3f063">AP_Baro_FBM320::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_FBM320_I2C_BUS, <a class="code" href="AP__Baro__FBM320_8h.html#a9b9db458ea3dfab5d51c2f9ce1364517">HAL_BARO_FBM320_I2C_ADDR</a>))));</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_DPS280_I2C</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__DPS280.html#aa6c85fedab452b904e29974a14125e49">AP_Baro_DPS280::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_DPS280_I2C_BUS, <a class="code" href="AP__Baro__DPS280_8h.html#a0320a7b7c19be504d1f119bf840f2bb4">HAL_BARO_DPS280_I2C_ADDR</a>))));</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_DPS280_SPI</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__DPS280.html#aa6c85fedab452b904e29974a14125e49">AP_Baro_DPS280::probe</a>(*<span class="keyword">this</span>, std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<span class="stringliteral">&quot;dps280&quot;</span>))));</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_LPS25H</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__LPS2XH.html#a0e81e0d16b288a7012dfe3ec5e8f8e22">AP_Baro_LPS2XH::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(<a class="code" href="AP__Baro__LPS2XH_8h.html#a5d6744356c6b98c344115947d06edc44">HAL_BARO_LPS25H_I2C_BUS</a>, <a class="code" href="AP__Baro__LPS2XH_8h.html#af0bc947d94490465fbeb9d2706766b33">HAL_BARO_LPS25H_I2C_ADDR</a>))));</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_LPS25H_IMU_I2C</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__LPS2XH.html#aaae9261b471bf02990556a4ed016f57d">AP_Baro_LPS2XH::probe_InvensenseIMU</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                                    std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(<a class="code" href="AP__Baro__LPS2XH_8h.html#a5d6744356c6b98c344115947d06edc44">HAL_BARO_LPS25H_I2C_BUS</a>, <a class="code" href="AP__Baro__LPS2XH_8h.html#af0bc947d94490465fbeb9d2706766b33">HAL_BARO_LPS25H_I2C_ADDR</a>)),</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                                    HAL_BARO_LPS25H_I2C_IMU_ADDR));</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_20789_I2C_I2C</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__ICM20789.html#a2e0e725561f9b022d67f24f025433395">AP_Baro_ICM20789::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                        std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_20789_I2C_BUS, HAL_BARO_20789_I2C_ADDR_PRESS)),</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                        std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_20789_I2C_BUS, HAL_BARO_20789_I2C_ADDR_ICM))));</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_20789_I2C_SPI</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__ICM20789.html#a2e0e725561f9b022d67f24f025433395">AP_Baro_ICM20789::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                        std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_20789_I2C_BUS, HAL_BARO_20789_I2C_ADDR_PRESS)),</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                        std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<span class="stringliteral">&quot;icm20789&quot;</span>))));</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_LPS22H_SPI</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__LPS2XH.html#a0e81e0d16b288a7012dfe3ec5e8f8e22">AP_Baro_LPS2XH::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">spi</a>-&gt;<a class="code" href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">get_device</a>(<a class="code" href="chibios_8h.html#a575721c40e2c4ee9f849f8ee5c446919">HAL_BARO_LPS22H_NAME</a>))));</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#elif HAL_BARO_DEFAULT == HAL_BARO_LPS22H_I2C</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__LPS2XH.html#a0e81e0d16b288a7012dfe3ec5e8f8e22">AP_Baro_LPS2XH::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                      std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(HAL_BARO_LPS22H_I2C_BUS, HAL_BARO_LPS22H_I2C_ADDR))));</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// can optionally have baro on I2C too</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a222e10c07e8a308034b723ed5d5464e2">_ext_bus</a> &gt;= 0) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="preprocessor">#if APM_BUILD_TYPE(APM_BUILD_ArduSub)</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(<a class="code" href="classAP__Baro.html#a222e10c07e8a308034b723ed5d5464e2">_ext_bus</a>, <a class="code" href="AP__Baro__MS5611_8h.html#aa3cdbd1ee410d162335de866a5042b44">HAL_BARO_MS5837_I2C_ADDR</a>)), <a class="code" href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09a3185dd5623d8bee5ef8c5d6f90b5c95c">AP_Baro_MS56XX::BARO_MS5837</a>));</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__KellerLD.html#aba415891be0779268ce2e84a4deea0aa">AP_Baro_KellerLD::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(<a class="code" href="classAP__Baro.html#a222e10c07e8a308034b723ed5d5464e2">_ext_bus</a>, <a class="code" href="AP__Baro__KellerLD_8h.html#aa5f207105271ea933533b5a08e971d3b">HAL_BARO_KELLERLD_I2C_ADDR</a>))));</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                          std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(<a class="code" href="classAP__Baro.html#a222e10c07e8a308034b723ed5d5464e2">_ext_bus</a>, <a class="code" href="AP__Baro__MS5611_8h.html#aaf0ce53525206cfe1311cbf23d4b14d2">HAL_BARO_MS5611_I2C_ADDR</a>))));</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="preprocessor">#ifdef HAL_PROBE_EXTERNAL_I2C_BAROS</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classAP__Baro.html#a4bfd06fe28cf3a7bc6df55bc159c8dff">_probe_i2c_barometers</a>();</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="preprocessor">#if !defined(HAL_BARO_ALLOW_INIT_NO_BARO) // most boards requires external baro</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">_num_drivers</a> == 0 || <a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a> == 0 || <a class="code" href="classAP__Baro.html#af745e42cd2707ce4fd68f7ed8acf018b">drivers</a>[0] == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <a class="code" href="classAP__BoardConfig.html#ab7d977aecbbe7090266bee755bf2cc32">AP_BoardConfig::sensor_config_error</a>(<span class="stringliteral">&quot;Baro: unable to initialise driver&quot;</span>);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">  probe all the i2c barometers enabled with GND_PROBE_EXT. This is</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">  used on boards without a builtin barometer</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a4bfd06fe28cf3a7bc6df55bc159c8dff">  638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#a4bfd06fe28cf3a7bc6df55bc159c8dff">AP_Baro::_probe_i2c_barometers</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    uint32_t probe = <a class="code" href="classAP__Baro.html#a89b9b86c26f0b3a0101fb01d521508ea">_baro_probe_ext</a>.get();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    uint32_t mask = <a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a09948543da1eee78f03cb92e3677bf00">get_bus_mask_external</a>();</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__BoardConfig.html#a8a3185c191ab40fd95ceeadd8a5b0cf9">AP_BoardConfig::get_board_type</a>() == <a class="code" href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983ad387380811280b3f995f8387ab50264e">AP_BoardConfig::PX4_BOARD_PIXHAWK2</a>) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="comment">// for the purpose of baro probing, treat CubeBlack internal i2c as external. It has</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="comment">// no internal i2c baros, so this is safe</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        mask |= <a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a309ccc91401ea05fe1af36561cdf84e1">get_bus_mask_internal</a>();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// if the user has set GND_EXT_BUS then probe the bus given by that parameter</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    int8_t ext_bus = <a class="code" href="classAP__Baro.html#a222e10c07e8a308034b723ed5d5464e2">_ext_bus</a>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span> (ext_bus &gt;= 0) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        mask = 1U &lt;&lt; (uint8_t)ext_bus;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a0fb8d0ba6739efdf6a3b222b5b29532a">PROBE_BMP085</a>) {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__BMP085.html#a69c38a5c48eee9438899195eb66cbaaf">AP_Baro_BMP085::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__BMP085_8h.html#af1239bda63efcfcf20d0011d0d153320">HAL_BARO_BMP085_I2C_ADDR</a>))));</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4ab718f1c21e836ad365478a197ab60f41">PROBE_BMP280</a>) {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__BMP280.html#af8a73b9644744972054c2ec0d6b940be">AP_Baro_BMP280::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__BMP280_8h.html#abab1a76525223fd61fc655fe5a75c9f9">HAL_BARO_BMP280_I2C_ADDR</a>))));</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__BMP280.html#af8a73b9644744972054c2ec0d6b940be">AP_Baro_BMP280::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__BMP280_8h.html#aaa5c3ddf70957e87bd81c7b7c6c02645">HAL_BARO_BMP280_I2C_ADDR2</a>))));</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4aa4ca414f6a22481aa0603ad163fe0fc5">PROBE_MS5611</a>) {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__MS5611_8h.html#aaf0ce53525206cfe1311cbf23d4b14d2">HAL_BARO_MS5611_I2C_ADDR</a>))));</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__MS5611_8h.html#accfaa8e0e318a88bb711ee5b944b3783">HAL_BARO_MS5611_I2C_ADDR2</a>))));</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a800c6e4576d52dffcf81a82953633aa2">PROBE_MS5607</a>) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__MS5611_8h.html#ab1fc257a77960bdfab4eb69f4f1dfbf2">HAL_BARO_MS5607_I2C_ADDR</a>)),</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                                              <a class="code" href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09a3c04e3e6bb015272b9d1f732cadc0685">AP_Baro_MS56XX::BARO_MS5607</a>));</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a608fe18a79e464c490990924e0a8083a">PROBE_MS5637</a>) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__MS5611_8h.html#a51c1f9ec702b4e42f1dd6e972a962453">HAL_BARO_MS5637_I2C_ADDR</a>)),</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                                              <a class="code" href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09ab2ddf5ebc6f5e3ad8cb60a4e8578006a">AP_Baro_MS56XX::BARO_MS5637</a>));</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a43cde2a98b2f54a3c81f05d32e089b9b">PROBE_FBM320</a>) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__FBM320.html#a7f04f6436e0bb4c371b6d6ca88b3f063">AP_Baro_FBM320::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__FBM320_8h.html#a9b9db458ea3dfab5d51c2f9ce1364517">HAL_BARO_FBM320_I2C_ADDR</a>))));</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__FBM320.html#a7f04f6436e0bb4c371b6d6ca88b3f063">AP_Baro_FBM320::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__FBM320_8h.html#afca0c2a79782f493381bfdf8ce0bcdc2">HAL_BARO_FBM320_I2C_ADDR2</a>))));</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4ac6ece6364a97ab4b809af83e3c6915b4">PROBE_DPS280</a>) {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__DPS280.html#aa6c85fedab452b904e29974a14125e49">AP_Baro_DPS280::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__DPS280_8h.html#a0320a7b7c19be504d1f119bf840f2bb4">HAL_BARO_DPS280_I2C_ADDR</a>))));</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__DPS280.html#aa6c85fedab452b904e29974a14125e49">AP_Baro_DPS280::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__DPS280_8h.html#aee748893ea2416e3c91ef47ca9e0e465">HAL_BARO_DPS280_I2C_ADDR2</a>))));</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a2b2664a8f5ef13820836b44a6a79288e">PROBE_LPS25H</a>) {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__LPS2XH.html#a0e81e0d16b288a7012dfe3ec5e8f8e22">AP_Baro_LPS2XH::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__LPS2XH_8h.html#af0bc947d94490465fbeb9d2706766b33">HAL_BARO_LPS25H_I2C_ADDR</a>))));</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a2b2664a8f5ef13820836b44a6a79288e">PROBE_LPS25H</a>) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__KellerLD.html#aba415891be0779268ce2e84a4deea0aa">AP_Baro_KellerLD::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                                std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__KellerLD_8h.html#aa5f207105271ea933533b5a08e971d3b">HAL_BARO_KELLERLD_I2C_ADDR</a>))));</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (probe &amp; <a class="code" href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4afa396876f0f731b7332bd021f1b376d0">PROBE_MS5837</a>) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a>(i,mask) {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <a class="code" href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a>(<a class="code" href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a>(*<span class="keyword">this</span>,</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                                              std::move(<a class="code" href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">i2c_mgr</a>-&gt;<a class="code" href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">get_device</a>(i, <a class="code" href="AP__Baro__MS5611_8h.html#aa3cdbd1ee410d162335de866a5042b44">HAL_BARO_MS5837_I2C_ADDR</a>)), <a class="code" href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09a3185dd5623d8bee5ef8c5d6f90b5c95c">AP_Baro_MS56XX::BARO_MS5837</a>));</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="classAP__Baro.html#ae7ce0a42b45f66362123352494ab0eda">  724</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Baro.html#ae7ce0a42b45f66362123352494ab0eda">AP_Baro::should_log</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="classAP__Logger.html">AP_Logger</a> *<a class="code" href="AHRS__Test_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a> = <a class="code" href="classAP__Logger.html#a7dfeda4dc3df2edc8531110c9d7252dc">AP_Logger::get_singleton</a>();</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AHRS__Test_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a7b0026314b715c57291c40ce61ea5fe3">_log_baro_bit</a> == (uint32_t)-1) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AHRS__Test_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a>-&gt;<a class="code" href="classAP__Logger.html#a8bed25359bc401b7d00def25bd8173b9">should_log</a>(<a class="code" href="classAP__Baro.html#a7b0026314b715c57291c40ce61ea5fe3">_log_baro_bit</a>)) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">  call update on all drivers</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a51144302ade095d22cafe8fa4928fd29">  742</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#a51144302ade095d22cafe8fa4928fd29">AP_Baro::update</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="Semaphores_8h.html#a819dd9ac6de800cdf1014b0a922b67d4">WITH_SEMAPHORE</a>(<a class="code" href="classAP__Baro.html#a3fa71ca5279d7ad3e349cc6c0bf549fc">_rsem</a>);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (fabsf(<a class="code" href="classAP__Baro.html#a0ac3f7a7f0c7709a30ebc6ab98643ed9">_alt_offset</a> - <a class="code" href="classAP__Baro.html#a23b1585f1ad04daa69cb51e9c3632ab4">_alt_offset_active</a>) &gt; 0.01<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="comment">// If there&#39;s more than 1cm difference then slowly slew to it via LPF.</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="comment">// The EKF does not like step inputs so this keeps it happy.</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <a class="code" href="classAP__Baro.html#a23b1585f1ad04daa69cb51e9c3632ab4">_alt_offset_active</a> = (0.95f*<a class="code" href="classAP__Baro.html#a23b1585f1ad04daa69cb51e9c3632ab4">_alt_offset_active</a>) + (0.05<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>*<a class="code" href="classAP__Baro.html#a0ac3f7a7f0c7709a30ebc6ab98643ed9">_alt_offset</a>);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="classAP__Baro.html#a23b1585f1ad04daa69cb51e9c3632ab4">_alt_offset_active</a> = <a class="code" href="classAP__Baro.html#a0ac3f7a7f0c7709a30ebc6ab98643ed9">_alt_offset</a>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Baro.html#adc9ea1ec9586d6654d241c96d15f75a5">_hil_mode</a>) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">_num_drivers</a>; i++) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <a class="code" href="classAP__Baro.html#af745e42cd2707ce4fd68f7ed8acf018b">drivers</a>[i]-&gt;<a class="code" href="classAP__Baro__Backend.html#afa358da6741812390e7e0009020944f6">backend_update</a>(i);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="comment">// update altitude calculation</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordtype">float</span> ground_pressure = <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0a26688e5dafabb550571b6341655a12">ground_pressure</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(ground_pressure) || isnan(ground_pressure) || isinf(ground_pressure)) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0a26688e5dafabb550571b6341655a12">ground_pressure</a> = <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#ac78bcc8b22d5c8623f04ce5ef8af938c">pressure</a>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="keywordtype">float</span> <a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a> = <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a6271a78e7d60d7f4087c0a0c9cece22d">altitude</a>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordtype">float</span> corrected_pressure = <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#ac78bcc8b22d5c8623f04ce5ef8af938c">pressure</a> + <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a27abcb4f295b00f20a4a8e49282369d8">p_correction</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structtype.html">type</a> == <a class="code" href="classAP__Baro.html#a64325d2127f10ef8d0a1da55f5bcd020a16a5811033431325dc7c9458b5335aed">BARO_TYPE_AIR</a>) {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                <a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a> = <a class="code" href="classAP__Baro.html#a54dee5f283f1b59007fd4872db0f6eea">get_altitude_difference</a>(<a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].ground_pressure, corrected_pressure);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structtype.html">type</a> == <a class="code" href="classAP__Baro.html#a64325d2127f10ef8d0a1da55f5bcd020a585c9a564d3f10a21024a0b228fa179e">BARO_TYPE_WATER</a>) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="comment">//101325Pa is sea level air pressure, 9800 Pascal/ m depth in water.</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <span class="comment">//No temperature or depth compensation for density of water.</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a> = (<a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a0a26688e5dafabb550571b6341655a12">ground_pressure</a> - corrected_pressure) / 9800.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> / <a class="code" href="classAP__Baro.html#a21e014d95abbc0158523ac29256c4b9c">_specific_gravity</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="comment">// sanity check altitude</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a34dcd28c562002e52c19b3ebf6e7085f">alt_ok</a> = !(isnan(<a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a>) || isinf(<a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a>));</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].alt_ok) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[i].<a class="code" href="structAP__Baro_1_1sensor.html#a6271a78e7d60d7f4087c0a0c9cece22d">altitude</a> = <a class="code" href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">altitude</a> + <a class="code" href="classAP__Baro.html#a23b1585f1ad04daa69cb51e9c3632ab4">_alt_offset_active</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a73c822d790be85622db617adf45fc0f0">_hil</a>.have_alt) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[0].<a class="code" href="structAP__Baro_1_1sensor.html#a6271a78e7d60d7f4087c0a0c9cece22d">altitude</a> = <a class="code" href="classAP__Baro.html#a73c822d790be85622db617adf45fc0f0">_hil</a>.altitude;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a73c822d790be85622db617adf45fc0f0">_hil</a>.have_last_update) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[0].<a class="code" href="structAP__Baro_1_1sensor.html#a524b81f9b0411cf62f070574c4b7f45c">last_update_ms</a> = <a class="code" href="classAP__Baro.html#a73c822d790be85622db617adf45fc0f0">_hil</a>.last_update_ms;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// ensure the climb rate filter is updated</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>()) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <a class="code" href="classAP__Baro.html#a540c2baa114c2295a54c30e75257dcee">_climb_rate_filter</a>.<a class="code" href="classDerivativeFilter.html#a3dc3710f5d9fba8d264a473d6a297be2">update</a>(<a class="code" href="classAP__Baro.html#a50ae73cce1699d88638e3dfab4ffd330">get_altitude</a>(), <a class="code" href="classAP__Baro.html#a6d51aa8a0b2e283837b5eab833bd5137">get_last_update</a>());</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// choose primary sensor</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#a488b0b6bb0f29c3a6449877532e617f2">_primary_baro</a> &gt;= 0 &amp;&amp; <a class="code" href="classAP__Baro.html#a488b0b6bb0f29c3a6449877532e617f2">_primary_baro</a> &lt; <a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a> &amp;&amp; <a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>(<a class="code" href="classAP__Baro.html#a488b0b6bb0f29c3a6449877532e617f2">_primary_baro</a>)) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="classAP__Baro.html#a5fee88ec98651a6ac57f713257c17d81">_primary</a> = <a class="code" href="classAP__Baro.html#a488b0b6bb0f29c3a6449877532e617f2">_primary_baro</a>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="classAP__Baro.html#a5fee88ec98651a6ac57f713257c17d81">_primary</a> = 0;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>(i)) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <a class="code" href="classAP__Baro.html#a5fee88ec98651a6ac57f713257c17d81">_primary</a> = i;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// logging</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#ae7ce0a42b45f66362123352494ab0eda">should_log</a>() &amp;&amp; !<a class="code" href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a>().have_ekf_logging()) {</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <a class="code" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code" href="classAP__Logger.html#ac57d171a2f3567f5d0a8f839f2c88ac4">Write_Baro</a>();</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">  call accumulate on all drivers</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a81aef89650ab598e41396ee90b461ed9">  817</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#a81aef89650ab598e41396ee90b461ed9">AP_Baro::accumulate</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">_num_drivers</a>; i++) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="classAP__Baro.html#af745e42cd2707ce4fd68f7ed8acf018b">drivers</a>[i]-&gt;<a class="code" href="classAP__Baro__Backend.html#a3936dcd0925b53c30203fc42f909b327">accumulate</a>();</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">/* register a new sensor, claiming a sensor slot. If we are out of</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">   slots it will panic</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a2679b96d8c843053af9c658ff3efad73">  828</a></span>&#160;uint8_t <a class="code" href="classAP__Baro.html#a2679b96d8c843053af9c658ff3efad73">AP_Baro::register_sensor</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;{</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a> &gt;= <a class="code" href="AP__Baro_8h.html#afc734c99d3a6ed4a3fd26b4dff1ae78f">BARO_MAX_INSTANCES</a>) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <a class="code" href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a>(<span class="stringliteral">&quot;Too many barometers&quot;</span>);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>++;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">  check if all barometers are healthy</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="classAP__Baro.html#ac7e5af6f5164d5e107500b45343df85d">  840</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Baro.html#ac7e5af6f5164d5e107500b45343df85d">AP_Baro::all_healthy</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;     <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>; i++) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">healthy</a>(i)) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;             <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;         }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;     }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a> &gt; 0;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;}</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">// set a pressure correction from AP_TempCalibration</span></div><div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="classAP__Baro.html#a61e7504bc66a005160a027a5b6dd8a13">  851</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Baro.html#a61e7504bc66a005160a027a5b6dd8a13">AP_Baro::set_pressure_correction</a>(uint8_t <a class="code" href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a>, <span class="keywordtype">float</span> p_correction)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a> &lt; <a class="code" href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">_num_sensors</a>) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">sensors</a>[<a class="code" href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a>].<a class="code" href="structAP__Baro_1_1sensor.html#a27abcb4f295b00f20a4a8e49282369d8">p_correction</a> = p_correction;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceAP.html">AP</a> {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="namespaceAP.html#a8aec57eb0b7a79044cbc1f0ca4b75bcf">  860</a></span>&#160;<a class="code" href="classAP__Baro.html">AP_Baro</a> &amp;<a class="code" href="namespaceAP.html#a8aec57eb0b7a79044cbc1f0ca4b75bcf">baro</a>()</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classAP__Baro.html#a92b0efed71f214529da6c54d692f1d61">AP_Baro::get_singleton</a>();</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;};</div><div class="ttc" id="classAP__Airspeed_html"><div class="ttname"><a href="classAP__Airspeed.html">AP_Airspeed</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00035">AP_Airspeed.h:35</a></div></div>
<div class="ttc" id="AP__Baro__BMP280_8h_html_aaa5c3ddf70957e87bd81c7b7c6c02645"><div class="ttname"><a href="AP__Baro__BMP280_8h.html#aaa5c3ddf70957e87bd81c7b7c6c02645">HAL_BARO_BMP280_I2C_ADDR2</a></div><div class="ttdeci">#define HAL_BARO_BMP280_I2C_ADDR2</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__BMP280_8h_source.html#l00013">AP_Baro_BMP280.h:13</a></div></div>
<div class="ttc" id="classAP__HAL_1_1Util_html_a19cbaa06e0e8804d1669deacf5ad6081"><div class="ttname"><a href="classAP__HAL_1_1Util.html#a19cbaa06e0e8804d1669deacf5ad6081">AP_HAL::Util::was_watchdog_reset</a></div><div class="ttdeci">virtual bool was_watchdog_reset() const</div><div class="ttdef"><b>Definition:</b> <a href="Util_8h_source.html#l00021">Util.h:21</a></div></div>
<div class="ttc" id="chibios_8h_html_a6e302f6d5cfcfdd4f13aaa1068de6270"><div class="ttname"><a href="chibios_8h.html#a6e302f6d5cfcfdd4f13aaa1068de6270">HAL_BARO_MS5611_NAME</a></div><div class="ttdeci">#define HAL_BARO_MS5611_NAME</div><div class="ttdef"><b>Definition:</b> <a href="chibios_8h_source.html#l00052">chibios.h:52</a></div></div>
<div class="ttc" id="classAP__Baro_html_a14419ec70362bea5ada11f198957f0e4"><div class="ttname"><a href="classAP__Baro.html#a14419ec70362bea5ada11f198957f0e4">AP_Baro::_EAS2TAS</a></div><div class="ttdeci">float _EAS2TAS</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00238">AP_Baro.h:238</a></div></div>
<div class="ttc" id="classAP__Baro_html_a07e6bb1ae813f927b5159db0f96ed160"><div class="ttname"><a href="classAP__Baro.html#a07e6bb1ae813f927b5159db0f96ed160">AP_Baro::_user_ground_temperature</a></div><div class="ttdeci">AP_Float _user_ground_temperature</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00243">AP_Baro.h:243</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983aa765b43df6cbdb15f9720f993d79ceb3"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983aa765b43df6cbdb15f9720f993d79ceb3">AP_BoardConfig::PX4_BOARD_PIXHAWK</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00068">AP_BoardConfig.h:68</a></div></div>
<div class="ttc" id="classAP__Baro_html_afd63ca7ecadb313c2217bd9f7e6a7b42"><div class="ttname"><a href="classAP__Baro.html#afd63ca7ecadb313c2217bd9f7e6a7b42">AP_Baro::get_climb_rate</a></div><div class="ttdeci">float get_climb_rate(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00351">AP_Baro.cpp:351</a></div></div>
<div class="ttc" id="AP__Baro__BMP280_8h_html"><div class="ttname"><a href="AP__Baro__BMP280_8h.html">AP_Baro_BMP280.h</a></div></div>
<div class="ttc" id="classAP__Baro__UAVCAN_html_a40a5b8eab142ed4da7f3f93a4145d917"><div class="ttname"><a href="classAP__Baro__UAVCAN.html#a40a5b8eab142ed4da7f3f93a4145d917">AP_Baro_UAVCAN::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro)</div></div>
<div class="ttc" id="AP__Baro_8h_html"><div class="ttname"><a href="AP__Baro_8h.html">AP_Baro.h</a></div></div>
<div class="ttc" id="AP__Baro_8cpp_html_a7892bd201aba77083286e9064aa13bdb"><div class="ttname"><a href="AP__Baro_8cpp.html#a7892bd201aba77083286e9064aa13bdb">HAL_BARO_FILTER_DEFAULT</a></div><div class="ttdeci">#define HAL_BARO_FILTER_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00052">AP_Baro.cpp:52</a></div></div>
<div class="ttc" id="classAP__Baro__MS56XX_html_a7edc0020985cb691bc534af158c04d09a3185dd5623d8bee5ef8c5d6f90b5c95c"><div class="ttname"><a href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09a3185dd5623d8bee5ef8c5d6f90b5c95c">AP_Baro_MS56XX::BARO_MS5837</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00038">AP_Baro_MS5611.h:38</a></div></div>
<div class="ttc" id="classAP__Baro_html_a89b9b86c26f0b3a0101fb01d521508ea"><div class="ttname"><a href="classAP__Baro.html#a89b9b86c26f0b3a0101fb01d521508ea">AP_Baro::_baro_probe_ext</a></div><div class="ttdeci">AP_Int32 _baro_probe_ext</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00253">AP_Baro.h:253</a></div></div>
<div class="ttc" id="chibios_8h_html_a1903be1deb40405d8bf59de5ce9a9077"><div class="ttname"><a href="chibios_8h.html#a1903be1deb40405d8bf59de5ce9a9077">HAL_BARO_MS5611_SPI_EXT_NAME</a></div><div class="ttdeci">#define HAL_BARO_MS5611_SPI_EXT_NAME</div><div class="ttdef"><b>Definition:</b> <a href="chibios_8h_source.html#l00056">chibios.h:56</a></div></div>
<div class="ttc" id="AP__Baro__UAVCAN_8h_html"><div class="ttname"><a href="AP__Baro__UAVCAN_8h.html">AP_Baro_UAVCAN.h</a></div></div>
<div class="ttc" id="Semaphores_8h_html_a819dd9ac6de800cdf1014b0a922b67d4"><div class="ttname"><a href="Semaphores_8h.html#a819dd9ac6de800cdf1014b0a922b67d4">WITH_SEMAPHORE</a></div><div class="ttdeci">#define WITH_SEMAPHORE(sem)</div><div class="ttdef"><b>Definition:</b> <a href="Semaphores_8h_source.html#l00048">Semaphores.h:48</a></div></div>
<div class="ttc" id="classAP__Baro__FBM320_html_a7f04f6436e0bb4c371b6d6ca88b3f063"><div class="ttname"><a href="classAP__Baro__FBM320.html#a7f04f6436e0bb4c371b6d6ca88b3f063">AP_Baro_FBM320::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__FBM320_8cpp_source.html#l00041">AP_Baro_FBM320.cpp:41</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4a0fb8d0ba6739efdf6a3b222b5b29532a"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a0fb8d0ba6739efdf6a3b222b5b29532a">AP_Baro::PROBE_BMP085</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00207">AP_Baro.h:207</a></div></div>
<div class="ttc" id="classAP__Baro_html_a67fd690b15ef9f0f23b3304831ca913a"><div class="ttname"><a href="classAP__Baro.html#a67fd690b15ef9f0f23b3304831ca913a">AP_Baro::update_calibration</a></div><div class="ttdeci">void update_calibration(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00271">AP_Baro.cpp:271</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a8a3185c191ab40fd95ceeadd8a5b0cf9"><div class="ttname"><a href="classAP__BoardConfig.html#a8a3185c191ab40fd95ceeadd8a5b0cf9">AP_BoardConfig::get_board_type</a></div><div class="ttdeci">static enum px4_board_type get_board_type(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00094">AP_BoardConfig.h:94</a></div></div>
<div class="ttc" id="definitions_8h_html_a52c2fdb7a991a9aeea4e92cb047ea7e7"><div class="ttname"><a href="definitions_8h.html#a52c2fdb7a991a9aeea4e92cb047ea7e7">C_TO_KELVIN</a></div><div class="ttdeci">#define C_TO_KELVIN</div><div class="ttdef"><b>Definition:</b> <a href="definitions_8h_source.html#l00074">definitions.h:74</a></div></div>
<div class="ttc" id="classAP__Baro_html_a51144302ade095d22cafe8fa4928fd29"><div class="ttname"><a href="classAP__Baro.html#a51144302ade095d22cafe8fa4928fd29">AP_Baro::update</a></div><div class="ttdeci">void update(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00742">AP_Baro.cpp:742</a></div></div>
<div class="ttc" id="classSITL_1_1SITL_html"><div class="ttname"><a href="classSITL_1_1SITL.html">SITL::SITL</a></div><div class="ttdef"><b>Definition:</b> <a href="SITL_8h_source.html#l00059">SITL.h:59</a></div></div>
<div class="ttc" id="classAP__Baro_html_afaf3cefa9299b1c3f4083920dc35a0e5"><div class="ttname"><a href="classAP__Baro.html#afaf3cefa9299b1c3f4083920dc35a0e5">AP_Baro::_external_temperature</a></div><div class="ttdeci">float _external_temperature</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00239">AP_Baro.h:239</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="classAP__Baro_html_ae7be7aff322792daa05c01e4f326cc42"><div class="ttname"><a href="classAP__Baro.html#ae7be7aff322792daa05c01e4f326cc42">AP_Baro::get_temperature</a></div><div class="ttdeci">float get_temperature(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00063">AP_Baro.h:63</a></div></div>
<div class="ttc" id="classAP__Baro_html_a468b577986f8f5cf62570c140cdb1774"><div class="ttname"><a href="classAP__Baro.html#a468b577986f8f5cf62570c140cdb1774">AP_Baro::_num_drivers</a></div><div class="ttdeci">uint8_t _num_drivers</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00194">AP_Baro.h:194</a></div></div>
<div class="ttc" id="classAP__Baro_html_a2679b96d8c843053af9c658ff3efad73"><div class="ttname"><a href="classAP__Baro.html#a2679b96d8c843053af9c658ff3efad73">AP_Baro::register_sensor</a></div><div class="ttdeci">uint8_t register_sensor(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00828">AP_Baro.cpp:828</a></div></div>
<div class="ttc" id="definitions_8h_html_a2b3e4e807917d73b40de13ee287fb37c"><div class="ttname"><a href="definitions_8h.html#a2b3e4e807917d73b40de13ee287fb37c">SSL_AIR_DENSITY</a></div><div class="ttdeci">#define SSL_AIR_DENSITY</div><div class="ttdef"><b>Definition:</b> <a href="definitions_8h_source.html#l00087">definitions.h:87</a></div></div>
<div class="ttc" id="GCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="classAP__Baro__BMP280_html_af8a73b9644744972054c2ec0d6b940be"><div class="ttname"><a href="classAP__Baro__BMP280.html#af8a73b9644744972054c2ec0d6b940be">AP_Baro_BMP280::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__BMP280_8cpp_source.html#l00052">AP_Baro_BMP280.cpp:52</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983aa4b366ff17e0c44076231ae8c51edd42"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983aa4b366ff17e0c44076231ae8c51edd42">AP_BoardConfig::PX4_BOARD_PHMINI</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00071">AP_BoardConfig.h:71</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a321a91de43cfb2e95d40cde314d0a80f"><div class="ttname"><a href="AP__Math_8h.html#a321a91de43cfb2e95d40cde314d0a80f">MIN</a></div><div class="ttdeci">static auto MIN(const A &amp;one, const B &amp;two) -&gt; decltype(one&lt; two ? one :two)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00202">AP_Math.h:202</a></div></div>
<div class="ttc" id="classAP__Baro_html_a540c2baa114c2295a54c30e75257dcee"><div class="ttname"><a href="classAP__Baro.html#a540c2baa114c2295a54c30e75257dcee">AP_Baro::_climb_rate_filter</a></div><div class="ttdeci">DerivativeFilterFloat_Size7 _climb_rate_filter</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00241">AP_Baro.h:241</a></div></div>
<div class="ttc" id="classAP__Baro_html_ae909b10b5b28f4914405c72da27f557f"><div class="ttname"><a href="classAP__Baro.html#ae909b10b5b28f4914405c72da27f557f">AP_Baro::_add_backend</a></div><div class="ttdeci">bool _add_backend(AP_Baro_Backend *backend)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00414">AP_Baro.cpp:414</a></div></div>
<div class="ttc" id="AP__Baro_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__Baro_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition:</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="AP__Baro__DPS280_8h_html"><div class="ttname"><a href="AP__Baro__DPS280_8h.html">AP_Baro_DPS280.h</a></div></div>
<div class="ttc" id="AP__Baro__BMP280_8h_html_abab1a76525223fd61fc655fe5a75c9f9"><div class="ttname"><a href="AP__Baro__BMP280_8h.html#abab1a76525223fd61fc655fe5a75c9f9">HAL_BARO_BMP280_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_BMP280_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__BMP280_8h_source.html#l00010">AP_Baro_BMP280.h:10</a></div></div>
<div class="ttc" id="definitions_8h_html_aaf03f8cf3cf92e64dd5c1865111c365b"><div class="ttname"><a href="definitions_8h.html#aaf03f8cf3cf92e64dd5c1865111c365b">ISA_GAS_CONSTANT</a></div><div class="ttdeci">#define ISA_GAS_CONSTANT</div><div class="ttdef"><b>Definition:</b> <a href="definitions_8h_source.html#l00082">definitions.h:82</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00100">AP_Param.h:100</a></div></div>
<div class="ttc" id="AP__Baro__KellerLD_8h_html"><div class="ttname"><a href="AP__Baro__KellerLD_8h.html">AP_Baro_KellerLD.h</a></div></div>
<div class="ttc" id="AP__Baro_8h_html_a491240a089a6a7ba869b45f3e6aaa571"><div class="ttname"><a href="AP__Baro_8h.html#a491240a089a6a7ba869b45f3e6aaa571">BARO_MAX_DRIVERS</a></div><div class="ttdeci">#define BARO_MAX_DRIVERS</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00013">AP_Baro.h:13</a></div></div>
<div class="ttc" id="classAP__Baro_html_a21e014d95abbc0158523ac29256c4b9c"><div class="ttname"><a href="classAP__Baro.html#a21e014d95abbc0158523ac29256c4b9c">AP_Baro::_specific_gravity</a></div><div class="ttdeci">AP_Float _specific_gravity</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00242">AP_Baro.h:242</a></div></div>
<div class="ttc" id="AP__Baro_8cpp_html_a13a115f1a1d1480277e4ffff0577f7fa"><div class="ttname"><a href="AP__Baro_8cpp.html#a13a115f1a1d1480277e4ffff0577f7fa">HAL_BARO_PROBE_EXT_DEFAULT</a></div><div class="ttdeci">#define HAL_BARO_PROBE_EXT_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00060">AP_Baro.cpp:60</a></div></div>
<div class="ttc" id="classAP__Baro__MS56XX_html_ad4e1780fe0c684f594cc93ec96a9c876"><div class="ttname"><a href="classAP__Baro__MS56XX.html#ad4e1780fe0c684f594cc93ec96a9c876">AP_Baro_MS56XX::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev, enum MS56XX_TYPE ms56xx_type=BARO_MS5611)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8cpp_source.html#l00064">AP_Baro_MS5611.cpp:64</a></div></div>
<div class="ttc" id="AP__Baro__MS5611_8h_html_accfaa8e0e318a88bb711ee5b944b3783"><div class="ttname"><a href="AP__Baro__MS5611_8h.html#accfaa8e0e318a88bb711ee5b944b3783">HAL_BARO_MS5611_I2C_ADDR2</a></div><div class="ttdeci">#define HAL_BARO_MS5611_I2C_ADDR2</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00014">AP_Baro_MS5611.h:14</a></div></div>
<div class="ttc" id="classAP__Baro_html_a61e7504bc66a005160a027a5b6dd8a13"><div class="ttname"><a href="classAP__Baro.html#a61e7504bc66a005160a027a5b6dd8a13">AP_Baro::set_pressure_correction</a></div><div class="ttdeci">void set_pressure_correction(uint8_t instance, float p_correction)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00851">AP_Baro.cpp:851</a></div></div>
<div class="ttc" id="AP__Logger_8h_html"><div class="ttname"><a href="AP__Logger_8h.html">AP_Logger.h</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00115">HAL.h:115</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a78f917fc079eb5acb3e9623f0bbe0ff9"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a78f917fc079eb5acb3e9623f0bbe0ff9">AP_BoardConfig::PX4_BOARD_PH2SLIM</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00072">AP_BoardConfig.h:72</a></div></div>
<div class="ttc" id="classAP__Baro_html_a23b1585f1ad04daa69cb51e9c3632ab4"><div class="ttname"><a href="classAP__Baro.html#a23b1585f1ad04daa69cb51e9c3632ab4">AP_Baro::_alt_offset_active</a></div><div class="ttdeci">float _alt_offset_active</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00234">AP_Baro.h:234</a></div></div>
<div class="ttc" id="classDerivativeFilter_html_a3dc3710f5d9fba8d264a473d6a297be2"><div class="ttname"><a href="classDerivativeFilter.html#a3dc3710f5d9fba8d264a473d6a297be2">DerivativeFilter::update</a></div><div class="ttdeci">void update(T sample, uint32_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="DerivativeFilter_8cpp_source.html#l00027">DerivativeFilter.cpp:27</a></div></div>
<div class="ttc" id="AP__Baro__SITL_8h_html"><div class="ttname"><a href="AP__Baro__SITL_8h.html">AP_Baro_SITL.h</a></div></div>
<div class="ttc" id="classAP__Baro_html_adc9ea1ec9586d6654d241c96d15f75a5"><div class="ttname"><a href="classAP__Baro.html#adc9ea1ec9586d6654d241c96d15f75a5">AP_Baro::_hil_mode</a></div><div class="ttdeci">bool _hil_mode</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00244">AP_Baro.h:244</a></div></div>
<div class="ttc" id="classAP__Baro_html_aca944bccac83d09b604b218ff2e05e39"><div class="ttname"><a href="classAP__Baro.html#aca944bccac83d09b604b218ff2e05e39">AP_Baro::_last_external_temperature_ms</a></div><div class="ttdeci">uint32_t _last_external_temperature_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00240">AP_Baro.h:240</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a3c5386db31b5c706894441bb6279eefc"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a3c5386db31b5c706894441bb6279eefc">AP_BoardConfig::VRX_BOARD_BRAIN54</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00086">AP_BoardConfig.h:86</a></div></div>
<div class="ttc" id="GCS_8h_html_a1d3cc361b864ddf64a44c12ab3bd044e"><div class="ttname"><a href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a></div><div class="ttdeci">GCS &amp; gcs()</div><div class="ttdef"><b>Definition:</b> <a href="GCS__Common_8cpp_source.html#l05004">GCS_Common.cpp:5004</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983ac37e0c90b91e19c9b6945baa8b05b278"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983ac37e0c90b91e19c9b6945baa8b05b278">AP_BoardConfig::PX4_BOARD_PCNC1</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00076">AP_BoardConfig.h:76</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a4e3ae698e8f99cec214348ad233e3c41"><div class="ttname"><a href="AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a></div><div class="ttdeci">bool is_positive(const T fVal1)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00050">AP_Math.h:50</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a212c2ff8c6c4ada3668b927ac6728a87"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a212c2ff8c6c4ada3668b927ac6728a87">AP_BoardConfig::VRX_BOARD_BRAIN51</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00080">AP_BoardConfig.h:80</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983aedbfaade4bc5663cfd73a8652235bb30"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983aedbfaade4bc5663cfd73a8652235bb30">AP_BoardConfig::VRX_BOARD_BRAIN52E</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00082">AP_BoardConfig.h:82</a></div></div>
<div class="ttc" id="classAP__Baro__LPS2XH_html_a0e81e0d16b288a7012dfe3ec5e8f8e22"><div class="ttname"><a href="classAP__Baro__LPS2XH.html#a0e81e0d16b288a7012dfe3ec5e8f8e22">AP_Baro_LPS2XH::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__LPS2XH_8cpp_source.html#l00064">AP_Baro_LPS2XH.cpp:64</a></div></div>
<div class="ttc" id="classAP__Baro__DPS280_html_aa6c85fedab452b904e29974a14125e49"><div class="ttname"><a href="classAP__Baro__DPS280.html#aa6c85fedab452b904e29974a14125e49">AP_Baro_DPS280::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__DPS280_8cpp_source.html#l00048">AP_Baro_DPS280.cpp:48</a></div></div>
<div class="ttc" id="classAP__Logger_html_a8bed25359bc401b7d00def25bd8173b9"><div class="ttname"><a href="classAP__Logger.html#a8bed25359bc401b7d00def25bd8173b9">AP_Logger::should_log</a></div><div class="ttdeci">bool should_log(uint32_t mask) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Logger_8cpp_source.html#l00515">AP_Logger.cpp:515</a></div></div>
<div class="ttc" id="classAP__Baro_html_a5fee88ec98651a6ac57f713257c17d81"><div class="ttname"><a href="classAP__Baro.html#a5fee88ec98651a6ac57f713257c17d81">AP_Baro::_primary</a></div><div class="ttdeci">uint8_t _primary</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00201">AP_Baro.h:201</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983ad387380811280b3f995f8387ab50264e"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983ad387380811280b3f995f8387ab50264e">AP_BoardConfig::PX4_BOARD_PIXHAWK2</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00069">AP_BoardConfig.h:69</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4afa396876f0f731b7332bd021f1b376d0"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4afa396876f0f731b7332bd021f1b376d0">AP_Baro::PROBE_MS5837</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00216">AP_Baro.h:216</a></div></div>
<div class="ttc" id="classAP__Baro__Backend_html_a3936dcd0925b53c30203fc42f909b327"><div class="ttname"><a href="classAP__Baro__Backend.html#a3936dcd0925b53c30203fc42f909b327">AP_Baro_Backend::accumulate</a></div><div class="ttdeci">virtual void accumulate(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__Backend_8h_source.html#l00018">AP_Baro_Backend.h:18</a></div></div>
<div class="ttc" id="classAP__Baro_html_a68997f090a5339665f4cad56bc6fa786"><div class="ttname"><a href="classAP__Baro.html#a68997f090a5339665f4cad56bc6fa786">AP_Baro::sensors</a></div><div class="ttdeci">struct AP_Baro::sensor sensors[BARO_MAX_INSTANCES]</div></div>
<div class="ttc" id="AP__Baro_8h_html_afc734c99d3a6ed4a3fd26b4dff1ae78f"><div class="ttname"><a href="AP__Baro_8h.html#afc734c99d3a6ed4a3fd26b4dff1ae78f">BARO_MAX_INSTANCES</a></div><div class="ttdeci">#define BARO_MAX_INSTANCES</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00009">AP_Baro.h:9</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4a800c6e4576d52dffcf81a82953633aa2"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a800c6e4576d52dffcf81a82953633aa2">AP_Baro::PROBE_MS5607</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00210">AP_Baro.h:210</a></div></div>
<div class="ttc" id="classAP__Baro_html_a0115c37618652051c1f6efd072fcc74b"><div class="ttname"><a href="classAP__Baro.html#a0115c37618652051c1f6efd072fcc74b">AP_Baro::get_EAS2TAS</a></div><div class="ttdeci">float get_EAS2TAS(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00316">AP_Baro.cpp:316</a></div></div>
<div class="ttc" id="AP__Baro__FBM320_8h_html_a9b9db458ea3dfab5d51c2f9ce1364517"><div class="ttname"><a href="AP__Baro__FBM320_8h.html#a9b9db458ea3dfab5d51c2f9ce1364517">HAL_BARO_FBM320_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_FBM320_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__FBM320_8h_source.html#l00010">AP_Baro_FBM320.h:10</a></div></div>
<div class="ttc" id="classAP__Baro_html_a0bdd3c41ed13e7d3b6e71bbc6fd05fd9"><div class="ttname"><a href="classAP__Baro.html#a0bdd3c41ed13e7d3b6e71bbc6fd05fd9">AP_Baro::get_external_temperature</a></div><div class="ttdeci">float get_external_temperature(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00122">AP_Baro.h:122</a></div></div>
<div class="ttc" id="AP__InternalError_8cpp_html_a02ad7a50d04e0dbf28c6c90a183a0579"><div class="ttname"><a href="AP__InternalError_8cpp.html#a02ad7a50d04e0dbf28c6c90a183a0579">instance</a></div><div class="ttdeci">static AP_InternalError instance</div><div class="ttdef"><b>Definition:</b> <a href="AP__InternalError_8cpp_source.html#l00008">AP_InternalError.cpp:8</a></div></div>
<div class="ttc" id="classAP__Baro_html_a54dee5f283f1b59007fd4872db0f6eea"><div class="ttname"><a href="classAP__Baro.html#a54dee5f283f1b59007fd4872db0f6eea">AP_Baro::get_altitude_difference</a></div><div class="ttdeci">float get_altitude_difference(float base_pressure, float pressure) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00299">AP_Baro.cpp:299</a></div></div>
<div class="ttc" id="AP__Baro_8cpp_html_a909df6648c8286a4b6c4feb37fdb14f7"><div class="ttname"><a href="AP__Baro_8cpp.html#a909df6648c8286a4b6c4feb37fdb14f7">INTERNAL_TEMPERATURE_CLAMP</a></div><div class="ttdeci">#define INTERNAL_TEMPERATURE_CLAMP</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00049">AP_Baro.cpp:49</a></div></div>
<div class="ttc" id="classSITL_1_1SITL_html_ad2afe2926a48509354ee84a0968fee22"><div class="ttname"><a href="classSITL_1_1SITL.html#ad2afe2926a48509354ee84a0968fee22">SITL::SITL::baro_count</a></div><div class="ttdeci">AP_Int8 baro_count</div><div class="ttdef"><b>Definition:</b> <a href="SITL_8h_source.html#l00177">SITL.h:177</a></div></div>
<div class="ttc" id="classAP__Baro__ICM20789_html_a2e0e725561f9b022d67f24f025433395"><div class="ttname"><a href="classAP__Baro__ICM20789.html#a2e0e725561f9b022d67f24f025433395">AP_Baro_ICM20789::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::I2CDevice &gt; dev, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev_imu)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__ICM20789_8cpp_source.html#l00075">AP_Baro_ICM20789.cpp:75</a></div></div>
<div class="ttc" id="AP__Baro__MS5611_8h_html_ab1fc257a77960bdfab4eb69f4f1dfbf2"><div class="ttname"><a href="AP__Baro__MS5611_8h.html#ab1fc257a77960bdfab4eb69f4f1dfbf2">HAL_BARO_MS5607_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_MS5607_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00018">AP_Baro_MS5611.h:18</a></div></div>
<div class="ttc" id="classAP__Baro_html_ab313ca72951292ae6d6f6a06ec21d123"><div class="ttname"><a href="classAP__Baro.html#ab313ca72951292ae6d6f6a06ec21d123">AP_Baro::get_air_density_ratio</a></div><div class="ttdeci">float get_air_density_ratio(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00338">AP_Baro.cpp:338</a></div></div>
<div class="ttc" id="classAP__Baro_html_a81aef89650ab598e41396ee90b461ed9"><div class="ttname"><a href="classAP__Baro.html#a81aef89650ab598e41396ee90b461ed9">AP_Baro::accumulate</a></div><div class="ttdeci">void accumulate(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00817">AP_Baro.cpp:817</a></div></div>
<div class="ttc" id="classAP__Baro_html_abd4110392c9cc5e59b143dd4cb2b5800"><div class="ttname"><a href="classAP__Baro.html#abd4110392c9cc5e59b143dd4cb2b5800">AP_Baro::calibrate</a></div><div class="ttdeci">void calibrate(bool save=true)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00184">AP_Baro.cpp:184</a></div></div>
<div class="ttc" id="classAP__Baro_html"><div class="ttname"><a href="classAP__Baro.html">AP_Baro</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00021">AP_Baro.h:21</a></div></div>
<div class="ttc" id="namespaceAP_html_ab2991c8a02a28bf52b0aba35d9c3bc2f"><div class="ttname"><a href="namespaceAP.html#ab2991c8a02a28bf52b0aba35d9c3bc2f">AP::sitl</a></div><div class="ttdeci">SITL::SITL * sitl()</div><div class="ttdef"><b>Definition:</b> <a href="SITL_8cpp_source.html#l00280">SITL.cpp:280</a></div></div>
<div class="ttc" id="Airspeed_8cpp_html_afc1d28cfbce795d6ea954ebe725241f5"><div class="ttname"><a href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a></div><div class="ttdeci">float temperature</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed_8cpp_source.html#l00031">Airspeed.cpp:31</a></div></div>
<div class="ttc" id="namespaceAP_html_aa35bfac1ea2da16f110e8e72db7b3b20"><div class="ttname"><a href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a></div><div class="ttdeci">AP_Logger &amp; logger()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Logger_8cpp_source.html#l01182">AP_Logger.cpp:1182</a></div></div>
<div class="ttc" id="classAP__HAL_1_1Scheduler_html_ab3175e2e6223ccfe82f957e41cc12b26"><div class="ttname"><a href="classAP__HAL_1_1Scheduler.html#ab3175e2e6223ccfe82f957e41cc12b26">AP_HAL::Scheduler::delay</a></div><div class="ttdeci">virtual void delay(uint16_t ms)=0</div></div>
<div class="ttc" id="structAP__Baro_1_1sensor_html_a27abcb4f295b00f20a4a8e49282369d8"><div class="ttname"><a href="structAP__Baro_1_1sensor.html#a27abcb4f295b00f20a4a8e49282369d8">AP_Baro::sensor::p_correction</a></div><div class="ttdeci">float p_correction</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00230">AP_Baro.h:230</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983ae3bc20831e04c6038b9ad40680003eda"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983ae3bc20831e04c6038b9ad40680003eda">AP_BoardConfig::PX4_BOARD_FMUV6</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00088">AP_BoardConfig.h:88</a></div></div>
<div class="ttc" id="I2CDevice_8h_html_ae5025bb302996be6cc2c1159653a882b"><div class="ttname"><a href="I2CDevice_8h.html#ae5025bb302996be6cc2c1159653a882b">FOREACH_I2C_MASK</a></div><div class="ttdeci">#define FOREACH_I2C_MASK(i, mask)</div><div class="ttdef"><b>Definition:</b> <a href="I2CDevice_8h_source.html#l00112">I2CDevice.h:112</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a05ec778f42256d22fbdf58c458707b38"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a05ec778f42256d22fbdf58c458707b38">AP_BoardConfig::PX4_BOARD_PIXHAWK_PRO</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00074">AP_BoardConfig.h:74</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a53e500f8c050e0ae471194b0fca121cb"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a53e500f8c050e0ae471194b0fca121cb">AP_BoardConfig::VRX_BOARD_UBRAIN51</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00083">AP_BoardConfig.h:83</a></div></div>
<div class="ttc" id="AP__Baro__FBM320_8h_html_afca0c2a79782f493381bfdf8ce0bcdc2"><div class="ttname"><a href="AP__Baro__FBM320_8h.html#afca0c2a79782f493381bfdf8ce0bcdc2">HAL_BARO_FBM320_I2C_ADDR2</a></div><div class="ttdeci">#define HAL_BARO_FBM320_I2C_ADDR2</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__FBM320_8h_source.html#l00013">AP_Baro_FBM320.h:13</a></div></div>
<div class="ttc" id="AP__Baro__DPS280_8h_html_aee748893ea2416e3c91ef47ca9e0e465"><div class="ttname"><a href="AP__Baro__DPS280_8h.html#aee748893ea2416e3c91ef47ca9e0e465">HAL_BARO_DPS280_I2C_ADDR2</a></div><div class="ttdeci">#define HAL_BARO_DPS280_I2C_ADDR2</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__DPS280_8h_source.html#l00013">AP_Baro_DPS280.h:13</a></div></div>
<div class="ttc" id="classAP__HAL_1_1SPIDeviceManager_html_a84c4a9ff2ae0cdaa9a0bc8a3f0939893"><div class="ttname"><a href="classAP__HAL_1_1SPIDeviceManager.html#a84c4a9ff2ae0cdaa9a0bc8a3f0939893">AP_HAL::SPIDeviceManager::get_device</a></div><div class="ttdeci">virtual OwnPtr&lt; SPIDevice &gt; get_device(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="SPIDevice_8h_source.html#l00071">SPIDevice.h:71</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="AP__Baro__DPS280_8h_html_a0320a7b7c19be504d1f119bf840f2bb4"><div class="ttname"><a href="AP__Baro__DPS280_8h.html#a0320a7b7c19be504d1f119bf840f2bb4">HAL_BARO_DPS280_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_DPS280_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__DPS280_8h_source.html#l00010">AP_Baro_DPS280.h:10</a></div></div>
<div class="ttc" id="namespaceAP_html"><div class="ttname"><a href="namespaceAP.html">AP</a></div><div class="ttdef"><b>Definition:</b> <a href="AC__Avoid_8cpp_source.html#l00655">AC_Avoid.cpp:655</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4ac6ece6364a97ab4b809af83e3c6915b4"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4ac6ece6364a97ab4b809af83e3c6915b4">AP_Baro::PROBE_DPS280</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00213">AP_Baro.h:213</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4a43cde2a98b2f54a3c81f05d32e089b9b"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a43cde2a98b2f54a3c81f05d32e089b9b">AP_Baro::PROBE_FBM320</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00212">AP_Baro.h:212</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a97426996f59ed4a7534cfd7bb6a3174a"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a97426996f59ed4a7534cfd7bb6a3174a">AP_BoardConfig::PX4_BOARD_AEROFC</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00073">AP_BoardConfig.h:73</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a122ab74c52fd603b79d0b2c0b5651ed5"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a122ab74c52fd603b79d0b2c0b5651ed5">AP_BoardConfig::VRX_BOARD_UBRAIN52</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00084">AP_BoardConfig.h:84</a></div></div>
<div class="ttc" id="classAP__Baro_html_af3fecfba7c5df454304d0c59f4dd7b07"><div class="ttname"><a href="classAP__Baro.html#af3fecfba7c5df454304d0c59f4dd7b07">AP_Baro::_singleton</a></div><div class="ttdeci">static AP_Baro * _singleton</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00191">AP_Baro.h:191</a></div></div>
<div class="ttc" id="classAP__Baro_html_a64325d2127f10ef8d0a1da55f5bcd020a585c9a564d3f10a21024a0b228fa179e"><div class="ttname"><a href="classAP__Baro.html#a64325d2127f10ef8d0a1da55f5bcd020a585c9a564d3f10a21024a0b228fa179e">AP_Baro::BARO_TYPE_WATER</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00041">AP_Baro.h:41</a></div></div>
<div class="ttc" id="classAP__Baro__BMP085_html_a69c38a5c48eee9438899195eb66cbaaf"><div class="ttname"><a href="classAP__Baro__BMP085.html#a69c38a5c48eee9438899195eb66cbaaf">AP_Baro_BMP085::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__BMP085_8cpp_source.html#l00042">AP_Baro_BMP085.cpp:42</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3fa71ca5279d7ad3e349cc6c0bf549fc"><div class="ttname"><a href="classAP__Baro.html#a3fa71ca5279d7ad3e349cc6c0bf549fc">AP_Baro::_rsem</a></div><div class="ttdeci">HAL_Semaphore_Recursive _rsem</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00256">AP_Baro.h:256</a></div></div>
<div class="ttc" id="chibios_8h_html_a7e7ec91ec2955e149b39f0df332b3325"><div class="ttname"><a href="chibios_8h.html#a7e7ec91ec2955e149b39f0df332b3325">HAL_INS_MPU60x0_NAME</a></div><div class="ttdeci">#define HAL_INS_MPU60x0_NAME</div><div class="ttdef"><b>Definition:</b> <a href="chibios_8h_source.html#l00060">chibios.h:60</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a2a12cce483e9b870da70d30406d82c60"><div class="ttname"><a href="AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a></div><div class="ttdeci">bool is_zero(const T fVal1)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00040">AP_Math.h:40</a></div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div></div>
<div class="ttc" id="structtype_html"><div class="ttname"><a href="structtype.html">type</a></div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00133">main.c:133</a></div></div>
<div class="ttc" id="AP__Baro__MS5611_8h_html_aaf0ce53525206cfe1311cbf23d4b14d2"><div class="ttname"><a href="AP__Baro__MS5611_8h.html#aaf0ce53525206cfe1311cbf23d4b14d2">HAL_BARO_MS5611_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_MS5611_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00010">AP_Baro_MS5611.h:10</a></div></div>
<div class="ttc" id="classAP__Baro_html_a942db790233528bfbb4d9a07c3454360"><div class="ttname"><a href="classAP__Baro.html#a942db790233528bfbb4d9a07c3454360">AP_Baro::init</a></div><div class="ttdeci">void init(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00441">AP_Baro.cpp:441</a></div></div>
<div class="ttc" id="AP__Baro__ICM20789_8h_html"><div class="ttname"><a href="AP__Baro__ICM20789_8h.html">AP_Baro_ICM20789.h</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a939e3484a227aa39019088ac96a9cfd3"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a939e3484a227aa39019088ac96a9cfd3">AP_BoardConfig::VRX_BOARD_BRAIN52</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00081">AP_BoardConfig.h:81</a></div></div>
<div class="ttc" id="classAP__Baro_html_a5011a9c0ec86811ce7b809348d506861"><div class="ttname"><a href="classAP__Baro.html#a5011a9c0ec86811ce7b809348d506861">AP_Baro::altitude</a></div><div class="ttdeci">float altitude</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00145">AP_Baro.h:145</a></div></div>
<div class="ttc" id="classDerivativeFilter_html_a8641b45206ea4b901e86f67a49de6fc8"><div class="ttname"><a href="classDerivativeFilter.html#a8641b45206ea4b901e86f67a49de6fc8">DerivativeFilter::slope</a></div><div class="ttdeci">float slope(void)</div><div class="ttdef"><b>Definition:</b> <a href="DerivativeFilter_8cpp_source.html#l00052">DerivativeFilter.cpp:52</a></div></div>
<div class="ttc" id="AP__BoardConfig_8h_html"><div class="ttname"><a href="AP__BoardConfig_8h.html">AP_BoardConfig.h</a></div></div>
<div class="ttc" id="AP__Baro__LPS2XH_8h_html_af0bc947d94490465fbeb9d2706766b33"><div class="ttname"><a href="AP__Baro__LPS2XH_8h.html#af0bc947d94490465fbeb9d2706766b33">HAL_BARO_LPS25H_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_LPS25H_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__LPS2XH_8h_source.html#l00012">AP_Baro_LPS2XH.h:12</a></div></div>
<div class="ttc" id="AP__Baro_8cpp_html_a839fcd37cc527c893f6d41ecfc80aeac"><div class="ttname"><a href="AP__Baro_8cpp.html#a839fcd37cc527c893f6d41ecfc80aeac">ADD_BACKEND</a></div><div class="ttdeci">#define ADD_BACKEND(backend)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00430">AP_Baro.cpp:430</a></div></div>
<div class="ttc" id="namespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition:</b> <a href="ChibiOS_2system_8cpp_source.html#l00157">system.cpp:157</a></div></div>
<div class="ttc" id="classAP__Baro_html_adb9c6ecd586c4218cf20c835601ea3df"><div class="ttname"><a href="classAP__Baro.html#adb9c6ecd586c4218cf20c835601ea3df">AP_Baro::temperature</a></div><div class="ttdeci">float temperature</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00144">AP_Baro.h:144</a></div></div>
<div class="ttc" id="AP__Vehicle__Type_8h_html"><div class="ttname"><a href="AP__Vehicle__Type_8h.html">AP_Vehicle_Type.h</a></div></div>
<div class="ttc" id="classAP__Logger_html"><div class="ttname"><a href="classAP__Logger.html">AP_Logger</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Logger_8h_source.html#l00169">AP_Logger.h:169</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00142">AP_Param.h:142</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a2548b608826699e872a2de7f4e1ff877"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a2548b608826699e872a2de7f4e1ff877">AP_BoardConfig::PX4_BOARD_SP01</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00078">AP_BoardConfig.h:78</a></div></div>
<div class="ttc" id="classAP__Baro_html_af745e42cd2707ce4fd68f7ed8acf018b"><div class="ttname"><a href="classAP__Baro.html#af745e42cd2707ce4fd68f7ed8acf018b">AP_Baro::drivers</a></div><div class="ttdeci">AP_Baro_Backend * drivers[BARO_MAX_DRIVERS]</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00195">AP_Baro.h:195</a></div></div>
<div class="ttc" id="classAP__Baro_html_a488b0b6bb0f29c3a6449877532e617f2"><div class="ttname"><a href="classAP__Baro.html#a488b0b6bb0f29c3a6449877532e617f2">AP_Baro::_primary_baro</a></div><div class="ttdeci">AP_Int8 _primary_baro</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00235">AP_Baro.h:235</a></div></div>
<div class="ttc" id="AP__Baro__HIL_8h_html"><div class="ttname"><a href="AP__Baro__HIL_8h.html">AP_Baro_HIL.h</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a6aaf12ce90b5b9586d350af949ab84a0"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a6aaf12ce90b5b9586d350af949ab84a0">AP_BoardConfig::PX4_BOARD_MINDPXV2</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00077">AP_BoardConfig.h:77</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="classAP__Baro_html_a1bb0c6bd831874e040c6b51b7de6e63a"><div class="ttname"><a href="classAP__Baro.html#a1bb0c6bd831874e040c6b51b7de6e63a">AP_Baro::AP_Baro_SITL</a></div><div class="ttdeci">friend class AP_Baro_SITL</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00024">AP_Baro.h:24</a></div></div>
<div class="ttc" id="chibios_8h_html_a575721c40e2c4ee9f849f8ee5c446919"><div class="ttname"><a href="chibios_8h.html#a575721c40e2c4ee9f849f8ee5c446919">HAL_BARO_LPS22H_NAME</a></div><div class="ttdeci">#define HAL_BARO_LPS22H_NAME</div><div class="ttdef"><b>Definition:</b> <a href="chibios_8h_source.html#l00057">chibios.h:57</a></div></div>
<div class="ttc" id="Perf__Lttng__TracePoints_8h_html_ae11b3deb3de3df7dc48e439074023e35"><div class="ttname"><a href="Perf__Lttng__TracePoints_8h.html#ae11b3deb3de3df7dc48e439074023e35">count</a></div><div class="ttdeci">count</div><div class="ttdef"><b>Definition:</b> <a href="Perf__Lttng__TracePoints_8h_source.html#l00051">Perf_Lttng_TracePoints.h:51</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983acf567833f77e46ce320a961f68611bff"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983acf567833f77e46ce320a961f68611bff">AP_BoardConfig::PX4_BOARD_PX4V1</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00067">AP_BoardConfig.h:67</a></div></div>
<div class="ttc" id="classGCS_html_a9866f3484283db744409e40719cef765"><div class="ttname"><a href="classGCS.html#a9866f3484283db744409e40719cef765">GCS::send_text</a></div><div class="ttdeci">void send_text(MAV_SEVERITY severity, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="GCS_8cpp_source.html#l00040">GCS.cpp:40</a></div></div>
<div class="ttc" id="classAP__Baro_html_adf354fe73e210f7be030a4e4d95113d6"><div class="ttname"><a href="classAP__Baro.html#adf354fe73e210f7be030a4e4d95113d6">AP_Baro::healthy</a></div><div class="ttdeci">bool healthy(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00052">AP_Baro.h:52</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html_af8c602bce948527aa20ec7a32562010d"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#af8c602bce948527aa20ec7a32562010d">AP_HAL::HAL::spi</a></div><div class="ttdeci">AP_HAL::SPIDeviceManager * spi</div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00107">HAL.h:107</a></div></div>
<div class="ttc" id="classAP__Baro_html_a41b3c00624c78b883413b53fc5a81a32"><div class="ttname"><a href="classAP__Baro.html#a41b3c00624c78b883413b53fc5a81a32">AP_Baro::get_pressure</a></div><div class="ttdeci">float get_pressure(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00059">AP_Baro.h:59</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab4d2d1dadc9036ad57cfadb93d3b4c2a"><div class="ttname"><a href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">AP_Airspeed::get_temperature</a></div><div class="ttdeci">bool get_temperature(uint8_t i, float &amp;temperature)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00304">AP_Airspeed.cpp:304</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4ab718f1c21e836ad365478a197ab60f41"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4ab718f1c21e836ad365478a197ab60f41">AP_Baro::PROBE_BMP280</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00208">AP_Baro.h:208</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4a608fe18a79e464c490990924e0a8083a"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a608fe18a79e464c490990924e0a8083a">AP_Baro::PROBE_MS5637</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00211">AP_Baro.h:211</a></div></div>
<div class="ttc" id="structAP__Baro_1_1sensor_html_a524b81f9b0411cf62f070574c4b7f45c"><div class="ttname"><a href="structAP__Baro_1_1sensor.html#a524b81f9b0411cf62f070574c4b7f45c">AP_Baro::sensor::last_update_ms</a></div><div class="ttdeci">uint32_t last_update_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00221">AP_Baro.h:221</a></div></div>
<div class="ttc" id="classAP__Baro__Backend_html_afa358da6741812390e7e0009020944f6"><div class="ttname"><a href="classAP__Baro__Backend.html#afa358da6741812390e7e0009020944f6">AP_Baro_Backend::backend_update</a></div><div class="ttdeci">void backend_update(uint8_t instance)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__Backend_8cpp_source.html#l00028">AP_Baro_Backend.cpp:28</a></div></div>
<div class="ttc" id="classAP__Baro__HIL_html"><div class="ttname"><a href="classAP__Baro__HIL.html">AP_Baro_HIL</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__HIL_8h_source.html#l00009">AP_Baro_HIL.h:9</a></div></div>
<div class="ttc" id="classAP__Baro_html_a7b0026314b715c57291c40ce61ea5fe3"><div class="ttname"><a href="classAP__Baro.html#a7b0026314b715c57291c40ce61ea5fe3">AP_Baro::_log_baro_bit</a></div><div class="ttdeci">uint32_t _log_baro_bit</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00203">AP_Baro.h:203</a></div></div>
<div class="ttc" id="classAP__Baro__MS56XX_html_a7edc0020985cb691bc534af158c04d09a3c04e3e6bb015272b9d1f732cadc0685"><div class="ttname"><a href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09a3c04e3e6bb015272b9d1f732cadc0685">AP_Baro_MS56XX::BARO_MS5607</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00036">AP_Baro_MS5611.h:36</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html_adb4f986eb3188358079c4a1aee15674e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#adb4f986eb3188358079c4a1aee15674e">AP_HAL::HAL::i2c_mgr</a></div><div class="ttdeci">AP_HAL::I2CDeviceManager * i2c_mgr</div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00106">HAL.h:106</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a6bfb2eababf55852b35bdff810ca86d1"><div class="ttname"><a href="classAP__Airspeed.html#a6bfb2eababf55852b35bdff810ca86d1">AP_Airspeed::get_singleton</a></div><div class="ttdeci">static AP_Airspeed * get_singleton()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00150">AP_Airspeed.h:150</a></div></div>
<div class="ttc" id="classAP__Baro__KellerLD_html_aba415891be0779268ce2e84a4deea0aa"><div class="ttname"><a href="classAP__Baro__KellerLD.html#aba415891be0779268ce2e84a4deea0aa">AP_Baro_KellerLD::probe</a></div><div class="ttdeci">static AP_Baro_Backend * probe(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__KellerLD_8cpp_source.html#l00049">AP_Baro_KellerLD.cpp:49</a></div></div>
<div class="ttc" id="classAP__Logger_html_a7dfeda4dc3df2edc8531110c9d7252dc"><div class="ttname"><a href="classAP__Logger.html#a7dfeda4dc3df2edc8531110c9d7252dc">AP_Logger::get_singleton</a></div><div class="ttdeci">static AP_Logger * get_singleton(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Logger_8h_source.html#l00183">AP_Logger.h:183</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a752a6a1d27589c64a386ab2818e7057d"><div class="ttname"><a href="AP__Param_8h.html#a752a6a1d27589c64a386ab2818e7057d">AP_GROUPINFO_FRAME</a></div><div class="ttdeci">#define AP_GROUPINFO_FRAME(name, idx, clazz, element, def, frame_flags)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00094">AP_Param.h:94</a></div></div>
<div class="ttc" id="AP__Common_8h_html"><div class="ttname"><a href="AP__Common_8h.html">AP_Common.h</a></div><div class="ttdoc">Common definitions and utility routines for the ArduPilot libraries.</div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a6f39405e261af307e647f079d8a6ec56"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a6f39405e261af307e647f079d8a6ec56">AP_BoardConfig::PX4_BOARD_FMUV5</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00079">AP_BoardConfig.h:79</a></div></div>
<div class="ttc" id="classAP__Baro_html_a5f9cd805004a3a931e4eb82a83a8c917"><div class="ttname"><a href="classAP__Baro.html#a5f9cd805004a3a931e4eb82a83a8c917">AP_Baro::_guessed_ground_temperature</a></div><div class="ttdeci">float _guessed_ground_temperature</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00245">AP_Baro.h:245</a></div></div>
<div class="ttc" id="Airspeed_8cpp_html_abfed87a61c42e885ee14d5222b47583f"><div class="ttname"><a href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a></div><div class="ttdeci">AP_Airspeed airspeed</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed_8cpp_source.html#l00034">Airspeed.cpp:34</a></div></div>
<div class="ttc" id="AP__Baro__FBM320_8h_html"><div class="ttname"><a href="AP__Baro__FBM320_8h.html">AP_Baro_FBM320.h</a></div></div>
<div class="ttc" id="stdio_8h_html"><div class="ttname"><a href="stdio_8h.html">stdio.h</a></div></div>
<div class="ttc" id="namespaceAP_html_a99432cfdb696952c9b7146f155a815aa"><div class="ttname"><a href="namespaceAP.html#a99432cfdb696952c9b7146f155a815aa">AP::ahrs</a></div><div class="ttdeci">AP_AHRS &amp; ahrs()</div><div class="ttdef"><b>Definition:</b> <a href="AP__AHRS_8cpp_source.html#l00526">AP_AHRS.cpp:526</a></div></div>
<div class="ttc" id="classAP__Baro_html_a50ae73cce1699d88638e3dfab4ffd330"><div class="ttname"><a href="classAP__Baro.html#a50ae73cce1699d88638e3dfab4ffd330">AP_Baro::get_altitude</a></div><div class="ttdeci">float get_altitude(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00084">AP_Baro.h:84</a></div></div>
<div class="ttc" id="classAP__Baro_html_a2365014f8266bebaf041590ff2df01cb"><div class="ttname"><a href="classAP__Baro.html#a2365014f8266bebaf041590ff2df01cb">AP_Baro::AP_Baro</a></div><div class="ttdeci">AP_Baro()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00175">AP_Baro.cpp:175</a></div></div>
<div class="ttc" id="classAP__Baro_html_a4bfd06fe28cf3a7bc6df55bc159c8dff"><div class="ttname"><a href="classAP__Baro.html#a4bfd06fe28cf3a7bc6df55bc159c8dff">AP_Baro::_probe_i2c_barometers</a></div><div class="ttdeci">void _probe_i2c_barometers(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00638">AP_Baro.cpp:638</a></div></div>
<div class="ttc" id="classAP__Baro_html_a4a6371e708d80d1a873a7dd048c9bef8"><div class="ttname"><a href="classAP__Baro.html#a4a6371e708d80d1a873a7dd048c9bef8">AP_Baro::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00120">AP_Baro.h:120</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a2f0a5b6527161d6a622728dfe8fd4023"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a2f0a5b6527161d6a622728dfe8fd4023">AP_BoardConfig::VRX_BOARD_CORE10</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00085">AP_BoardConfig.h:85</a></div></div>
<div class="ttc" id="classAP__Baro_html_a73c822d790be85622db617adf45fc0f0"><div class="ttname"><a href="classAP__Baro.html#a73c822d790be85622db617adf45fc0f0">AP_Baro::_hil</a></div><div class="ttdeci">struct AP_Baro::@10 _hil</div></div>
<div class="ttc" id="classAP__Baro_html_a8eabe0ea3b907dd28ec41d3bcc46fa56"><div class="ttname"><a href="classAP__Baro.html#a8eabe0ea3b907dd28ec41d3bcc46fa56">AP_Baro::_last_notify_ms</a></div><div class="ttdeci">uint32_t _last_notify_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00248">AP_Baro.h:248</a></div></div>
<div class="ttc" id="classAP__HAL_1_1I2CDeviceManager_html_a09948543da1eee78f03cb92e3677bf00"><div class="ttname"><a href="classAP__HAL_1_1I2CDeviceManager.html#a09948543da1eee78f03cb92e3677bf00">AP_HAL::I2CDeviceManager::get_bus_mask_external</a></div><div class="ttdeci">virtual uint32_t get_bus_mask_external(void) const</div><div class="ttdef"><b>Definition:</b> <a href="I2CDevice_8h_source.html#l00101">I2CDevice.h:101</a></div></div>
<div class="ttc" id="classAP__Baro_html_a92b0efed71f214529da6c54d692f1d61"><div class="ttname"><a href="classAP__Baro.html#a92b0efed71f214529da6c54d692f1d61">AP_Baro::get_singleton</a></div><div class="ttdeci">static AP_Baro * get_singleton(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00034">AP_Baro.h:34</a></div></div>
<div class="ttc" id="classAP__Baro__Backend_html"><div class="ttname"><a href="classAP__Baro__Backend.html">AP_Baro_Backend</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__Backend_8h_source.html#l00005">AP_Baro_Backend.h:5</a></div></div>
<div class="ttc" id="AP__BoardConfig__CAN_8h_html"><div class="ttname"><a href="AP__BoardConfig__CAN_8h.html">AP_BoardConfig_CAN.h</a></div></div>
<div class="ttc" id="classAP__Baro_html_a6ed00073ef8152802649a862b17853d9"><div class="ttname"><a href="classAP__Baro.html#a6ed00073ef8152802649a862b17853d9">AP_Baro::pressure</a></div><div class="ttdeci">float pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00143">AP_Baro.h:143</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a0375e3d67fd3911cacee5c3e1408c0f2"><div class="ttname"><a href="AP__Math_8h.html#a0375e3d67fd3911cacee5c3e1408c0f2">sq</a></div><div class="ttdeci">float sq(const T val)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00175">AP_Math.h:175</a></div></div>
<div class="ttc" id="classAP__Baro_html_a932c39564d42db7594dc132eb6703919"><div class="ttname"><a href="classAP__Baro.html#a932c39564d42db7594dc132eb6703919">AP_Baro::get_ground_temperature</a></div><div class="ttdeci">float get_ground_temperature(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00363">AP_Baro.cpp:363</a></div></div>
<div class="ttc" id="chibios_8h_html_ab9184b93b37c76df2b3cc83924a04d72"><div class="ttname"><a href="chibios_8h.html#ab9184b93b37c76df2b3cc83924a04d72">HAL_BARO_BMP280_NAME</a></div><div class="ttdeci">#define HAL_BARO_BMP280_NAME</div><div class="ttdef"><b>Definition:</b> <a href="chibios_8h_source.html#l00058">chibios.h:58</a></div></div>
<div class="ttc" id="AP__Baro__MS5611_8h_html"><div class="ttname"><a href="AP__Baro__MS5611_8h.html">AP_Baro_MS5611.h</a></div></div>
<div class="ttc" id="AP__Baro__LPS2XH_8h_html_a5d6744356c6b98c344115947d06edc44"><div class="ttname"><a href="AP__Baro__LPS2XH_8h.html#a5d6744356c6b98c344115947d06edc44">HAL_BARO_LPS25H_I2C_BUS</a></div><div class="ttdeci">#define HAL_BARO_LPS25H_I2C_BUS</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__LPS2XH_8h_source.html#l00009">AP_Baro_LPS2XH.h:9</a></div></div>
<div class="ttc" id="AP__Baro__BMP085_8h_html"><div class="ttname"><a href="AP__Baro__BMP085_8h.html">AP_Baro_BMP085.h</a></div></div>
<div class="ttc" id="classAP__Baro_html_ac798d7a4c79480ac8d8d3cfd25a6d38f"><div class="ttname"><a href="classAP__Baro.html#ac798d7a4c79480ac8d8d3cfd25a6d38f">AP_Baro::_last_altitude_EAS2TAS</a></div><div class="ttdeci">float _last_altitude_EAS2TAS</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00237">AP_Baro.h:237</a></div></div>
<div class="ttc" id="structAP__Baro_1_1sensor_html_a0649ac0ad652079e2b287f0aaa34d981"><div class="ttname"><a href="structAP__Baro_1_1sensor.html#a0649ac0ad652079e2b287f0aaa34d981">AP_Baro::sensor::calibrated</a></div><div class="ttdeci">bool calibrated</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00225">AP_Baro.h:225</a></div></div>
<div class="ttc" id="classAP__Baro__LPS2XH_html_aaae9261b471bf02990556a4ed016f57d"><div class="ttname"><a href="classAP__Baro__LPS2XH.html#aaae9261b471bf02990556a4ed016f57d">AP_Baro_LPS2XH::probe_InvensenseIMU</a></div><div class="ttdeci">static AP_Baro_Backend * probe_InvensenseIMU(AP_Baro &amp;baro, AP_HAL::OwnPtr&lt; AP_HAL::Device &gt; dev, uint8_t imu_address)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__LPS2XH_8cpp_source.html#l00078">AP_Baro_LPS2XH.cpp:78</a></div></div>
<div class="ttc" id="SIM__FlightAxis_8cpp_html_a2fbf6e53878d27027d879556d308486f"><div class="ttname"><a href="SIM__FlightAxis_8cpp.html#a2fbf6e53878d27027d879556d308486f">save</a></div><div class="ttdeci">bool save</div><div class="ttdef"><b>Definition:</b> <a href="SIM__FlightAxis_8cpp_source.html#l00043">SIM_FlightAxis.cpp:43</a></div></div>
<div class="ttc" id="namespaceAP_html_a8aec57eb0b7a79044cbc1f0ca4b75bcf"><div class="ttname"><a href="namespaceAP.html#a8aec57eb0b7a79044cbc1f0ca4b75bcf">AP::baro</a></div><div class="ttdeci">AP_Baro &amp; baro()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00860">AP_Baro.cpp:860</a></div></div>
<div class="ttc" id="namespaceAP__HAL_html_a71832f03d849a0c088f04fc98d3c8143"><div class="ttname"><a href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a></div><div class="ttdeci">void panic(const char *errormsg,...) FMT_PRINTF(1</div><div class="ttdef"><b>Definition:</b> <a href="ChibiOS_2system_8cpp_source.html#l00140">system.cpp:140</a></div></div>
<div class="ttc" id="classAP__HAL_1_1I2CDeviceManager_html_a8153774ecb8d07a14cb0eeac74ce6211"><div class="ttname"><a href="classAP__HAL_1_1I2CDeviceManager.html#a8153774ecb8d07a14cb0eeac74ce6211">AP_HAL::I2CDeviceManager::get_device</a></div><div class="ttdeci">virtual OwnPtr&lt; AP_HAL::I2CDevice &gt; get_device(uint8_t bus, uint8_t address, uint32_t bus_clock=400000, bool use_smbus=false, uint32_t timeout_ms=4)=0</div></div>
<div class="ttc" id="definitions_8h_html_ad6b1e57bc920c85a176ca7d4995c51d9"><div class="ttname"><a href="definitions_8h.html#ad6b1e57bc920c85a176ca7d4995c51d9">ISA_LAPSE_RATE</a></div><div class="ttdeci">#define ISA_LAPSE_RATE</div><div class="ttdef"><b>Definition:</b> <a href="definitions_8h_source.html#l00083">definitions.h:83</a></div></div>
<div class="ttc" id="AP__Param_8h_html_aaccf2c99c335d606cf6a851c02835e46"><div class="ttname"><a href="AP__Param_8h.html#aaccf2c99c335d606cf6a851c02835e46">AP_PARAM_FRAME_SUB</a></div><div class="ttdeci">#define AP_PARAM_FRAME_SUB</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00078">AP_Param.h:78</a></div></div>
<div class="ttc" id="classAP__Baro_html_a222e10c07e8a308034b723ed5d5464e2"><div class="ttname"><a href="classAP__Baro.html#a222e10c07e8a308034b723ed5d5464e2">AP_Baro::_ext_bus</a></div><div class="ttdeci">AP_Int8 _ext_bus</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00236">AP_Baro.h:236</a></div></div>
<div class="ttc" id="AP__Baro__MS5611_8h_html_a51c1f9ec702b4e42f1dd6e972a962453"><div class="ttname"><a href="AP__Baro__MS5611_8h.html#a51c1f9ec702b4e42f1dd6e972a962453">HAL_BARO_MS5637_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_MS5637_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00026">AP_Baro_MS5611.h:26</a></div></div>
<div class="ttc" id="AP__Baro__MS5611_8h_html_aa3cdbd1ee410d162335de866a5042b44"><div class="ttname"><a href="AP__Baro__MS5611_8h.html#aa3cdbd1ee410d162335de866a5042b44">HAL_BARO_MS5837_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_MS5837_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00022">AP_Baro_MS5611.h:22</a></div></div>
<div class="ttc" id="classAP__Baro_html_a6efd89cc278ac45acd3bc35ce38f5505"><div class="ttname"><a href="classAP__Baro.html#a6efd89cc278ac45acd3bc35ce38f5505">AP_Baro::set_external_temperature</a></div><div class="ttdeci">void set_external_temperature(float temperature)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00376">AP_Baro.cpp:376</a></div></div>
<div class="ttc" id="classAP__HAL_1_1I2CDeviceManager_html_a309ccc91401ea05fe1af36561cdf84e1"><div class="ttname"><a href="classAP__HAL_1_1I2CDeviceManager.html#a309ccc91401ea05fe1af36561cdf84e1">AP_HAL::I2CDeviceManager::get_bus_mask_internal</a></div><div class="ttdeci">virtual uint32_t get_bus_mask_internal(void) const</div><div class="ttdef"><b>Definition:</b> <a href="I2CDevice_8h_source.html#l00106">I2CDevice.h:106</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a1f93ae84c30efc1375765b835004e7a9"><div class="ttname"><a href="classAP__Airspeed.html#a1f93ae84c30efc1375765b835004e7a9">AP_Airspeed::healthy</a></div><div class="ttdeci">bool healthy(uint8_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00108">AP_Airspeed.h:108</a></div></div>
<div class="ttc" id="classAP__Baro_html_a0ac3f7a7f0c7709a30ebc6ab98643ed9"><div class="ttname"><a href="classAP__Baro.html#a0ac3f7a7f0c7709a30ebc6ab98643ed9">AP_Baro::_alt_offset</a></div><div class="ttdeci">AP_Float _alt_offset</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00233">AP_Baro.h:233</a></div></div>
<div class="ttc" id="structAP__Baro_1_1sensor_html_a0a26688e5dafabb550571b6341655a12"><div class="ttname"><a href="structAP__Baro_1_1sensor.html#a0a26688e5dafabb550571b6341655a12">AP_Baro::sensor::ground_pressure</a></div><div class="ttdeci">AP_Float ground_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00229">AP_Baro.h:229</a></div></div>
<div class="ttc" id="AHRS__Test_8cpp_html_a9fede12aaeb5750bcb131cae0430647c"><div class="ttname"><a href="AHRS__Test_8cpp.html#a9fede12aaeb5750bcb131cae0430647c">logger</a></div><div class="ttdeci">static AP_Logger logger</div><div class="ttdef"><b>Definition:</b> <a href="AHRS__Test_8cpp_source.html#l00029">AHRS_Test.cpp:29</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_a5dc0661313a5b2f45f8428c6d1024983a922eeb71ccd9862923f68246f86bb667"><div class="ttname"><a href="classAP__BoardConfig.html#a5dc0661313a5b2f45f8428c6d1024983a922eeb71ccd9862923f68246f86bb667">AP_BoardConfig::PX4_BOARD_AUAV21</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8h_source.html#l00075">AP_BoardConfig.h:75</a></div></div>
<div class="ttc" id="AP__Baro__LPS2XH_8h_html"><div class="ttname"><a href="AP__Baro__LPS2XH_8h.html">AP_Baro_LPS2XH.h</a></div></div>
<div class="ttc" id="classAP__Logger_html_ac57d171a2f3567f5d0a8f839f2c88ac4"><div class="ttname"><a href="classAP__Logger.html#ac57d171a2f3567f5d0a8f839f2c88ac4">AP_Logger::Write_Baro</a></div><div class="ttdeci">void Write_Baro(uint64_t time_us=0)</div><div class="ttdef"><b>Definition:</b> <a href="LogFile_8cpp_source.html#l00266">LogFile.cpp:266</a></div></div>
<div class="ttc" id="classAP__Baro_html_a6d51aa8a0b2e283837b5eab833bd5137"><div class="ttname"><a href="classAP__Baro.html#a6d51aa8a0b2e283837b5eab833bd5137">AP_Baro::get_last_update</a></div><div class="ttdeci">uint32_t get_last_update(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00116">AP_Baro.h:116</a></div></div>
<div class="ttc" id="classAP__Baro_html_ab008c6348bcd59cb8ed0fbb1cb51bff5"><div class="ttname"><a href="classAP__Baro.html#ab008c6348bcd59cb8ed0fbb1cb51bff5">AP_Baro::_num_sensors</a></div><div class="ttdeci">uint8_t _num_sensors</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00198">AP_Baro.h:198</a></div></div>
<div class="ttc" id="structAP__Baro_1_1sensor_html_ac78bcc8b22d5c8623f04ce5ef8af938c"><div class="ttname"><a href="structAP__Baro_1_1sensor.html#ac78bcc8b22d5c8623f04ce5ef8af938c">AP_Baro::sensor::pressure</a></div><div class="ttdeci">float pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00226">AP_Baro.h:226</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00118">AP_Param.h:118</a></div></div>
<div class="ttc" id="classAP__Baro_html_ac7e5af6f5164d5e107500b45343df85d"><div class="ttname"><a href="classAP__Baro.html#ac7e5af6f5164d5e107500b45343df85d">AP_Baro::all_healthy</a></div><div class="ttdeci">bool all_healthy(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00840">AP_Baro.cpp:840</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html_a94ab41309b1ff10b8b862b826e59c882"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a94ab41309b1ff10b8b862b826e59c882">AP_HAL::HAL::scheduler</a></div><div class="ttdeci">AP_HAL::Scheduler * scheduler</div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00114">HAL.h:114</a></div></div>
<div class="ttc" id="structAP__Baro_1_1sensor_html_a34dcd28c562002e52c19b3ebf6e7085f"><div class="ttname"><a href="structAP__Baro_1_1sensor.html#a34dcd28c562002e52c19b3ebf6e7085f">AP_Baro::sensor::alt_ok</a></div><div class="ttdeci">bool alt_ok</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00224">AP_Baro.h:224</a></div></div>
<div class="ttc" id="classAP__Baro_html_a64325d2127f10ef8d0a1da55f5bcd020a16a5811033431325dc7c9458b5335aed"><div class="ttname"><a href="classAP__Baro.html#a64325d2127f10ef8d0a1da55f5bcd020a16a5811033431325dc7c9458b5335aed">AP_Baro::BARO_TYPE_AIR</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00040">AP_Baro.h:40</a></div></div>
<div class="ttc" id="AP__Baro__BMP085_8h_html_af1239bda63efcfcf20d0011d0d153320"><div class="ttname"><a href="AP__Baro__BMP085_8h.html#af1239bda63efcfcf20d0011d0d153320">HAL_BARO_BMP085_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_BMP085_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__BMP085_8h_source.html#l00011">AP_Baro_BMP085.h:11</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4a2b2664a8f5ef13820836b44a6a79288e"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4a2b2664a8f5ef13820836b44a6a79288e">AP_Baro::PROBE_LPS25H</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00214">AP_Baro.h:214</a></div></div>
<div class="ttc" id="classAP__Baro_html_ae7ce0a42b45f66362123352494ab0eda"><div class="ttname"><a href="classAP__Baro.html#ae7ce0a42b45f66362123352494ab0eda">AP_Baro::should_log</a></div><div class="ttdeci">bool should_log() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8cpp_source.html#l00724">AP_Baro.cpp:724</a></div></div>
<div class="ttc" id="classAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8cpp_source.html#l01265">AP_Param.cpp:1265</a></div></div>
<div class="ttc" id="AP__Baro__KellerLD_8h_html_aa5f207105271ea933533b5a08e971d3b"><div class="ttname"><a href="AP__Baro__KellerLD_8h.html#aa5f207105271ea933533b5a08e971d3b">HAL_BARO_KELLERLD_I2C_ADDR</a></div><div class="ttdeci">#define HAL_BARO_KELLERLD_I2C_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__KellerLD_8h_source.html#l00035">AP_Baro_KellerLD.h:35</a></div></div>
<div class="ttc" id="classAP__Baro__MS56XX_html_a7edc0020985cb691bc534af158c04d09ab2ddf5ebc6f5e3ad8cb60a4e8578006a"><div class="ttname"><a href="classAP__Baro__MS56XX.html#a7edc0020985cb691bc534af158c04d09ab2ddf5ebc6f5e3ad8cb60a4e8578006a">AP_Baro_MS56XX::BARO_MS5637</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro__MS5611_8h_source.html#l00037">AP_Baro_MS5611.h:37</a></div></div>
<div class="ttc" id="classAP__Baro_html_a3ab4107b22fb3e2a8a21e84d4c0bdce4aa4ca414f6a22481aa0603ad163fe0fc5"><div class="ttname"><a href="classAP__Baro.html#a3ab4107b22fb3e2a8a21e84d4c0bdce4aa4ca414f6a22481aa0603ad163fe0fc5">AP_Baro::PROBE_MS5611</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00209">AP_Baro.h:209</a></div></div>
<div class="ttc" id="structAP__Baro_1_1sensor_html_a6271a78e7d60d7f4087c0a0c9cece22d"><div class="ttname"><a href="structAP__Baro_1_1sensor.html#a6271a78e7d60d7f4087c0a0c9cece22d">AP_Baro::sensor::altitude</a></div><div class="ttdeci">float altitude</div><div class="ttdef"><b>Definition:</b> <a href="AP__Baro_8h_source.html#l00228">AP_Baro.h:228</a></div></div>
<div class="ttc" id="classAP__BoardConfig_html_ab7d977aecbbe7090266bee755bf2cc32"><div class="ttname"><a href="classAP__BoardConfig.html#ab7d977aecbbe7090266bee755bf2cc32">AP_BoardConfig::sensor_config_error</a></div><div class="ttdeci">static void sensor_config_error(const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="AP__BoardConfig_8cpp_source.html#l00300">AP_BoardConfig.cpp:300</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 11 2019 14:17:26 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
