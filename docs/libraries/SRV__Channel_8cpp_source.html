<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/SRV_Channel/SRV_Channel.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_7c0f4bc6f9f3fcba9f67ba121904eead.html">SRV_Channel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SRV_Channel.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SRV__Channel_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   (at your option) any later version.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">  SRV_Channel.cpp - object to separate input and output channel</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">  ranges, trim and reversal</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Vehicle_8h.html">AP_Vehicle/AP_Vehicle.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SRV__Channel_8h.html">SRV_Channel.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code" href="SRV__Channel_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<a class="code" href="classSRV__Channel.html#a0d4ca005fc76a4e6266e042fd591347e">SRV_Channel::servo_mask_t</a> <a class="code" href="classSRV__Channel.html#a232441183cd8515de807440d626dfff1">SRV_Channel::have_pwm_mask</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">const</span> <a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classSRV__Channel.html#ad0cc86a76a9d4b9fe4138ec0f9976d29">SRV_Channel::var_info</a>[] = {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">// @Param: MIN</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">// @DisplayName: Minimum PWM</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">// @Description: minimum PWM pulse width in microseconds. Typically 1000 is lower limit, 1500 is neutral and 2000 is upper limit.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">// @Units: PWM</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// @Range: 500 2200</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;MIN&quot;</span>,  1, <a class="code" href="classSRV__Channel.html">SRV_Channel</a>, servo_min, 1100),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="comment">// @Param: MAX</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">// @DisplayName: Maximum PWM</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">// @Description: maximum PWM pulse width in microseconds. Typically 1000 is lower limit, 1500 is neutral and 2000 is upper limit.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// @Units: PWM</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">// @Range: 800 2200</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;MAX&quot;</span>,  2, <a class="code" href="classSRV__Channel.html">SRV_Channel</a>, servo_max, 1900),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// @Param: TRIM</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">// @DisplayName: Trim PWM</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">// @Description: Trim PWM pulse width in microseconds. Typically 1000 is lower limit, 1500 is neutral and 2000 is upper limit.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// @Units: PWM</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// @Range: 800 2200</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TRIM&quot;</span>,  3, <a class="code" href="classSRV__Channel.html">SRV_Channel</a>, servo_trim, 1500),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// @Param: REVERSED</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// @DisplayName: Servo reverse</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// @Description: Reverse servo operation. Set to 0 for normal operation. Set to 1 to reverse this output channel.</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// @Values: 0:Normal,1:Reversed</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;REVERSED&quot;</span>,  4, <a class="code" href="classSRV__Channel.html">SRV_Channel</a>, reversed, 0),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// @Param: FUNCTION</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// @DisplayName: Servo output function</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// @Description: Function assigned to this servo. Seeing this to Disabled(0) will setup this output for control by auto missions or MAVLink servo set commands. any other value will enable the corresponding function</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// @Values: 0:Disabled,1:RCPassThru,2:Flap,3:Flap_auto,4:Aileron,6:mount_pan,7:mount_tilt,8:mount_roll,9:mount_open,10:camera_trigger,11:release,12:mount2_pan,13:mount2_tilt,14:mount2_roll,15:mount2_open,16:DifferentialSpoilerLeft1,17:DifferentialSpoilerRight1,19:Elevator,21:Rudder,24:FlaperonLeft,25:FlaperonRight,26:GroundSteering,27:Parachute,28:EPM,29:LandingGear,30:EngineRunEnable,31:HeliRSC,32:HeliTailRSC,33:Motor1,34:Motor2,35:Motor3,36:Motor4,37:Motor5,38:Motor6,39:Motor7,40:Motor8,41:MotorTilt,51:RCIN1,52:RCIN2,53:RCIN3,54:RCIN4,55:RCIN5,56:RCIN6,57:RCIN7,58:RCIN8,59:RCIN9,60:RCIN10,61:RCIN11,62:RCIN12,63:RCIN13,64:RCIN14,65:RCIN15,66:RCIN16,67:Ignition,68:Choke,69:Starter,70:Throttle,71:TrackerYaw,72:TrackerPitch,73:ThrottleLeft,74:ThrottleRight,75:tiltMotorLeft,76:tiltMotorRight,77:ElevonLeft,78:ElevonRight,79:VTailLeft,80:VTailRight,81:BoostThrottle,82:Motor9,83:Motor10,84:Motor11,85:Motor12,86:DifferentialSpoilerLeft2,87:DifferentialSpoilerRight2,88:Winch,89:Main Sail,90:Camera ISO,91:Camera Focus,92:Camera Shutter Speed,94:Script 1,95:Script 2,96:Script 3,97:Script 4,98:Script 5,99:Script 6,100:Script 7,101:Script 8,102:Script 9,103:Script 10,104:Script 11,105:Script 12,106:Script 13,107:Script 14,108:Script 15,109:Script 16</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;FUNCTION&quot;</span>,  5, <a class="code" href="classSRV__Channel.html">SRV_Channel</a>, <span class="keyword">function</span>, 0),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;};</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a3dd3aac9864a7bc6f24b56eb93c56b16">   76</a></span>&#160;<a class="code" href="classSRV__Channel.html#a3dd3aac9864a7bc6f24b56eb93c56b16">SRV_Channel::SRV_Channel</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, <a class="code" href="classSRV__Channel.html#ad0cc86a76a9d4b9fe4138ec0f9976d29">var_info</a>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// start with all pwm at zero</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="classSRV__Channel.html#a232441183cd8515de807440d626dfff1">have_pwm_mask</a> = ~uint16_t(0);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// convert a 0..range_max to a pwm</span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a84323eefb049d7183196722cc0b15e50">   84</a></span>&#160;uint16_t <a class="code" href="classSRV__Channel.html#a84323eefb049d7183196722cc0b15e50">SRV_Channel::pwm_from_range</a>(int16_t scaled_value)<span class="keyword"> const</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">servo_max</a> &lt;= <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a> || <a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a> == 0) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    scaled_value = <a class="code" href="AP__Math_8h.html#a68558c4f79a8582543daefde13c64abc">constrain_int16</a>(scaled_value, 0, <a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#a0d314673378cd0a6b2d5c0c7e5dfe039">reversed</a>) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        scaled_value = <a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a> - scaled_value;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a> + ((int32_t)scaled_value * (int32_t)(<a class="code" href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">servo_max</a> - <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>)) / (int32_t)<a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">// convert a -angle_max..angle_max to a pwm</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a3ffa7019fb9b408b8f960916e87d3ae7">   97</a></span>&#160;uint16_t <a class="code" href="classSRV__Channel.html#a3ffa7019fb9b408b8f960916e87d3ae7">SRV_Channel::pwm_from_angle</a>(int16_t scaled_value)<span class="keyword"> const</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#a0d314673378cd0a6b2d5c0c7e5dfe039">reversed</a>) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        scaled_value = -scaled_value;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    scaled_value = <a class="code" href="AP__Math_8h.html#a68558c4f79a8582543daefde13c64abc">constrain_int16</a>(scaled_value, -<a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a>, <a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (scaled_value &gt; 0) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classSRV__Channel.html#a84f473b7fd901c5f85ce0254dac07d0b">servo_trim</a> + ((int32_t)scaled_value * (int32_t)(<a class="code" href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">servo_max</a> - <a class="code" href="classSRV__Channel.html#a84f473b7fd901c5f85ce0254dac07d0b">servo_trim</a>)) / (int32_t)<a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classSRV__Channel.html#a84f473b7fd901c5f85ce0254dac07d0b">servo_trim</a> - (-(int32_t)scaled_value * (int32_t)(<a class="code" href="classSRV__Channel.html#a84f473b7fd901c5f85ce0254dac07d0b">servo_trim</a> - <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>)) / (int32_t)<a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a0e60517967c7ac444d0aa7ab95299b05">  110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSRV__Channel.html#a0e60517967c7ac444d0aa7ab95299b05">SRV_Channel::calc_pwm</a>(int16_t output_scaled)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#a232441183cd8515de807440d626dfff1">have_pwm_mask</a> &amp; (1U&lt;&lt;<a class="code" href="classSRV__Channel.html#a25c85c164c1a16425368aea2448ae423">ch_num</a>)) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// check for E - stop</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#a8f507a020a37d43024a15d75c11f779b">SRV_Channel::should_e_stop</a>(<a class="code" href="classSRV__Channel.html#ab088a5a7d588b766d004f579088d9504">get_function</a>()) &amp;&amp; <a class="code" href="classSRV__Channels.html#a8dc2cd8e76106ac82ab3a22354dba183">SRV_Channels::emergency_stop</a>) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        output_scaled = 0;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    uint16_t <a class="code" href="examples_2RCOutput_2RCOutput_8cpp.html#a319168d2f969cabd35a4adcc01975c20">pwm</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#a93747f093da685e54e201769d2f3c9df">type_angle</a>) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="examples_2RCOutput_2RCOutput_8cpp.html#a319168d2f969cabd35a4adcc01975c20">pwm</a> = <a class="code" href="classSRV__Channel.html#a3ffa7019fb9b408b8f960916e87d3ae7">pwm_from_angle</a>(output_scaled);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="examples_2RCOutput_2RCOutput_8cpp.html#a319168d2f969cabd35a4adcc01975c20">pwm</a> = <a class="code" href="classSRV__Channel.html#a84323eefb049d7183196722cc0b15e50">pwm_from_range</a>(output_scaled);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="classSRV__Channel.html#ac3aad9644438d9f8250effcb21858ef3">set_output_pwm</a>(<a class="code" href="examples_2RCOutput_2RCOutput_8cpp.html#a319168d2f969cabd35a4adcc01975c20">pwm</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#ac3aad9644438d9f8250effcb21858ef3">  130</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSRV__Channel.html#ac3aad9644438d9f8250effcb21858ef3">SRV_Channel::set_output_pwm</a>(uint16_t <a class="code" href="examples_2RCOutput_2RCOutput_8cpp.html#a319168d2f969cabd35a4adcc01975c20">pwm</a>)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="classSRV__Channel.html#aa37a1b226b518977eb5130a5dfe55b04">output_pwm</a> = <a class="code" href="examples_2RCOutput_2RCOutput_8cpp.html#a319168d2f969cabd35a4adcc01975c20">pwm</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="classSRV__Channel.html#a232441183cd8515de807440d626dfff1">have_pwm_mask</a> |= (1U&lt;&lt;<a class="code" href="classSRV__Channel.html#a25c85c164c1a16425368aea2448ae423">ch_num</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">// set angular range of scaled output</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#aaf3193d70a486747bfbc9c6398cff261">  137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSRV__Channel.html#aaf3193d70a486747bfbc9c6398cff261">SRV_Channel::set_angle</a>(int16_t angle)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classSRV__Channel.html#a93747f093da685e54e201769d2f3c9df">type_angle</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a> = angle;    </div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="classSRV__Channel.html#a18ce2bcd671c92e5c4798baa1e4b9e88">type_setup</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// set range of scaled output</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a04f5baeec785c9f696798fa4a6c7d6ce">  145</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classSRV__Channel.html#a04f5baeec785c9f696798fa4a6c7d6ce">SRV_Channel::set_range</a>(uint16_t high)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classSRV__Channel.html#a93747f093da685e54e201769d2f3c9df">type_angle</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">high_out</a> = high;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="classSRV__Channel.html#a18ce2bcd671c92e5c4798baa1e4b9e88">type_setup</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">  get normalised output from -1 to 1, assuming 0 at mid point of servo_min/servo_max</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a05a4178ed001d4c08a2eaef3d297c552">  155</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classSRV__Channel.html#a05a4178ed001d4c08a2eaef3d297c552">SRV_Channel::get_output_norm</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    uint16_t mid = (<a class="code" href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">servo_max</a> + <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>) / 2;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">float</span> ret;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (mid &lt;= <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#aa37a1b226b518977eb5130a5dfe55b04">output_pwm</a> &lt; mid) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        ret = (float)(<a class="code" href="classSRV__Channel.html#aa37a1b226b518977eb5130a5dfe55b04">output_pwm</a> - mid) / (float)(mid - <a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#aa37a1b226b518977eb5130a5dfe55b04">output_pwm</a> &gt; mid) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        ret = (float)(<a class="code" href="classSRV__Channel.html#aa37a1b226b518977eb5130a5dfe55b04">output_pwm</a> - mid) / (float)(<a class="code" href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">servo_max</a>  - mid);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        ret = 0;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classSRV__Channel.html#a08d12bc5da50b61094e29e72fed64834">get_reversed</a>()) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;           ret = -ret;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#aede0e744f99e679fe0d7b02b11e397f2">  175</a></span>&#160;uint16_t <a class="code" href="classSRV__Channel.html#aede0e744f99e679fe0d7b02b11e397f2">SRV_Channel::get_limit_pwm</a>(<a class="code" href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402">LimitValue</a> limit)<span class="keyword"> const</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">switch</span> (limit) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_CHANNEL_LIMIT_TRIM</a>:</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classSRV__Channel.html#a84f473b7fd901c5f85ce0254dac07d0b">servo_trim</a>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a02247ed897469411d08061d46ce677ab">SRV_CHANNEL_LIMIT_MIN</a>:</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classSRV__Channel.html#a0d314673378cd0a6b2d5c0c7e5dfe039">reversed</a>?<a class="code" href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">servo_max</a>:<a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402acdfcac7b942f294b494a45d9f9bfaa0e">SRV_CHANNEL_LIMIT_MAX</a>:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classSRV__Channel.html#a0d314673378cd0a6b2d5c0c7e5dfe039">reversed</a>?<a class="code" href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">servo_min</a>:<a class="code" href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">servo_max</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_CHANNEL_LIMIT_ZERO_PWM</a>:</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">// return true if function is for a multicopter motor</span></div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a20a2ee9dab8a0aa6db2bc85f2961ae4a">  191</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classSRV__Channel.html#a20a2ee9dab8a0aa6db2bc85f2961ae4a">SRV_Channel::is_motor</a>(<a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> <span class="keyword">function</span>)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> ((<span class="keyword">function</span> &gt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a> &amp;&amp; <span class="keyword">function</span> &lt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a53b537cdced6f3a7ce3399fdb5b9ffa4">SRV_Channel::k_motor8</a>) ||</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            (<span class="keyword">function</span> &gt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68afca998b704f87ed48c40d59c7efdf1ff">SRV_Channel::k_motor9</a> &amp;&amp; <span class="keyword">function</span> &lt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a8330b307bb5876f7f23efecdbc627228">SRV_Channel::k_motor12</a>));</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">// return true if function is for anything that should be stopped in a e-stop situation, ie is dangerous</span></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classSRV__Channel.html#a8f507a020a37d43024a15d75c11f779b">  198</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classSRV__Channel.html#a8f507a020a37d43024a15d75c11f779b">SRV_Channel::should_e_stop</a>(<a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> <span class="keyword">function</span>)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> ((<span class="keyword">function</span> &gt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68adcc110d17b7e97846e4527388fd478df">SRV_Channel::k_heli_rsc</a> &amp;&amp; <span class="keyword">function</span> &lt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a53b537cdced6f3a7ce3399fdb5b9ffa4">SRV_Channel::k_motor8</a>) ||</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keyword">function</span> == <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74b4c481896ab920a1185557733423a6">SRV_Channel::k_starter</a> || <span class="keyword">function</span> == <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a> ||</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keyword">function</span> == <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a> || <span class="keyword">function</span> == <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a> ||</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            (<span class="keyword">function</span> &gt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68adb5d61716a36ae06fae4de509005a630">SRV_Channel::k_boost_throttle</a> &amp;&amp; <span class="keyword">function</span> &lt;= <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a8330b307bb5876f7f23efecdbc627228">SRV_Channel::k_motor12</a>) ||</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keyword">function</span> == <a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">k_engine_run_enable</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div><div class="ttc" id="classSRV__Channel_html_a8f507a020a37d43024a15d75c11f779b"><div class="ttname"><a href="classSRV__Channel.html#a8f507a020a37d43024a15d75c11f779b">SRV_Channel::should_e_stop</a></div><div class="ttdeci">static bool should_e_stop(SRV_Channel::Aux_servo_function_t function)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00198">SRV_Channel.cpp:198</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a207aaef5b9dba17e559b23915c0f3402a02247ed897469411d08061d46ce677ab"><div class="ttname"><a href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a02247ed897469411d08061d46ce677ab">SRV_Channel::SRV_CHANNEL_LIMIT_MIN</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00152">SRV_Channel.h:152</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a93747f093da685e54e201769d2f3c9df"><div class="ttname"><a href="classSRV__Channel.html#a93747f093da685e54e201769d2f3c9df">SRV_Channel::type_angle</a></div><div class="ttdeci">bool type_angle</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00237">SRV_Channel.h:237</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a3dd3aac9864a7bc6f24b56eb93c56b16"><div class="ttname"><a href="classSRV__Channel.html#a3dd3aac9864a7bc6f24b56eb93c56b16">SRV_Channel::SRV_Channel</a></div><div class="ttdeci">SRV_Channel(void)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00076">SRV_Channel.cpp:76</a></div></div>
<div class="ttc" id="classSRV__Channel_html_aede0e744f99e679fe0d7b02b11e397f2"><div class="ttname"><a href="classSRV__Channel.html#aede0e744f99e679fe0d7b02b11e397f2">SRV_Channel::get_limit_pwm</a></div><div class="ttdeci">uint16_t get_limit_pwm(LimitValue limit) const</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00175">SRV_Channel.cpp:175</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a20a2ee9dab8a0aa6db2bc85f2961ae4a"><div class="ttname"><a href="classSRV__Channel.html#a20a2ee9dab8a0aa6db2bc85f2961ae4a">SRV_Channel::is_motor</a></div><div class="ttdeci">static bool is_motor(SRV_Channel::Aux_servo_function_t function)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00191">SRV_Channel.cpp:191</a></div></div>
<div class="ttc" id="classSRV__Channel_html_ab088a5a7d588b766d004f579088d9504"><div class="ttname"><a href="classSRV__Channel.html#ab088a5a7d588b766d004f579088d9504">SRV_Channel::get_function</a></div><div class="ttdeci">SRV_Channel::Aux_servo_function_t get_function(void) const</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00200">SRV_Channel.h:200</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a68558c4f79a8582543daefde13c64abc"><div class="ttname"><a href="AP__Math_8h.html#a68558c4f79a8582543daefde13c64abc">constrain_int16</a></div><div class="ttdeci">int16_t constrain_int16(const int16_t amt, const int16_t low, const int16_t high)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00147">AP_Math.h:147</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a74b4c481896ab920a1185557733423a6"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74b4c481896ab920a1185557733423a6">SRV_Channel::k_starter</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00105">SRV_Channel.h:105</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a84323eefb049d7183196722cc0b15e50"><div class="ttname"><a href="classSRV__Channel.html#a84323eefb049d7183196722cc0b15e50">SRV_Channel::pwm_from_range</a></div><div class="ttdeci">uint16_t pwm_from_range(int16_t scaled_value) const</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00084">SRV_Channel.cpp:84</a></div></div>
<div class="ttc" id="classSRV__Channel_html_aaf3193d70a486747bfbc9c6398cff261"><div class="ttname"><a href="classSRV__Channel.html#aaf3193d70a486747bfbc9c6398cff261">SRV_Channel::set_angle</a></div><div class="ttdeci">void set_angle(int16_t angle)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00137">SRV_Channel.cpp:137</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a18ce2bcd671c92e5c4798baa1e4b9e88"><div class="ttname"><a href="classSRV__Channel.html#a18ce2bcd671c92e5c4798baa1e4b9e88">SRV_Channel::type_setup</a></div><div class="ttdeci">bool type_setup</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00240">SRV_Channel.h:240</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a9092e3ef14fd05ed3913977030258cda">SRV_Channel::k_engine_run_enable</a></div><div class="ttdoc">engine kill switch, used for gas airplanes and helicopters</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00075">SRV_Channel.h:75</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a04f5baeec785c9f696798fa4a6c7d6ce"><div class="ttname"><a href="classSRV__Channel.html#a04f5baeec785c9f696798fa4a6c7d6ce">SRV_Channel::set_range</a></div><div class="ttdeci">void set_range(uint16_t high)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00145">SRV_Channel.cpp:145</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73"><div class="ttname"><a href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00151">SRV_Channel.h:151</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a05a4178ed001d4c08a2eaef3d297c552"><div class="ttname"><a href="classSRV__Channel.html#a05a4178ed001d4c08a2eaef3d297c552">SRV_Channel::get_output_norm</a></div><div class="ttdeci">float get_output_norm(void)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00155">SRV_Channel.cpp:155</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a25c85c164c1a16425368aea2448ae423"><div class="ttname"><a href="classSRV__Channel.html#a25c85c164c1a16425368aea2448ae423">SRV_Channel::ch_num</a></div><div class="ttdeci">uint8_t ch_num</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00243">SRV_Channel.h:243</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00100">AP_Param.h:100</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a></div><div class="ttdeci">Aux_servo_function_t</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00043">SRV_Channel.h:43</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a84f473b7fd901c5f85ce0254dac07d0b"><div class="ttname"><a href="classSRV__Channel.html#a84f473b7fd901c5f85ce0254dac07d0b">SRV_Channel::servo_trim</a></div><div class="ttdeci">AP_Int16 servo_trim</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00228">SRV_Channel.h:228</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df"><div class="ttname"><a href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00154">SRV_Channel.h:154</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a8dc2cd8e76106ac82ab3a22354dba183"><div class="ttname"><a href="classSRV__Channels.html#a8dc2cd8e76106ac82ab3a22354dba183">SRV_Channels::emergency_stop</a></div><div class="ttdeci">static bool emergency_stop</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00542">SRV_Channel.h:542</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00106">SRV_Channel.h:106</a></div></div>
<div class="ttc" id="examples_2RCOutput_2RCOutput_8cpp_html_a319168d2f969cabd35a4adcc01975c20"><div class="ttname"><a href="examples_2RCOutput_2RCOutput_8cpp.html#a319168d2f969cabd35a4adcc01975c20">pwm</a></div><div class="ttdeci">static uint16_t pwm</div><div class="ttdef"><b>Definition:</b> <a href="examples_2RCOutput_2RCOutput_8cpp_source.html#l00033">RCOutput.cpp:33</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a3ffa7019fb9b408b8f960916e87d3ae7"><div class="ttname"><a href="classSRV__Channel.html#a3ffa7019fb9b408b8f960916e87d3ae7">SRV_Channel::pwm_from_angle</a></div><div class="ttdeci">uint16_t pwm_from_angle(int16_t scaled_value) const</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00097">SRV_Channel.cpp:97</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9505a3b0bd557548f31e675d7cf012df"><div class="ttname"><a href="classSRV__Channel.html#a9505a3b0bd557548f31e675d7cf012df">SRV_Channel::servo_max</a></div><div class="ttdeci">AP_Int16 servo_max</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00227">SRV_Channel.h:227</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68afca998b704f87ed48c40d59c7efdf1ff"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68afca998b704f87ed48c40d59c7efdf1ff">SRV_Channel::k_motor9</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00118">SRV_Channel.h:118</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a30b59d3773e2323aa1c2fc75141f4586"><div class="ttname"><a href="classSRV__Channel.html#a30b59d3773e2323aa1c2fc75141f4586">SRV_Channel::servo_min</a></div><div class="ttdeci">AP_Int16 servo_min</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00226">SRV_Channel.h:226</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00110">SRV_Channel.h:110</a></div></div>
<div class="ttc" id="classSRV__Channel_html_aa37a1b226b518977eb5130a5dfe55b04"><div class="ttname"><a href="classSRV__Channel.html#aa37a1b226b518977eb5130a5dfe55b04">SRV_Channel::output_pwm</a></div><div class="ttdeci">uint16_t output_pwm</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00234">SRV_Channel.h:234</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a207aaef5b9dba17e559b23915c0f3402"><div class="ttname"><a href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402">SRV_Channel::LimitValue</a></div><div class="ttdeci">LimitValue</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00150">SRV_Channel.h:150</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a53b537cdced6f3a7ce3399fdb5b9ffa4"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a53b537cdced6f3a7ce3399fdb5b9ffa4">SRV_Channel::k_motor8</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00085">SRV_Channel.h:85</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a></div><div class="ttdoc">these allow remapping of copter motors</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00078">SRV_Channel.h:78</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00142">AP_Param.h:142</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a0d314673378cd0a6b2d5c0c7e5dfe039"><div class="ttname"><a href="classSRV__Channel.html#a0d314673378cd0a6b2d5c0c7e5dfe039">SRV_Channel::reversed</a></div><div class="ttdeci">AP_Int8 reversed</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00230">SRV_Channel.h:230</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a8330b307bb5876f7f23efecdbc627228"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a8330b307bb5876f7f23efecdbc627228">SRV_Channel::k_motor12</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00121">SRV_Channel.h:121</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a207aaef5b9dba17e559b23915c0f3402acdfcac7b942f294b494a45d9f9bfaa0e"><div class="ttname"><a href="classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402acdfcac7b942f294b494a45d9f9bfaa0e">SRV_Channel::SRV_CHANNEL_LIMIT_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00153">SRV_Channel.h:153</a></div></div>
<div class="ttc" id="AP__Vehicle_8h_html"><div class="ttname"><a href="AP__Vehicle_8h.html">AP_Vehicle.h</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68adcc110d17b7e97846e4527388fd478df"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68adcc110d17b7e97846e4527388fd478df">SRV_Channel::k_heli_rsc</a></div><div class="ttdoc">helicopter RSC output</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00076">SRV_Channel.h:76</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00109">SRV_Channel.h:109</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a08d12bc5da50b61094e29e72fed64834"><div class="ttname"><a href="classSRV__Channel.html#a08d12bc5da50b61094e29e72fed64834">SRV_Channel::get_reversed</a></div><div class="ttdeci">bool get_reversed(void) const</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00170">SRV_Channel.h:170</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a232441183cd8515de807440d626dfff1"><div class="ttname"><a href="classSRV__Channel.html#a232441183cd8515de807440d626dfff1">SRV_Channel::have_pwm_mask</a></div><div class="ttdeci">static servo_mask_t have_pwm_mask</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00274">SRV_Channel.h:274</a></div></div>
<div class="ttc" id="SRV__Channel_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="SRV__Channel_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition:</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a0d4ca005fc76a4e6266e042fd591347e"><div class="ttname"><a href="classSRV__Channel.html#a0d4ca005fc76a4e6266e042fd591347e">SRV_Channel::servo_mask_t</a></div><div class="ttdeci">uint16_t servo_mask_t</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00270">SRV_Channel.h:270</a></div></div>
<div class="ttc" id="classSRV__Channel_html_ad0cc86a76a9d4b9fe4138ec0f9976d29"><div class="ttname"><a href="classSRV__Channel.html#ad0cc86a76a9d4b9fe4138ec0f9976d29">SRV_Channel::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00041">SRV_Channel.h:41</a></div></div>
<div class="ttc" id="classSRV__Channel_html_ac3aad9644438d9f8250effcb21858ef3"><div class="ttname"><a href="classSRV__Channel.html#ac3aad9644438d9f8250effcb21858ef3">SRV_Channel::set_output_pwm</a></div><div class="ttdeci">void set_output_pwm(uint16_t pwm)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00130">SRV_Channel.cpp:130</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a0e60517967c7ac444d0aa7ab95299b05"><div class="ttname"><a href="classSRV__Channel.html#a0e60517967c7ac444d0aa7ab95299b05">SRV_Channel::calc_pwm</a></div><div class="ttdeci">void calc_pwm(int16_t output_scaled)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8cpp_source.html#l00110">SRV_Channel.cpp:110</a></div></div>
<div class="ttc" id="SRV__Channel_8h_html"><div class="ttname"><a href="SRV__Channel_8h.html">SRV_Channel.h</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a5461b02611c53c80fe9fd0390e847199"><div class="ttname"><a href="classSRV__Channel.html#a5461b02611c53c80fe9fd0390e847199">SRV_Channel::high_out</a></div><div class="ttdeci">uint16_t high_out</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00246">SRV_Channel.h:246</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00118">AP_Param.h:118</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68adb5d61716a36ae06fae4de509005a630"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68adb5d61716a36ae06fae4de509005a630">SRV_Channel::k_boost_throttle</a></div><div class="ttdoc">vertical booster throttle</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00117">SRV_Channel.h:117</a></div></div>
<div class="ttc" id="classSRV__Channel_html"><div class="ttname"><a href="classSRV__Channel.html">SRV_Channel</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00034">SRV_Channel.h:34</a></div></div>
<div class="ttc" id="classAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8cpp_source.html#l01265">AP_Param.cpp:1265</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 11 2019 14:17:38 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
