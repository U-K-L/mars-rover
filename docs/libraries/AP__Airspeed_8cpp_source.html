<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Airspeed/AP_Airspeed.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_f0f1373a5071732c20e016b31c47ef93.html">AP_Airspeed</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AP_Airspeed.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AP__Airspeed_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   (at your option) any later version.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">   </span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">   </span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *   AP_Airspeed.cpp - airspeed (pitot) driver</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Common_8h.html">AP_Common/AP_Common.h</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="I2CDevice_8h.html">AP_HAL/I2CDevice.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="SRV__Channel_8h.html">SRV_Channel/SRV_Channel.h</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Logger_8h.html">AP_Logger/AP_Logger.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed_8h.html">AP_Airspeed.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__MS4525_8h.html">AP_Airspeed_MS4525.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__MS5525_8h.html">AP_Airspeed_MS5525.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__SDP3X_8h.html">AP_Airspeed_SDP3X.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__DLVR_8h.html">AP_Airspeed_DLVR.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__analog_8h.html">AP_Airspeed_analog.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__Backend_8h.html">AP_Airspeed_Backend.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#if HAL_WITH_UAVCAN</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Airspeed__UAVCAN_8h.html">AP_Airspeed_UAVCAN.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a> &amp;<a class="code" href="AP__Airspeed_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#if CONFIG_HAL_BOARD == HAL_BOARD_SITL</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">   41</a></span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_TYPE TYPE_ANALOG</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">   42</a></span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_PIN 1</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#elif APM_BUILD_TYPE(APM_BUILD_APMrover2)</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_TYPE TYPE_NONE</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_PIN 15</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_TYPE TYPE_I2C_MS4525</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor"> #define ARSPD_DEFAULT_PIN 15</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#if CONFIG_HAL_BOARD_SUBTYPE == HAL_BOARD_SUBTYPE_LINUX_DISCO</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#a031d36bae57355f739b22328a0976880">   52</a></span>&#160;<span class="preprocessor">#define PSI_RANGE_DEFAULT 0.05</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#ifndef PSI_RANGE_DEFAULT</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define PSI_RANGE_DEFAULT 1.0f</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// table of user settable parameters</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">const</span> <a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">AP_Airspeed::var_info</a>[] = {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// @Param: _TYPE</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// @DisplayName: Airspeed type</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// @Description: Type of airspeed sensor</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// @Values: 0:None,1:I2C-MS4525D0,2:Analog,3:I2C-MS5525,4:I2C-MS5525 (0x76),5:I2C-MS5525 (0x77),6:I2C-SDP3X,7:I2C-DLVR,8:UAVCAN</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a>(<span class="stringliteral">&quot;_TYPE&quot;</span>, 0, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].<a class="code" href="structtype.html">type</a>, <a class="code" href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">ARSPD_DEFAULT_TYPE</a>, <a class="code" href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a>),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// @Param: _USE</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// @DisplayName: Airspeed use</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// @Description: Enables airspeed use for automatic throttle modes and replaces control from THR_TRIM. Continues to display and log airspeed if set to 0. Uses airspeed for control if set to 1. Only uses airspeed when throttle = 0 if set to 2 (useful for gliders with airspeed sensors behind propellers).</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// @Values: 0:DoNotUse,1:Use,2:UseWhenZeroThrottle</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_USE&quot;</span>,    1, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].use, 0),</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// @Param: _OFFSET</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// @DisplayName: Airspeed offset</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// @Description: Airspeed calibration offset</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_OFFSET&quot;</span>, 2, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].offset, 0),</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// @Param: _RATIO</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// @DisplayName: Airspeed ratio</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// @Description: Calibrates pitot tube pressure to velocity. Increasing this value will indicate a higher airspeed at any given dynamic pressure.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_RATIO&quot;</span>,  3, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].ratio, 1.9936<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// @Param: _PIN</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// @DisplayName: Airspeed pin</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// @Description: The pin number that the airspeed sensor is connected to for analog sensors. Set to 15 on the Pixhawk for the analog airspeed port. </span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_PIN&quot;</span>,  4, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].<a class="code" href="examples_2AnalogIn_2AnalogIn_8cpp.html#abe4194b4dba3de3d9a7e7842bd6fc8ac">pin</a>, <a class="code" href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">ARSPD_DEFAULT_PIN</a>),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// @Param: _AUTOCAL</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// @DisplayName: Automatic airspeed ratio calibration</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// @Description: Enables automatic adjustment of ARSPD_RATIO during a calibration flight based on estimation of ground speed and true airspeed. New ratio saved every 2 minutes if change is &gt; 5%. Should not be left enabled.</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_AUTOCAL&quot;</span>,  5, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].autocal, 0),</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// @Param: _TUBE_ORDER</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// @DisplayName: Control pitot tube order</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// @Description: Changes the pitot tube order to specify the dynamic pressure side of the sensor. Accepts either if set to 2. Accepts only one side if set to 0 or 1 and can help detect excessive pressure on the static port without indicating positive airspeed.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_TUBE_ORDER&quot;</span>,  6, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].tube_order, 2),</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// @Param: _SKIP_CAL</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// @DisplayName: Skip airspeed calibration on startup</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// @Description: This parameter allows you to skip airspeed offset calibration on startup, instead using the offset from the last calibration. This may be desirable if the offset variance between flights for your sensor is low and you want to avoid having to cover the pitot tube on each boot.</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// @Values: 0:Disable,1:Enable</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_SKIP_CAL&quot;</span>,  7, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].skip_cal, 0),</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// @Param: _PSI_RANGE</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// @DisplayName: The PSI range of the device</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// @Description: This parameter allows you to to set the PSI (pounds per square inch) range for your sensor. You should not change this unless you examine the datasheet for your device</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_PSI_RANGE&quot;</span>,  8, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].psi_range, <a class="code" href="AP__Airspeed_8cpp.html#a031d36bae57355f739b22328a0976880">PSI_RANGE_DEFAULT</a>),</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// @Param: _BUS</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// @DisplayName: Airspeed I2C bus</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// @Description: Bus number of the I2C bus where the airspeed sensor is connected</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// @Values: 0:Bus0(internal),1:Bus1(external),2:Bus2(auxillary)</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_BUS&quot;</span>,  9, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[0].bus, 1),</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// @Param: _PRIMARY</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// @DisplayName: Primary airspeed sensor</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// @Description: This selects which airspeed sensor will be the primary if multiple sensors are found</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// @Values: 0:FirstSensor,1:2ndSensor</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_PRIMARY&quot;</span>, 10, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, primary_sensor, 0),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// @Param: _OPTIONS</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// @DisplayName: Airspeed options bitmask</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// @Description: Bitmask of options to use with airspeed.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// @Bitmask: 0:Disable on sensor failure,1:Re-enable on sensor recovery</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;_OPTIONS&quot;</span>, 21, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, _options, 0),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// @Param: 2_TYPE</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// @DisplayName: Second Airspeed type</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// @Description: Type of 2nd airspeed sensor</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// @Values: 0:None,1:I2C-MS4525D0,2:Analog,3:I2C-MS5525,4:I2C-MS5525 (0x76),5:I2C-MS5525 (0x77),6:I2C-SDP3X,7:I2C-DLVR,8:UAVCAN</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a>(<span class="stringliteral">&quot;2_TYPE&quot;</span>, 11, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].<a class="code" href="structtype.html">type</a>, 0, <a class="code" href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a>),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// @Param: 2_USE</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// @DisplayName: Enable use of 2nd airspeed sensor</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// @Description: use airspeed for flight control. When set to 0 airspeed sensor can be logged and displayed on a GCS but won&#39;t be used for flight. When set to 1 it will be logged and used. When set to 2 it will be only used when the throttle is zero, which can be useful in gliders with airspeed sensors behind a propeller</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// @Values: 0:Don&#39;t Use,1:use,2:UseWhenZeroThrottle</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_USE&quot;</span>,    12, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].use, 0),</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// @Param: 2_OFFSET</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// @DisplayName: Airspeed offset for 2nd airspeed sensor</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// @Description: Airspeed calibration offset</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_OFFSET&quot;</span>, 13, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].offset, 0),</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// @Param: 2_RATIO</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// @DisplayName: Airspeed ratio for 2nd airspeed sensor</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// @Description: Airspeed calibration ratio</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_RATIO&quot;</span>,  14, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].ratio, 2),</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// @Param: 2_PIN</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// @DisplayName: Airspeed pin for 2nd airspeed sensor</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// @Description: Pin number indicating location of analog airspeed sensors. Pixhawk/Cube if set to 15. </span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_PIN&quot;</span>,  15, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].<a class="code" href="examples_2AnalogIn_2AnalogIn_8cpp.html#abe4194b4dba3de3d9a7e7842bd6fc8ac">pin</a>, 0),</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// @Param: 2_AUTOCAL</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// @DisplayName: Automatic airspeed ratio calibration for 2nd airspeed sensor</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// @Description: If this is enabled then the autopilot will automatically adjust the ARSPD_RATIO during flight, based upon an estimation filter using ground speed and true airspeed. The automatic calibration will save the new ratio to EEPROM every 2 minutes if it changes by more than 5%. This option should be enabled for a calibration flight then disabled again when calibration is complete. Leaving it enabled all the time is not recommended.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_AUTOCAL&quot;</span>,  16, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].autocal, 0),</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// @Param: 2_TUBE_ORDR</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// @DisplayName: Control pitot tube order of 2nd airspeed sensor</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// @Description: This parameter allows you to control whether the order in which the tubes are attached to your pitot tube matters. If you set this to 0 then the top connector on the sensor needs to be the dynamic pressure. If set to 1 then the bottom connector needs to be the dynamic pressure. If set to 2 (the default) then the airspeed driver will accept either order. The reason you may wish to specify the order is it will allow your airspeed sensor to detect if the aircraft it receiving excessive pressure on the static port, which would otherwise be seen as a positive airspeed.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_TUBE_ORDR&quot;</span>,  17, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].tube_order, 2),</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// @Param: 2_SKIP_CAL</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// @DisplayName: Skip airspeed calibration on startup for 2nd sensor</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// @Description: This parameter allows you to skip airspeed offset calibration on startup, instead using the offset from the last calibration. This may be desirable if the offset variance between flights for your sensor is low and you want to avoid having to cover the pitot tube on each boot.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// @Values: 0:Disable,1:Enable</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_SKIP_CAL&quot;</span>,  18, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].skip_cal, 0),</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// @Param: 2_PSI_RANGE</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// @DisplayName: The PSI range of the device for 2nd sensor</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// @Description: This parameter allows you to to set the PSI (pounds per square inch) range for your sensor. You should not change this unless you examine the datasheet for your device</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_PSI_RANGE&quot;</span>,  19, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].psi_range, <a class="code" href="AP__Airspeed_8cpp.html#a031d36bae57355f739b22328a0976880">PSI_RANGE_DEFAULT</a>),</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// @Param: 2_BUS</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// @DisplayName: Airspeed I2C bus for 2nd sensor</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// @Description: The bus number of the I2C bus to look for the sensor on</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// @Values: 0:Bus0(internal),1:Bus1(external),2:Bus2(auxillary)</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;2_BUS&quot;</span>,  20, <a class="code" href="classAP__Airspeed.html">AP_Airspeed</a>, param[1].bus, 1),</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// Note that 21 is used above by the _OPTIONS parameter.  Do not use 21.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;};</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  this scaling factor converts from the old system where we used a</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">  0 to 4095 raw ADC value for 0-5V to the new system which gets the</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">  voltage in volts directly from the ADC driver</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="AP__Airspeed_8cpp.html#aac6646b1879de350161c105ea856c2c3">  218</a></span>&#160;<span class="preprocessor">#define SCALING_OLD_CALIBRATION 819 // 4095/5</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">  220</a></span>&#160;<a class="code" href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">AP_Airspeed::AP_Airspeed</a>()</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, <a class="code" href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">var_info</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">_singleton</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a>(<span class="stringliteral">&quot;AP_Airspeed must be singleton&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">_singleton</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">  230</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">AP_Airspeed::init</a>()</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// cope with upgrade from old system</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[0].<a class="code" href="classAP__Airspeed.html#a07f2d01e2723573f19d94a7ab04de9a8">pin</a>.load() &amp;&amp; <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[0].pin.get() != 65) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[0].type.set_default(<a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">TYPE_ANALOG</a>);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="AP__Airspeed_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a9550b60a046ce012f82d3cb3692f139e">calibration</a>.<a class="code" href="classAirspeed__Calibration.html#ae88c0e8719c02f942e6cafeb7cf46d1e">init</a>(<a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">ratio</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#adbd658333460e82b02fdda13d2b73229">last_saved_ratio</a> = <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].ratio;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="comment">// Set the enable automatically to false and set the probability that the airspeed is healhy to start with</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a219e8fedcaa11773317e1dde7abd36a6">failures</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ab3dd7fce5e539f71bc905c0c91803623">health_probability</a> = 1.0f;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">switch</span> ((<span class="keyword">enum</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74">airspeed_type</a>)<a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="structtype.html">type</a>.get()) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">TYPE_NONE</a>:</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="comment">// nothing to do</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea">TYPE_I2C_MS4525</a>:</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__MS4525.html">AP_Airspeed_MS4525</a>(*<span class="keyword">this</span>, i);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">TYPE_ANALOG</a>:</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__Analog.html">AP_Airspeed_Analog</a>(*<span class="keyword">this</span>, i);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97">TYPE_I2C_MS5525</a>:</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a>(*<span class="keyword">this</span>, i, <a class="code" href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7ad0fdadd4338e9bc54ca86eee4054275d">AP_Airspeed_MS5525::MS5525_ADDR_AUTO</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a41e13c618d983e15e669d1868394a250">TYPE_I2C_MS5525_ADDRESS_1</a>:</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a>(*<span class="keyword">this</span>, i, <a class="code" href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a8a501e87a16c8e40f988f9b705b4b4af">AP_Airspeed_MS5525::MS5525_ADDR_1</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74af161b354bbcb00f55934ddada42c724e">TYPE_I2C_MS5525_ADDRESS_2</a>:</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a>(*<span class="keyword">this</span>, i, <a class="code" href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a060d41a05143cf2a08cd2b6720784845">AP_Airspeed_MS5525::MS5525_ADDR_2</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a076a654ca4145911f7d3e1a0ab4d5c33">TYPE_I2C_SDP3X</a>:</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__SDP3X.html">AP_Airspeed_SDP3X</a>(*<span class="keyword">this</span>, i);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ab090c40668c75392d45edef949463379">TYPE_I2C_DLVR</a>:</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#if !HAL_MINIMIZE_FEATURES</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">new</span> <a class="code" href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a>(*<span class="keyword">this</span>, i);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#endif // !HAL_MINIMIZE_FEATURES</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3760a1d6437b135960501e24ef257499">TYPE_UAVCAN</a>:</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">#if HAL_WITH_UAVCAN</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <a class="code" href="classAP__Airspeed__UAVCAN.html#a7202a898cf4518d7791847c275bea607">AP_Airspeed_UAVCAN::probe</a>(*<span class="keyword">this</span>, i);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] &amp;&amp; !<a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code" href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">init</a>()) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Airspeed %u init failed&quot;</span>, i + 1);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i];</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">// read the airspeed sensor</span></div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">  287</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">AP_Airspeed::get_pressure</a>(uint8_t i)</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].hil_set) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#af993505bb992b3914b939b78d27f4798">hil_pressure</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">float</span> pressure = 0;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a> = <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code" href="classAP__Airspeed__Backend.html#a13ffe36cf0a00f387172d7345a013980">get_differential_pressure</a>(pressure);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> pressure;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// get a temperature reading if possible</span></div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">  304</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">AP_Airspeed::get_temperature</a>(uint8_t i, <span class="keywordtype">float</span> &amp;<a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]-&gt;<a class="code" href="classAP__Airspeed__Backend.html#ab0e4ed6819fefd4da1c7a8e30a595186">get_temperature</a>(<a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// calibrate the zero offset for the airspeed. This must be called at</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">// least once before the get_airspeed() interface can be used</span></div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">  317</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">AP_Airspeed::calibrate</a>(<span class="keywordtype">bool</span> in_startup)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AP__Airspeed_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="code" href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="code" href="classAP__HAL_1_1Util.html#a19cbaa06e0e8804d1669deacf5ad6081">was_watchdog_reset</a>()) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO,<span class="stringliteral">&quot;Airspeed: skipping cal&quot;</span>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="AP__Airspeed_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].use_zero_offset) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].offset.set(0);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span> (in_startup &amp;&amp; <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#a1df3ec68259527c728d0fd2cfa041182">skip_cal</a>) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">start_ms</a> = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">count</a> = 0;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">sum</a> = 0;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">read_count</a> = 0;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO,<span class="stringliteral">&quot;Airspeed calibration started&quot;</span>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">  update async airspeed zero offset calibration</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a4fcbb494a95e1043ef3242d7524cce90">  345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">AP_Airspeed::update_calibration</a>(uint8_t i, <span class="keywordtype">float</span> raw_pressure)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].cal.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">start_ms</a> == 0) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    </div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// consider calibration complete when we have at least 15 samples</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// over at least 1 second</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>() - <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].cal.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">start_ms</a> &gt;= 1000 &amp;&amp;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">read_count</a> &gt; 15) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].cal.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">count</a> == 0) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Airspeed %u unhealthy&quot;</span>, i + 1);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_INFO, <span class="stringliteral">&quot;Airspeed %u calibrated&quot;</span>, i + 1);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].offset.set_and_save(<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].cal.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">sum</a> / <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">count</a>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">start_ms</a> = 0;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// we discard the first 5 samples</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a> &amp;&amp; <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].cal.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">read_count</a> &gt; 5) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">sum</a> += raw_pressure;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">count</a>++;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">cal</a>.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">read_count</a>++;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">// read one airspeed sensor</span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">  373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">AP_Airspeed::read</a>(uint8_t i)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">float</span> airspeed_pressure;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || !<a class="code" href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">sensor</a>[i]) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">bool</span> prev_healthy = <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">float</span> raw_pressure = <a class="code" href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">get_pressure</a>(i);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].cal.<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">start_ms</a> != 0) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">update_calibration</a>(i, raw_pressure);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    </div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    airspeed_pressure = raw_pressure - <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].offset;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// remember raw pressure for logging</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a6d6006e0bb1e0f6ed506bc1c8b770bb8">corrected_pressure</a> = airspeed_pressure;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// filter before clamping positive</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (!prev_healthy) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="comment">// if the previous state was not healthy then we should not</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="comment">// use an IIR filter, otherwise a bad reading will last for</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">// some time after the sensor becomees healthy again</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">filtered_pressure</a> = airspeed_pressure;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">filtered_pressure</a> = 0.7f * <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">filtered_pressure</a> + 0.3f * airspeed_pressure;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">      we support different pitot tube setups so user can choose if</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">      they want to be able to detect pressure on the static port</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">switch</span> ((<span class="keyword">enum</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79">pitot_tube_order</a>)<a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#ab2b83a59f5d2c233224d54d1eea1e373">tube_order</a>.get()) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9">PITOT_TUBE_ORDER_NEGATIVE</a>:</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a>  = -airspeed_pressure;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a>   = sqrtf(<a class="code" href="AP__Math_8h.html#a5abc8871f1e7781a55afe9bf299f0a39">MAX</a>(-airspeed_pressure, 0) * <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">ratio</a>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>       = sqrtf(<a class="code" href="AP__Math_8h.html#a5abc8871f1e7781a55afe9bf299f0a39">MAX</a>(-<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].filtered_pressure, 0) * <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">ratio</a>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a">PITOT_TUBE_ORDER_POSITIVE</a>:</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a>  = airspeed_pressure;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a>   = sqrtf(<a class="code" href="AP__Math_8h.html#a5abc8871f1e7781a55afe9bf299f0a39">MAX</a>(airspeed_pressure, 0) * <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">ratio</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>       = sqrtf(<a class="code" href="AP__Math_8h.html#a5abc8871f1e7781a55afe9bf299f0a39">MAX</a>(<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].filtered_pressure, 0) * <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">ratio</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2">PITOT_TUBE_ORDER_AUTO</a>:</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a>  = fabsf(airspeed_pressure);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a>   = sqrtf(fabsf(airspeed_pressure) * <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">ratio</a>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a>       = sqrtf(fabsf(<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].filtered_pressure) * <a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">ratio</a>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].last_pressure &lt; -32) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="comment">// we&#39;re reading more than about -8m/s. The user probably has</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="comment">// the ports the wrong way around</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[i].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a802afce0a22cdc6d44030dcd936c5949">last_update_ms</a> = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">// read all airspeed sensors</span></div><div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#acbfd9b9539ea2e60f1e6f69509cae1e4">  433</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#acbfd9b9539ea2e60f1e6f69509cae1e4">AP_Airspeed::update</a>(<span class="keywordtype">bool</span> log)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;{</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="AP__Airspeed_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">read</a>(i);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// debugging until we get MAVLink support for 2nd airspeed sensor</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(1)) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a36bac57d1573fce99894d56aef0f7c59">send_named_float</a>(<span class="stringliteral">&quot;AS2&quot;</span>, <a class="code" href="classAP__Airspeed.html#ab82c0541f8a638719b255bc3c973df80">get_airspeed</a>(1));</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// setup primary</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>(<a class="code" href="classAP__Airspeed.html#aa4ac5108744a4b04eb11043acd6d4bbf">primary_sensor</a>.get())) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">primary</a> = <a class="code" href="classAP__Airspeed.html#aa4ac5108744a4b04eb11043acd6d4bbf">primary_sensor</a>.get();</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="AP__Airspeed_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>(i)) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <a class="code" href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">primary</a> = i;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="classAP__Airspeed.html#a454316cc394033c2f636a5e86f9f49f8">check_sensor_failures</a>();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (log) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="classAP__Airspeed.html#ac4301d128dccde68d647bc3c191d6461">Log_Airspeed</a>();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#ac4301d128dccde68d647bc3c191d6461">  465</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#ac4301d128dccde68d647bc3c191d6461">AP_Airspeed::Log_Airspeed</a>()</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;{</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keyword">const</span> uint64_t now = <a class="code" href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a>();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="AP__Airspeed_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i)) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">get_temperature</a>(i, <a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a> = 0;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keyword">struct </span><a class="code" href="structlog__AIRSPEED.html">log_AIRSPEED</a> pkt = {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="LogStructure_8h.html#abca6b52da10346c72b10dd04698e4420">LOG_PACKET_HEADER_INIT</a>(i==0?<a class="code" href="LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05ae3521e6ecc7612aeb21978bfcd41d162">LOG_ARSP_MSG</a>:<a class="code" href="LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05ad78bd766e24446c595469e243c663b9f">LOG_ASP2_MSG</a>),</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <a class="code" href="structlog__AIRSPEED.html#a5ca1f8f04bbc9244c58b92179b5746c0">time_us</a>       : now,</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>      : <a class="code" href="classAP__Airspeed.html#ab94424cff1556776d75bda1f86fc2051">get_raw_airspeed</a>(i),</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <a class="code" href="structlog__AIRSPEED.html#a8bdfb27f42858779e1d8bc54e04c9449">diffpressure</a>  : <a class="code" href="classAP__Airspeed.html#a0786aed3054f8798262803767d7d4ced">get_differential_pressure</a>(i),</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>   : (int16_t)(<a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a> * 100.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <a class="code" href="structlog__AIRSPEED.html#a5f43edaa597910406d188505b9b2005a">rawpressure</a>   : <a class="code" href="classAP__Airspeed.html#ad726cb155dae53f791866de0a6e7efc5">get_corrected_pressure</a>(i),</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <a class="code" href="classAP__Airspeed.html#a78f56214b7cf43db540dedb985aee0c7">offset</a>        : <a class="code" href="classAP__Airspeed.html#aa1d987e4060ba1751e6be89f7f51a9b5">get_offset</a>(i),</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <a class="code" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">use</a>           : <a class="code" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">use</a>(i),</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <a class="code" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>       : <a class="code" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>(i),</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="structlog__AIRSPEED.html#a929cd094960695c552ed4d386fa4a21a">health_prob</a>   : <a class="code" href="classAP__Airspeed.html#a7b9d82b99bcdf63d916b966ac87d440e">get_health_failure_probability</a>(i),</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <a class="code" href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">primary</a>       : <a class="code" href="classAP__Airspeed.html#a74526546605e6ece5a67890c3dcd6967">get_primary</a>()</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        };</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a>().<a class="code" href="classAP__Logger.html#ada8172473eb14aabbf121c20ef6ad76b">WriteBlock</a>(&amp;pkt, <span class="keyword">sizeof</span>(pkt));</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a5361b17790b2901baa4530a123851b3d">  493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Airspeed.html#ababe32518461dff35f1b544ea15a5a96">AP_Airspeed::setHIL</a>(<span class="keywordtype">float</span> <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>, <span class="keywordtype">float</span> diff_pressure, <span class="keywordtype">float</span> <a class="code" href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a>)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;{</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[0].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">raw_airspeed</a> = <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[0].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">airspeed</a> = <a class="code" href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[0].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">last_pressure</a> = diff_pressure;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[0].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a802afce0a22cdc6d44030dcd936c5949">last_update_ms</a> = <a class="code" href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a>();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[0].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#af993505bb992b3914b939b78d27f4798">hil_pressure</a> = diff_pressure;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[0].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#a0164cbc30bc2619cca4de0f09ae8a677">hil_set</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">state</a>[0].<a class="code" href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">healthy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">AP_Airspeed::use</a>(uint8_t i)<span class="keyword"> const</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) || !<a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">use</a>) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">param</a>[i].<a class="code" href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">use</a> == 2 &amp;&amp; <a class="code" href="classSRV__Channels.html#ad1738031466dbebfd16f7a2c564aeb25">SRV_Channels::get_output_scaled</a>(<a class="code" href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>) != 0) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="comment">// special case for gliders with airspeed sensors behind the</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// propeller. Allow airspeed to be disabled when throttle is</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="comment">// running</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">  return true if all enabled sensors are healthy</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="classAP__Airspeed.html#a026632eec4016aa6508389cd8ccf385d">  521</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Airspeed.html#a026632eec4016aa6508389cd8ccf385d">AP_Airspeed::all_healthy</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="AP__Airspeed_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a>; i++) {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">enabled</a>(i) &amp;&amp; !<a class="code" href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">healthy</a>(i)) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">// singleton instance</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<a class="code" href="classAP__Airspeed.html">AP_Airspeed</a> *<a class="code" href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">AP_Airspeed::_singleton</a>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceAP.html">AP</a> {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="namespaceAP.html#a8d01caed65921a37d8d68f70ac255aa5">  536</a></span>&#160;<a class="code" href="classAP__Airspeed.html">AP_Airspeed</a> *<a class="code" href="namespaceAP.html#a8d01caed65921a37d8d68f70ac255aa5">airspeed</a>()</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;{</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classAP__Airspeed.html#a6bfb2eababf55852b35bdff810ca86d1">AP_Airspeed::get_singleton</a>();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;};</div><div class="ttc" id="classAP__Airspeed_html"><div class="ttname"><a href="classAP__Airspeed.html">AP_Airspeed</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00035">AP_Airspeed.h:35</a></div></div>
<div class="ttc" id="classAP__HAL_1_1Util_html_a19cbaa06e0e8804d1669deacf5ad6081"><div class="ttname"><a href="classAP__HAL_1_1Util.html#a19cbaa06e0e8804d1669deacf5ad6081">AP_HAL::Util::was_watchdog_reset</a></div><div class="ttdeci">virtual bool was_watchdog_reset() const</div><div class="ttdef"><b>Definition:</b> <a href="Util_8h_source.html#l00021">Util.h:21</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ad726cb155dae53f791866de0a6e7efc5"><div class="ttname"><a href="classAP__Airspeed.html#ad726cb155dae53f791866de0a6e7efc5">AP_Airspeed::get_corrected_pressure</a></div><div class="ttdeci">float get_corrected_pressure(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00214">AP_Airspeed.h:214</a></div></div>
<div class="ttc" id="classAP__Airspeed__MS5525_html_aed5ee11db487795d796f8a6c940898e7a060d41a05143cf2a08cd2b6720784845"><div class="ttname"><a href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a060d41a05143cf2a08cd2b6720784845">AP_Airspeed_MS5525::MS5525_ADDR_2</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00034">AP_Airspeed_MS5525.h:34</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a86b49520d90ba23d15fb79614605e522"><div class="ttname"><a href="classAP__Airspeed.html#a86b49520d90ba23d15fb79614605e522">AP_Airspeed::enabled</a></div><div class="ttdeci">bool enabled(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00091">AP_Airspeed.h:91</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a38c58f879dcb732b4d9b473092ce4735"><div class="ttname"><a href="classAP__Airspeed.html#a38c58f879dcb732b4d9b473092ce4735">AP_Airspeed::param</a></div><div class="ttdeci">struct AP_Airspeed::@7 param[AIRSPEED_MAX_SENSORS]</div></div>
<div class="ttc" id="classAP__Airspeed_html_a74526546605e6ece5a67890c3dcd6967"><div class="ttname"><a href="classAP__Airspeed.html#a74526546605e6ece5a67890c3dcd6967">AP_Airspeed::get_primary</a></div><div class="ttdeci">uint8_t get_primary(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00148">AP_Airspeed.h:148</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ababe32518461dff35f1b544ea15a5a96"><div class="ttname"><a href="classAP__Airspeed.html#ababe32518461dff35f1b544ea15a5a96">AP_Airspeed::setHIL</a></div><div class="ttdeci">void setHIL(float pressure)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00116">AP_Airspeed.h:116</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a41e13c618d983e15e669d1868394a250"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a41e13c618d983e15e669d1868394a250">AP_Airspeed::TYPE_I2C_MS5525_ADDRESS_1</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00140">AP_Airspeed.h:140</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a81cc77a3b3c952151261b53fc4467443"><div class="ttname"><a href="classAP__Airspeed.html#a81cc77a3b3c952151261b53fc4467443">AP_Airspeed::use</a></div><div class="ttdeci">bool use(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00082">AP_Airspeed.h:82</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79">AP_Airspeed::pitot_tube_order</a></div><div class="ttdeci">pitot_tube_order</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00126">AP_Airspeed.h:126</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a1e2e1e0de2732a77b04ba358d58c1a45"><div class="ttname"><a href="classAP__Airspeed.html#a1e2e1e0de2732a77b04ba358d58c1a45">AP_Airspeed::primary</a></div><div class="ttdeci">uint8_t primary</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00204">AP_Airspeed.h:204</a></div></div>
<div class="ttc" id="AP__Airspeed__MS5525_8h_html"><div class="ttname"><a href="AP__Airspeed__MS5525_8h.html">AP_Airspeed_MS5525.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ac6be10dda7f4ce96b0e9fd6d30ea9c85"><div class="ttname"><a href="classAP__Airspeed.html#ac6be10dda7f4ce96b0e9fd6d30ea9c85">AP_Airspeed::update_calibration</a></div><div class="ttdeci">void update_calibration(const Vector3f &amp;vground, int16_t max_airspeed_allowed_during_cal)</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed__Calibration_8cpp_source.html#l00157">Airspeed_Calibration.cpp:157</a></div></div>
<div class="ttc" id="AP__Airspeed_8h_html"><div class="ttname"><a href="AP__Airspeed_8h.html">AP_Airspeed.h</a></div></div>
<div class="ttc" id="AP__Param_8h_html_ae25c1c7495435989f8be5781c86be078"><div class="ttname"><a href="AP__Param_8h.html#ae25c1c7495435989f8be5781c86be078">AP_PARAM_FLAG_ENABLE</a></div><div class="ttdeci">#define AP_PARAM_FLAG_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00057">AP_Param.h:57</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_aa163aff2dd334bf57806d26018d8e5a7"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#aa163aff2dd334bf57806d26018d8e5a7">AP_Airspeed::airspeed_state::filtered_pressure</a></div><div class="ttdeci">float filtered_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00175">AP_Airspeed.h:175</a></div></div>
<div class="ttc" id="classAP__Airspeed__UAVCAN_html_a7202a898cf4518d7791847c275bea607"><div class="ttname"><a href="classAP__Airspeed__UAVCAN.html#a7202a898cf4518d7791847c275bea607">AP_Airspeed_UAVCAN::probe</a></div><div class="ttdeci">static AP_Airspeed_Backend * probe(AP_Airspeed &amp;_fronted, uint8_t _instance)</div></div>
<div class="ttc" id="classSRV__Channels_html_ad1738031466dbebfd16f7a2c564aeb25"><div class="ttname"><a href="classSRV__Channels.html#ad1738031466dbebfd16f7a2c564aeb25">SRV_Channels::get_output_scaled</a></div><div class="ttdeci">static int16_t get_output_scaled(SRV_Channel::Aux_servo_function_t function)</div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel__aux_8cpp_source.html#l00499">SRV_Channel_aux.cpp:499</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_af399a129f73b4b75e7c453bdb51358a3"><div class="ttname"><a href="classAP__Airspeed.html#af399a129f73b4b75e7c453bdb51358a3">AP_Airspeed::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00124">AP_Airspeed.h:124</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74addc8ea54d6633d54192f428bb33aa104">AP_Airspeed::TYPE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00136">AP_Airspeed.h:136</a></div></div>
<div class="ttc" id="classAP__Airspeed__MS5525_html_aed5ee11db487795d796f8a6c940898e7ad0fdadd4338e9bc54ca86eee4054275d"><div class="ttname"><a href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7ad0fdadd4338e9bc54ca86eee4054275d">AP_Airspeed_MS5525::MS5525_ADDR_AUTO</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00035">AP_Airspeed_MS5525.h:35</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab3f44b666b8fd9389ea97a868139d1a7"><div class="ttname"><a href="classAP__Airspeed.html#ab3f44b666b8fd9389ea97a868139d1a7">AP_Airspeed::AP_Airspeed</a></div><div class="ttdeci">AP_Airspeed()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00220">AP_Airspeed.cpp:220</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a454316cc394033c2f636a5e86f9f49f8"><div class="ttname"><a href="classAP__Airspeed.html#a454316cc394033c2f636a5e86f9f49f8">AP_Airspeed::check_sensor_failures</a></div><div class="ttdeci">void check_sensor_failures()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__Health_8cpp_source.html#l00009">AP_Airspeed_Health.cpp:9</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a9550b60a046ce012f82d3cb3692f139e"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a9550b60a046ce012f82d3cb3692f139e">AP_Airspeed::airspeed_state::calibration</a></div><div class="ttdeci">Airspeed_Calibration calibration</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00191">AP_Airspeed.h:191</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab2b83a59f5d2c233224d54d1eea1e373"><div class="ttname"><a href="classAP__Airspeed.html#ab2b83a59f5d2c233224d54d1eea1e373">AP_Airspeed::tube_order</a></div><div class="ttdeci">AP_Int8 tube_order</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00167">AP_Airspeed.h:167</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="AP__Airspeed__Backend_8h_html"><div class="ttname"><a href="AP__Airspeed__Backend_8h.html">AP_Airspeed_Backend.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79a5f6870ea399dc3d3893009a212282aa9">AP_Airspeed::PITOT_TUBE_ORDER_NEGATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00127">AP_Airspeed.h:127</a></div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_a131dd3a1aba6cbae5d330c5161ccfe9e"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a131dd3a1aba6cbae5d330c5161ccfe9e">ARSPD_DEFAULT_PIN</a></div><div class="ttdeci">#define ARSPD_DEFAULT_PIN</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00042">AP_Airspeed.cpp:42</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a522b04f07cc6928cc9ef262ac4f70052"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a522b04f07cc6928cc9ef262ac4f70052">AP_Airspeed::airspeed_state::last_pressure</a></div><div class="ttdeci">float last_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00174">AP_Airspeed.h:174</a></div></div>
<div class="ttc" id="GCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74ab090c40668c75392d45edef949463379"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ab090c40668c75392d45edef949463379">AP_Airspeed::TYPE_I2C_DLVR</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00143">AP_Airspeed.h:143</a></div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_a9053ed1dcbc482203ed6f3331b373feb"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a9053ed1dcbc482203ed6f3331b373feb">ARSPD_DEFAULT_TYPE</a></div><div class="ttdeci">#define ARSPD_DEFAULT_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00041">AP_Airspeed.cpp:41</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a0786aed3054f8798262803767d7d4ced"><div class="ttname"><a href="classAP__Airspeed.html#a0786aed3054f8798262803767d7d4ced">AP_Airspeed::get_differential_pressure</a></div><div class="ttdeci">float get_differential_pressure(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00102">AP_Airspeed.h:102</a></div></div>
<div class="ttc" id="structlog__AIRSPEED_html_a929cd094960695c552ed4d386fa4a21a"><div class="ttname"><a href="structlog__AIRSPEED.html#a929cd094960695c552ed4d386fa4a21a">log_AIRSPEED::health_prob</a></div><div class="ttdeci">float health_prob</div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l00930">LogStructure.h:930</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00100">AP_Param.h:100</a></div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_a031d36bae57355f739b22328a0976880"><div class="ttname"><a href="AP__Airspeed_8cpp.html#a031d36bae57355f739b22328a0976880">PSI_RANGE_DEFAULT</a></div><div class="ttdeci">#define PSI_RANGE_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00052">AP_Airspeed.cpp:52</a></div></div>
<div class="ttc" id="namespaceAP_html_a8d01caed65921a37d8d68f70ac255aa5"><div class="ttname"><a href="namespaceAP.html#a8d01caed65921a37d8d68f70ac255aa5">AP::airspeed</a></div><div class="ttdeci">AP_Airspeed * airspeed()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00536">AP_Airspeed.cpp:536</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab94424cff1556776d75bda1f86fc2051"><div class="ttname"><a href="classAP__Airspeed.html#ab94424cff1556776d75bda1f86fc2051">AP_Airspeed::get_raw_airspeed</a></div><div class="ttdeci">float get_raw_airspeed(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00062">AP_Airspeed.h:62</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aab15a46a527e1bf4889bddc31332222a">AP_Airspeed::PITOT_TUBE_ORDER_POSITIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00126">AP_Airspeed.h:126</a></div></div>
<div class="ttc" id="classAP__Airspeed__Backend_html_ab0e4ed6819fefd4da1c7a8e30a595186"><div class="ttname"><a href="classAP__Airspeed__Backend.html#ab0e4ed6819fefd4da1c7a8e30a595186">AP_Airspeed_Backend::get_temperature</a></div><div class="ttdeci">virtual bool get_temperature(float &amp;temperature)=0</div></div>
<div class="ttc" id="AP__Logger_8h_html"><div class="ttname"><a href="AP__Logger_8h.html">AP_Logger.h</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00115">HAL.h:115</a></div></div>
<div class="ttc" id="I2CDevice_8h_html"><div class="ttname"><a href="I2CDevice_8h.html">I2CDevice.h</a></div></div>
<div class="ttc" id="classAirspeed__Calibration_html_ae88c0e8719c02f942e6cafeb7cf46d1e"><div class="ttname"><a href="classAirspeed__Calibration.html#ae88c0e8719c02f942e6cafeb7cf46d1e">Airspeed_Calibration::init</a></div><div class="ttdeci">void init(float initial_ratio)</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed__Calibration_8cpp_source.html#l00033">Airspeed_Calibration.cpp:33</a></div></div>
<div class="ttc" id="GCS_8h_html_a1d3cc361b864ddf64a44c12ab3bd044e"><div class="ttname"><a href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a></div><div class="ttdeci">GCS &amp; gcs()</div><div class="ttdef"><b>Definition:</b> <a href="GCS__Common_8cpp_source.html#l05004">GCS_Common.cpp:5004</a></div></div>
<div class="ttc" id="LogStructure_8h_html_aec1abc8a4fd0e25bbcf703a19b991a05ad78bd766e24446c595469e243c663b9f"><div class="ttname"><a href="LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05ad78bd766e24446c595469e243c663b9f">LOG_ASP2_MSG</a></div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l01689">LogStructure.h:1689</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_acccc2efc4ab9b5dbcf4932fb422cbae7"><div class="ttname"><a href="classAP__Airspeed.html#acccc2efc4ab9b5dbcf4932fb422cbae7">AP_Airspeed::read</a></div><div class="ttdeci">void read(uint8_t i)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00373">AP_Airspeed.cpp:373</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe"><div class="ttname"><a href="classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a></div><div class="ttdef"><b>Definition:</b> <a href="SRV__Channel_8h_source.html#l00106">SRV_Channel.h:106</a></div></div>
<div class="ttc" id="classAP__Logger_html_ada8172473eb14aabbf121c20ef6ad76b"><div class="ttname"><a href="classAP__Logger.html#ada8172473eb14aabbf121c20ef6ad76b">AP_Logger::WriteBlock</a></div><div class="ttdeci">void WriteBlock(const void *pBuffer, uint16_t size)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Logger_8cpp_source.html#l00578">AP_Logger.cpp:578</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a1df3ec68259527c728d0fd2cfa041182"><div class="ttname"><a href="classAP__Airspeed.html#a1df3ec68259527c728d0fd2cfa041182">AP_Airspeed::skip_cal</a></div><div class="ttdeci">AP_Int8 skip_cal</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00168">AP_Airspeed.h:168</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a097e7a915727dd0907b4ce79de836ffd"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a097e7a915727dd0907b4ce79de836ffd">AP_Airspeed::airspeed_state::sum</a></div><div class="ttdeci">float sum</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00187">AP_Airspeed.h:187</a></div></div>
<div class="ttc" id="AP__Airspeed__analog_8h_html"><div class="ttname"><a href="AP__Airspeed__analog_8h.html">AP_Airspeed_analog.h</a></div></div>
<div class="ttc" id="AP__Airspeed_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__Airspeed_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition:</b> <a href="AC__PID__test_8cpp_source.html#l00021">AC_PID_test.cpp:21</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_adbd658333460e82b02fdda13d2b73229"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#adbd658333460e82b02fdda13d2b73229">AP_Airspeed::airspeed_state::last_saved_ratio</a></div><div class="ttdeci">float last_saved_ratio</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00192">AP_Airspeed.h:192</a></div></div>
<div class="ttc" id="AP__Airspeed__SDP3X_8h_html"><div class="ttname"><a href="AP__Airspeed__SDP3X_8h.html">AP_Airspeed_SDP3X.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a07f2d01e2723573f19d94a7ab04de9a8"><div class="ttname"><a href="classAP__Airspeed.html#a07f2d01e2723573f19d94a7ab04de9a8">AP_Airspeed::pin</a></div><div class="ttdeci">AP_Int8 pin</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00164">AP_Airspeed.h:164</a></div></div>
<div class="ttc" id="classAP__Airspeed__MS5525_html"><div class="ttname"><a href="classAP__Airspeed__MS5525.html">AP_Airspeed_MS5525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00029">AP_Airspeed_MS5525.h:29</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a5abc8871f1e7781a55afe9bf299f0a39"><div class="ttname"><a href="AP__Math_8h.html#a5abc8871f1e7781a55afe9bf299f0a39">MAX</a></div><div class="ttdeci">static auto MAX(const A &amp;one, const B &amp;two) -&gt; decltype(one &gt; two ? one :two)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00208">AP_Math.h:208</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a3fc35b948e101bcbabb5840023c61f39"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a3fc35b948e101bcbabb5840023c61f39">AP_Airspeed::airspeed_state::read_count</a></div><div class="ttdeci">uint16_t read_count</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00188">AP_Airspeed.h:188</a></div></div>
<div class="ttc" id="classAP__Airspeed__MS4525_html"><div class="ttname"><a href="classAP__Airspeed__MS4525.html">AP_Airspeed_MS4525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__MS4525_8h_source.html#l00029">AP_Airspeed_MS4525.h:29</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_acbfd9b9539ea2e60f1e6f69509cae1e4"><div class="ttname"><a href="classAP__Airspeed.html#acbfd9b9539ea2e60f1e6f69509cae1e4">AP_Airspeed::update</a></div><div class="ttdeci">void update(bool log)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00433">AP_Airspeed.cpp:433</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_af993505bb992b3914b939b78d27f4798"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#af993505bb992b3914b939b78d27f4798">AP_Airspeed::airspeed_state::hil_pressure</a></div><div class="ttdeci">float hil_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00179">AP_Airspeed.h:179</a></div></div>
<div class="ttc" id="Airspeed_8cpp_html_afc1d28cfbce795d6ea954ebe725241f5"><div class="ttname"><a href="Airspeed_8cpp.html#afc1d28cfbce795d6ea954ebe725241f5">temperature</a></div><div class="ttdeci">float temperature</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed_8cpp_source.html#l00031">Airspeed.cpp:31</a></div></div>
<div class="ttc" id="namespaceAP_html_aa35bfac1ea2da16f110e8e72db7b3b20"><div class="ttname"><a href="namespaceAP.html#aa35bfac1ea2da16f110e8e72db7b3b20">AP::logger</a></div><div class="ttdeci">AP_Logger &amp; logger()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Logger_8cpp_source.html#l01182">AP_Logger.cpp:1182</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a802afce0a22cdc6d44030dcd936c5949"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a802afce0a22cdc6d44030dcd936c5949">AP_Airspeed::airspeed_state::last_update_ms</a></div><div class="ttdeci">uint32_t last_update_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00180">AP_Airspeed.h:180</a></div></div>
<div class="ttc" id="AP__Param_8h_html_ac24e2eb16c2194e975d27e47ddcb7f1c"><div class="ttname"><a href="AP__Param_8h.html#ac24e2eb16c2194e975d27e47ddcb7f1c">AP_GROUPINFO_FLAGS</a></div><div class="ttdeci">#define AP_GROUPINFO_FLAGS(name, idx, clazz, element, def, flags)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00091">AP_Param.h:91</a></div></div>
<div class="ttc" id="AP__Airspeed__MS4525_8h_html"><div class="ttname"><a href="AP__Airspeed__MS4525_8h.html">AP_Airspeed_MS4525.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a3760a1d6437b135960501e24ef257499"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a3760a1d6437b135960501e24ef257499">AP_Airspeed::TYPE_UAVCAN</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00144">AP_Airspeed.h:144</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a026632eec4016aa6508389cd8ccf385d"><div class="ttname"><a href="classAP__Airspeed.html#a026632eec4016aa6508389cd8ccf385d">AP_Airspeed::all_healthy</a></div><div class="ttdeci">bool all_healthy(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00521">AP_Airspeed.cpp:521</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74">AP_Airspeed::airspeed_type</a></div><div class="ttdeci">airspeed_type</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00135">AP_Airspeed.h:135</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2"><div class="ttname"><a href="classAP__Airspeed.html#a5fe60e527bcf3fc74c5e08b6d3f14e79aadd488c9906fa816a58feefd09aab8b2">AP_Airspeed::PITOT_TUBE_ORDER_AUTO</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00128">AP_Airspeed.h:128</a></div></div>
<div class="ttc" id="structlog__AIRSPEED_html_a5f43edaa597910406d188505b9b2005a"><div class="ttname"><a href="structlog__AIRSPEED.html#a5f43edaa597910406d188505b9b2005a">log_AIRSPEED::rawpressure</a></div><div class="ttdeci">float rawpressure</div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l00926">LogStructure.h:926</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html"><div class="ttname"><a href="classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div><div class="ttdef"><b>Definition:</b> <a href="HAL_8h_source.html#l00021">HAL.h:21</a></div></div>
<div class="ttc" id="classAP__Airspeed__SDP3X_html"><div class="ttname"><a href="classAP__Airspeed__SDP3X.html">AP_Airspeed_SDP3X</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__SDP3X_8h_source.html#l00034">AP_Airspeed_SDP3X.h:34</a></div></div>
<div class="ttc" id="namespaceAP_html"><div class="ttname"><a href="namespaceAP.html">AP</a></div><div class="ttdef"><b>Definition:</b> <a href="AC__Avoid_8cpp_source.html#l00655">AC_Avoid.cpp:655</a></div></div>
<div class="ttc" id="structlog__AIRSPEED_html_a8bdfb27f42858779e1d8bc54e04c9449"><div class="ttname"><a href="structlog__AIRSPEED.html#a8bdfb27f42858779e1d8bc54e04c9449">log_AIRSPEED::diffpressure</a></div><div class="ttdeci">float diffpressure</div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l00924">LogStructure.h:924</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a8aa12f7192b881def04e782ae04835a9"><div class="ttname"><a href="classAP__Airspeed.html#a8aa12f7192b881def04e782ae04835a9">AP_Airspeed::healthy</a></div><div class="ttdeci">bool healthy(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00111">AP_Airspeed.h:111</a></div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div></div>
<div class="ttc" id="structtype_html"><div class="ttname"><a href="structtype.html">type</a></div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00133">main.c:133</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a076a654ca4145911f7d3e1a0ab4d5c33"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a076a654ca4145911f7d3e1a0ab4d5c33">AP_Airspeed::TYPE_I2C_SDP3X</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00142">AP_Airspeed.h:142</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_aa1d987e4060ba1751e6be89f7f51a9b5"><div class="ttname"><a href="classAP__Airspeed.html#aa1d987e4060ba1751e6be89f7f51a9b5">AP_Airspeed::get_offset</a></div><div class="ttdeci">float get_offset(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00232">AP_Airspeed.h:232</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a00f4fdf99fd2a1d6221972499288bb96"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a00f4fdf99fd2a1d6221972499288bb96">AP_Airspeed::airspeed_state::raw_airspeed</a></div><div class="ttdeci">float raw_airspeed</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00172">AP_Airspeed.h:172</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a78f56214b7cf43db540dedb985aee0c7"><div class="ttname"><a href="classAP__Airspeed.html#a78f56214b7cf43db540dedb985aee0c7">AP_Airspeed::offset</a></div><div class="ttdeci">AP_Float offset</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00159">AP_Airspeed.h:159</a></div></div>
<div class="ttc" id="namespaceAP__HAL_html_a77dffbb18891996280308e21316ec186"><div class="ttname"><a href="namespaceAP__HAL.html#a77dffbb18891996280308e21316ec186">AP_HAL::millis</a></div><div class="ttdeci">uint32_t millis()</div><div class="ttdef"><b>Definition:</b> <a href="ChibiOS_2system_8cpp_source.html#l00157">system.cpp:157</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00142">AP_Param.h:142</a></div></div>
<div class="ttc" id="classAP__Airspeed__MS5525_html_aed5ee11db487795d796f8a6c940898e7a8a501e87a16c8e40f988f9b705b4b4af"><div class="ttname"><a href="classAP__Airspeed__MS5525.html#aed5ee11db487795d796f8a6c940898e7a8a501e87a16c8e40f988f9b705b4b4af">AP_Airspeed_MS5525::MS5525_ADDR_1</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__MS5525_8h_source.html#l00033">AP_Airspeed_MS5525.h:33</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_aad0e5ababb30ccbafe2e9ac26c5bc770"><div class="ttname"><a href="classAP__Airspeed.html#aad0e5ababb30ccbafe2e9ac26c5bc770">AP_Airspeed::ratio</a></div><div class="ttdeci">AP_Float ratio</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00160">AP_Airspeed.h:160</a></div></div>
<div class="ttc" id="namespaceAP__HAL_html_a7aa0ce7625c9680e30ff4a99940907a5"><div class="ttname"><a href="namespaceAP__HAL.html#a7aa0ce7625c9680e30ff4a99940907a5">AP_HAL::micros64</a></div><div class="ttdeci">uint64_t micros64()</div><div class="ttdef"><b>Definition:</b> <a href="ChibiOS_2system_8cpp_source.html#l00167">system.cpp:167</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_afb7c91590b3efc00ee2d72cc6bcc856f"><div class="ttname"><a href="classAP__Airspeed.html#afb7c91590b3efc00ee2d72cc6bcc856f">AP_Airspeed::calibrate</a></div><div class="ttdeci">void calibrate(bool in_startup)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00317">AP_Airspeed.cpp:317</a></div></div>
<div class="ttc" id="classGCS_html_a36bac57d1573fce99894d56aef0f7c59"><div class="ttname"><a href="classGCS.html#a36bac57d1573fce99894d56aef0f7c59">GCS::send_named_float</a></div><div class="ttdeci">void send_named_float(const char *name, float value) const</div><div class="ttdef"><b>Definition:</b> <a href="GCS_8cpp_source.html#l00070">GCS.cpp:70</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74a0975db540d936db370d698708553feea">AP_Airspeed::TYPE_I2C_MS4525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00137">AP_Airspeed.h:137</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74ad8362365edb40fd6c8b6c4d63f1c3f97">AP_Airspeed::TYPE_I2C_MS5525</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00139">AP_Airspeed.h:139</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="classAP__Airspeed__DLVR_html"><div class="ttname"><a href="classAP__Airspeed__DLVR.html">AP_Airspeed_DLVR</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__DLVR_8h_source.html#l00027">AP_Airspeed_DLVR.h:27</a></div></div>
<div class="ttc" id="classGCS_html_a9866f3484283db744409e40719cef765"><div class="ttname"><a href="classGCS.html#a9866f3484283db744409e40719cef765">GCS::send_text</a></div><div class="ttdeci">void send_text(MAV_SEVERITY severity, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="GCS_8cpp_source.html#l00040">GCS.cpp:40</a></div></div>
<div class="ttc" id="AP__Airspeed__DLVR_8h_html"><div class="ttname"><a href="AP__Airspeed__DLVR_8h.html">AP_Airspeed_DLVR.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab4d2d1dadc9036ad57cfadb93d3b4c2a"><div class="ttname"><a href="classAP__Airspeed.html#ab4d2d1dadc9036ad57cfadb93d3b4c2a">AP_Airspeed::get_temperature</a></div><div class="ttdeci">bool get_temperature(uint8_t i, float &amp;temperature)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00304">AP_Airspeed.cpp:304</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_af6dc9d58f6fb7a9ba808427f3b657900"><div class="ttname"><a href="classAP__Airspeed.html#af6dc9d58f6fb7a9ba808427f3b657900">AP_Airspeed::state</a></div><div class="ttdeci">struct AP_Airspeed::airspeed_state state[AIRSPEED_MAX_SENSORS]</div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a0164cbc30bc2619cca4de0f09ae8a677"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a0164cbc30bc2619cca4de0f09ae8a677">AP_Airspeed::airspeed_state::hil_set</a></div><div class="ttdeci">bool hil_set</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00178">AP_Airspeed.h:178</a></div></div>
<div class="ttc" id="AP__Airspeed_8h_html_a093927e601750464a5455025b142a7ce"><div class="ttname"><a href="AP__Airspeed_8h.html#a093927e601750464a5455025b142a7ce">AIRSPEED_MAX_SENSORS</a></div><div class="ttdeci">#define AIRSPEED_MAX_SENSORS</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00011">AP_Airspeed.h:11</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_aa4ac5108744a4b04eb11043acd6d4bbf"><div class="ttname"><a href="classAP__Airspeed.html#aa4ac5108744a4b04eb11043acd6d4bbf">AP_Airspeed::primary_sensor</a></div><div class="ttdeci">AP_Int8 primary_sensor</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00155">AP_Airspeed.h:155</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_ab4575a74762035c3dd4b6537ab9917ff"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#ab4575a74762035c3dd4b6537ab9917ff">AP_Airspeed::airspeed_state::healthy</a></div><div class="ttdeci">bool healthy</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00177">AP_Airspeed.h:177</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_ad2cc8c12b0340c55fbe473a96bfb1e4f"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#ad2cc8c12b0340c55fbe473a96bfb1e4f">AP_Airspeed::airspeed_state::airspeed</a></div><div class="ttdeci">float airspeed</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00173">AP_Airspeed.h:173</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab7acb1a2e812dabbf0a0cb4eebc7b851"><div class="ttname"><a href="classAP__Airspeed.html#ab7acb1a2e812dabbf0a0cb4eebc7b851">AP_Airspeed::sensor</a></div><div class="ttdeci">AP_Airspeed_Backend * sensor[AIRSPEED_MAX_SENSORS]</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00237">AP_Airspeed.h:237</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a7499575104f24c6502e1148c353d9637"><div class="ttname"><a href="classAP__Airspeed.html#a7499575104f24c6502e1148c353d9637">AP_Airspeed::init</a></div><div class="ttdeci">void init(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00230">AP_Airspeed.cpp:230</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a6bfb2eababf55852b35bdff810ca86d1"><div class="ttname"><a href="classAP__Airspeed.html#a6bfb2eababf55852b35bdff810ca86d1">AP_Airspeed::get_singleton</a></div><div class="ttdeci">static AP_Airspeed * get_singleton()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00150">AP_Airspeed.h:150</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74acd1a6c66bf16056b667197aaf48c32bf">AP_Airspeed::TYPE_ANALOG</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00138">AP_Airspeed.h:138</a></div></div>
<div class="ttc" id="AP__Common_8h_html"><div class="ttname"><a href="AP__Common_8h.html">AP_Common.h</a></div><div class="ttdoc">Common definitions and utility routines for the ArduPilot libraries.</div></div>
<div class="ttc" id="classAP__Airspeed_html_a7b9d82b99bcdf63d916b966ac87d440e"><div class="ttname"><a href="classAP__Airspeed.html#a7b9d82b99bcdf63d916b966ac87d440e">AP_Airspeed::get_health_failure_probability</a></div><div class="ttdeci">float get_health_failure_probability(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00221">AP_Airspeed.h:221</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ab82c0541f8a638719b255bc3c973df80"><div class="ttname"><a href="classAP__Airspeed.html#ab82c0541f8a638719b255bc3c973df80">AP_Airspeed::get_airspeed</a></div><div class="ttdeci">float get_airspeed(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00056">AP_Airspeed.h:56</a></div></div>
<div class="ttc" id="Airspeed_8cpp_html_abfed87a61c42e885ee14d5222b47583f"><div class="ttname"><a href="Airspeed_8cpp.html#abfed87a61c42e885ee14d5222b47583f">airspeed</a></div><div class="ttdeci">AP_Airspeed airspeed</div><div class="ttdef"><b>Definition:</b> <a href="Airspeed_8cpp_source.html#l00034">Airspeed.cpp:34</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a6d6006e0bb1e0f6ed506bc1c8b770bb8"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a6d6006e0bb1e0f6ed506bc1c8b770bb8">AP_Airspeed::airspeed_state::corrected_pressure</a></div><div class="ttdeci">float corrected_pressure</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00176">AP_Airspeed.h:176</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ae5e13883f8e997681a969b213cbad4e9"><div class="ttname"><a href="classAP__Airspeed.html#ae5e13883f8e997681a969b213cbad4e9">AP_Airspeed::_singleton</a></div><div class="ttdeci">static AP_Airspeed * _singleton</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00153">AP_Airspeed.h:153</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_ab3dd7fce5e539f71bc905c0c91803623"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#ab3dd7fce5e539f71bc905c0c91803623">AP_Airspeed::airspeed_state::health_probability</a></div><div class="ttdeci">float health_probability</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00197">AP_Airspeed.h:197</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a50a7d083228cf5cb0eee16f0ff0ddfca"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a50a7d083228cf5cb0eee16f0ff0ddfca">AP_Airspeed::airspeed_state::count</a></div><div class="ttdeci">uint16_t count</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00186">AP_Airspeed.h:186</a></div></div>
<div class="ttc" id="AP__Airspeed__UAVCAN_8h_html"><div class="ttname"><a href="AP__Airspeed__UAVCAN_8h.html">AP_Airspeed_UAVCAN.h</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_aceb60f7d07316739d276a0a29e9fe991"><div class="ttname"><a href="classAP__Airspeed.html#aceb60f7d07316739d276a0a29e9fe991">AP_Airspeed::get_pressure</a></div><div class="ttdeci">float get_pressure(uint8_t i)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00287">AP_Airspeed.cpp:287</a></div></div>
<div class="ttc" id="classAP__Airspeed__Backend_html_a13ffe36cf0a00f387172d7345a013980"><div class="ttname"><a href="classAP__Airspeed__Backend.html#a13ffe36cf0a00f387172d7345a013980">AP_Airspeed_Backend::get_differential_pressure</a></div><div class="ttdeci">virtual bool get_differential_pressure(float &amp;pressure)=0</div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a2afd446690534d4a7d424af385923345"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a2afd446690534d4a7d424af385923345">AP_Airspeed::airspeed_state::start_ms</a></div><div class="ttdeci">uint32_t start_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00185">AP_Airspeed.h:185</a></div></div>
<div class="ttc" id="structlog__AIRSPEED_html"><div class="ttname"><a href="structlog__AIRSPEED.html">log_AIRSPEED</a></div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l00920">LogStructure.h:920</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_a28fac64070d5958b6f60e9ce5d329e74af161b354bbcb00f55934ddada42c724e"><div class="ttname"><a href="classAP__Airspeed.html#a28fac64070d5958b6f60e9ce5d329e74af161b354bbcb00f55934ddada42c724e">AP_Airspeed::TYPE_I2C_MS5525_ADDRESS_2</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8h_source.html#l00141">AP_Airspeed.h:141</a></div></div>
<div class="ttc" id="structlog__AIRSPEED_html_a5ca1f8f04bbc9244c58b92179b5746c0"><div class="ttname"><a href="structlog__AIRSPEED.html#a5ca1f8f04bbc9244c58b92179b5746c0">log_AIRSPEED::time_us</a></div><div class="ttdeci">uint64_t time_us</div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l00922">LogStructure.h:922</a></div></div>
<div class="ttc" id="classAP__Airspeed_html_ac4301d128dccde68d647bc3c191d6461"><div class="ttname"><a href="classAP__Airspeed.html#ac4301d128dccde68d647bc3c191d6461">AP_Airspeed::Log_Airspeed</a></div><div class="ttdeci">void Log_Airspeed()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed_8cpp_source.html#l00465">AP_Airspeed.cpp:465</a></div></div>
<div class="ttc" id="namespaceAP__HAL_html_a71832f03d849a0c088f04fc98d3c8143"><div class="ttname"><a href="namespaceAP__HAL.html#a71832f03d849a0c088f04fc98d3c8143">AP_HAL::panic</a></div><div class="ttdeci">void panic(const char *errormsg,...) FMT_PRINTF(1</div><div class="ttdef"><b>Definition:</b> <a href="ChibiOS_2system_8cpp_source.html#l00140">system.cpp:140</a></div></div>
<div class="ttc" id="examples_2AnalogIn_2AnalogIn_8cpp_html_abe4194b4dba3de3d9a7e7842bd6fc8ac"><div class="ttname"><a href="examples_2AnalogIn_2AnalogIn_8cpp.html#abe4194b4dba3de3d9a7e7842bd6fc8ac">pin</a></div><div class="ttdeci">static int8_t pin</div><div class="ttdef"><b>Definition:</b> <a href="examples_2AnalogIn_2AnalogIn_8cpp_source.html#l00015">AnalogIn.cpp:15</a></div></div>
<div class="ttc" id="LogStructure_8h_html_abca6b52da10346c72b10dd04698e4420"><div class="ttname"><a href="LogStructure_8h.html#abca6b52da10346c72b10dd04698e4420">LOG_PACKET_HEADER_INIT</a></div><div class="ttdeci">#define LOG_PACKET_HEADER_INIT(id)</div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l00110">LogStructure.h:110</a></div></div>
<div class="ttc" id="SRV__Channel_8h_html"><div class="ttname"><a href="SRV__Channel_8h.html">SRV_Channel.h</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a2c212ebc15189a80a27f902e55e2a77f"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a2c212ebc15189a80a27f902e55e2a77f">AP_Airspeed::airspeed_state::cal</a></div><div class="ttdeci">struct AP_Airspeed::airspeed_state::@8 cal</div></div>
<div class="ttc" id="LogStructure_8h_html_aec1abc8a4fd0e25bbcf703a19b991a05ae3521e6ecc7612aeb21978bfcd41d162"><div class="ttname"><a href="LogStructure_8h.html#aec1abc8a4fd0e25bbcf703a19b991a05ae3521e6ecc7612aeb21978bfcd41d162">LOG_ARSP_MSG</a></div><div class="ttdef"><b>Definition:</b> <a href="LogStructure_8h_source.html#l01609">LogStructure.h:1609</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00118">AP_Param.h:118</a></div></div>
<div class="ttc" id="structAP__Airspeed_1_1airspeed__state_html_a219e8fedcaa11773317e1dde7abd36a6"><div class="ttname"><a href="structAP__Airspeed_1_1airspeed__state.html#a219e8fedcaa11773317e1dde7abd36a6">AP_Airspeed::airspeed_state::failures</a></div><div class="ttdeci">struct AP_Airspeed::airspeed_state::@9 failures</div></div>
<div class="ttc" id="classAP__Airspeed__Analog_html"><div class="ttname"><a href="classAP__Airspeed__Analog.html">AP_Airspeed_Analog</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Airspeed__analog_8h_source.html#l00008">AP_Airspeed_analog.h:8</a></div></div>
<div class="ttc" id="classAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8cpp_source.html#l01265">AP_Param.cpp:1265</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 11 2019 14:17:26 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
