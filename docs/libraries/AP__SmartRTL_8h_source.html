<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_SmartRTL/AP_SmartRTL.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_a7ea8c62630e47a183cd84623ef39ebd.html">AP_SmartRTL</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AP_SmartRTL.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AP__SmartRTL_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Bitmask_8h.html">AP_Common/Bitmask.h</a>&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// definitions and macros</span></div><div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a08b93c450b9fe5f29610691063e3e887">    8</a></span>&#160;<span class="preprocessor">#define SMARTRTL_ACCURACY_DEFAULT        2.0f   // default _ACCURACY parameter value.  Points will be no closer than this distance (in meters) together.</span></div><div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a5c0dce9f40f1a68df229b4afb966ee62">    9</a></span>&#160;<span class="preprocessor">#define SMARTRTL_POINTS_DEFAULT          300    // default _POINTS parameter value.  High numbers improve path pruning but use more memory and CPU for cleanup. Memory used will be 20bytes * this number.</span></div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#afc2a424c3c3a87313ed22c86208b3915">   10</a></span>&#160;<span class="preprocessor">#define SMARTRTL_POINTS_MAX              500    // the absolute maximum number of points this library can support.</span></div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#ab2f5ddb80eaadb6d6ae28617bb81983e">   11</a></span>&#160;<span class="preprocessor">#define SMARTRTL_TIMEOUT                 15000  // the time in milliseconds with no points saved to the path (for whatever reason), before SmartRTL is disabled for the flight</span></div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a84f0c087992ed0d97fd17ad412d80781">   12</a></span>&#160;<span class="preprocessor">#define SMARTRTL_CLEANUP_POINT_TRIGGER   50     // simplification will trigger when this many points are added to the path</span></div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a6dff89a98ff8f572eed4b3e15cd5b066">   13</a></span>&#160;<span class="preprocessor">#define SMARTRTL_CLEANUP_START_MARGIN    10     // routine cleanup algorithms begin when the path array has only this many empty slots remaining</span></div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a2ef52d8965d04e3a17c419f598e30d1f">   14</a></span>&#160;<span class="preprocessor">#define SMARTRTL_CLEANUP_POINT_MIN       10     // cleanup algorithms will remove points if they remove at least this many points</span></div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a17e99a17207d9b548d5d5edeab829e1b">   15</a></span>&#160;<span class="preprocessor">#define SMARTRTL_SIMPLIFY_EPSILON (_accuracy * 0.5f)</span></div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a7767c5865a1dc94a465dc60a9a0c86c8">   16</a></span>&#160;<span class="preprocessor">#define SMARTRTL_SIMPLIFY_STACK_LEN_MULT (2.0f/3.0f)+1  // simplify buffer size as compared to maximum number of points.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                                                <span class="comment">// The minimum is int((s/2-1)+min(s/2, SMARTRTL_POINTS_MAX-s)), where s = pow(2, floor(log(SMARTRTL_POINTS_MAX)/log(2)))</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                                                <span class="comment">// To avoid this annoying math, a good-enough overestimate is ceil(SMARTRTL_POINTS_MAX*2.0f/3.0f)</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a244178867ce50fb3403ef54b2f061142">   19</a></span>&#160;<span class="preprocessor">#define SMARTRTL_SIMPLIFY_TIME_US        200    // maximum time (in microseconds) the simplification algorithm will run before returning</span></div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a88dee77d2e3de99039aa109ca7d8b21c">   20</a></span>&#160;<span class="preprocessor">#define SMARTRTL_PRUNING_DELTA (_accuracy * 0.99)   // How many meters apart must two points be, such that we can assume that there is no obstacle between them.  must be smaller than _ACCURACY parameter</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#a285af06a1d8b2c8ffac7872f61f62286">   21</a></span>&#160;<span class="preprocessor">#define SMARTRTL_PRUNING_LOOP_BUFFER_LEN_MULT 0.25f // pruning loop buffer size as compared to maximum number of points</span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="AP__SmartRTL_8h.html#ab5479cdbb06166be2823389935ff9778">   22</a></span>&#160;<span class="preprocessor">#define SMARTRTL_PRUNING_LOOP_TIME_US    200    // maximum time (in microseconds) that the loop finding algorithm will run before returning</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html">   24</a></span>&#160;<span class="keyword">class </span><a class="code" href="classAP__SmartRTL.html">AP_SmartRTL</a> {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// constructor, destructor</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classAP__SmartRTL.html#a22d770ba0ec2641a2a34bfcb9833f11c">AP_SmartRTL</a>(<span class="keywordtype">bool</span> example_mode = <span class="keyword">false</span>);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">// initialise safe rtl including setting up background processes</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a15b1b58eee885789ec3b88def4363995">init</a>();</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">// return true if smart_rtl is usable (it may become unusable if the user took off without GPS lock or the path became too long)</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#aaa3824e3ea7d768af2f110255c056e00">   35</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#aaa3824e3ea7d768af2f110255c056e00">is_active</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAP__SmartRTL.html#a0a152664c209e83bbd1459fd95160065">_active</a>; }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// returns number of points on the path</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    uint16_t <a class="code" href="classAP__SmartRTL.html#a9b7489b5562f697808c82179f6f730b5">get_num_points</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="comment">// get a point on the path</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a0d6f357ffa9ca16ccf204c2a43347906">   41</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; <a class="code" href="classAP__SmartRTL.html#a0d6f357ffa9ca16ccf204c2a43347906">get_point</a>(uint16_t index)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAP__SmartRTL.html#a80939beca707b4aa8b1450ac87055ed3">_path</a>[index]; }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// get next point on the path to home, returns true on success</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a2a3e222a267844a0ce4d8dc2b80f4ca2">pop_point</a>(<a class="code" href="classVector3.html">Vector3f</a>&amp; <a class="code" href="examples_2polygon_2polygon_8cpp.html#a17ec7548d507b5e64723f68df5205a30">point</a>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// clear return path and set return location if position_ok is true.  This should be called as part of the arming procedure</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// if position_ok is false, SmartRTL will not be available.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// example sketches use the method that allows providing vehicle position directly</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#ab385d8b52e321f9a01d01b42e52e0c4b">set_home</a>(<span class="keywordtype">bool</span> position_ok);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#ab385d8b52e321f9a01d01b42e52e0c4b">set_home</a>(<span class="keywordtype">bool</span> position_ok, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; current_pos);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// call this at 3hz (or higher) regardless of what mode the vehicle is in</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// example sketches use method that allows providing vehicle position directly</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#ab817af3df8d87b6d60859fd7e5e6a0d9">update</a>(<span class="keywordtype">bool</span> position_ok, <span class="keywordtype">bool</span> save_position);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#ab817af3df8d87b6d60859fd7e5e6a0d9">update</a>(<span class="keywordtype">bool</span> position_ok, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; current_pos);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// enum for argument passed to request_through_cleanup</span></div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8">   58</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8">ThoroughCleanupType</a> {</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8aea8daaba041c4699c5715edb0205f1b5">   59</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8aea8daaba041c4699c5715edb0205f1b5">THOROUGH_CLEAN_DEFAULT</a> = 0,     <span class="comment">// perform simplify and prune (used by vehicle code)</span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8a36a43ab99e487e07e440699ac2e84ecd">   60</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8a36a43ab99e487e07e440699ac2e84ecd">THOROUGH_CLEAN_ALL</a>,             <span class="comment">// same as above but used by example sketch</span></div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8a9e2687cc7646e9d1368ae29ba9cafc17">   61</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8a9e2687cc7646e9d1368ae29ba9cafc17">THOROUGH_CLEAN_SIMPLIFY_ONLY</a>,   <span class="comment">// perform simplify only (used by example sketch)</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8ae909b30ebe11b4e887d6f7c1a9b76d8c">   62</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8ae909b30ebe11b4e887d6f7c1a9b76d8c">THOROUGH_CLEAN_PRUNE_ONLY</a>,      <span class="comment">// perform prune only (used by example sketch)</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    };</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// triggers thorough cleanup including simplification, pruning and removal of all unnecessary points</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// returns true if the thorough cleanup was completed, false if it has not yet completed</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// this method should be called repeatedly until it returns true before initiating the return journey</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// clean_type should only be set by the example sketch</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a70616f215ae33635ac6e9d4acaf7c967">request_thorough_cleanup</a>(<a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8">ThoroughCleanupType</a> clean_type = <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8aea8daaba041c4699c5715edb0205f1b5">THOROUGH_CLEAN_DEFAULT</a>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// cancel request for thorough cleanup</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#aca4d46faaaebfb9df18285bcbfc450cb">cancel_request_for_thorough_cleanup</a>();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// run background cleanup - should be run regularly from the IO thread</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a59993dfd6863e68ca3775537d8cff85a">run_background_cleanup</a>();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// parameter var table</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#adf72036b4aa302629ab68c96ade9fd88">   78</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classAP__SmartRTL.html#adf72036b4aa302629ab68c96ade9fd88">var_info</a>[];</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// enums for logging latest actions</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8">   83</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8">SRTL_Actions</a> {</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aac4e43704c92055db4ecb2eab459c2c3">   84</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aac4e43704c92055db4ecb2eab459c2c3">SRTL_POINT_ADD</a>,</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a7c34fc317d4e14ecea43a9e12d9d8a89">   85</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a7c34fc317d4e14ecea43a9e12d9d8a89">SRTL_POINT_PRUNE</a>,</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aa22631905f38a1154309229e514c8fcf">   86</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aa22631905f38a1154309229e514c8fcf">SRTL_POINT_SIMPLIFY</a>,</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aa9cd77eaa7976a126a470bdee4962720">   87</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aa9cd77eaa7976a126a470bdee4962720">SRTL_ADD_FAILED_NO_SEMAPHORE</a>,</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8ac968fcef5e06cb7695adb485a9269923">   88</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8ac968fcef5e06cb7695adb485a9269923">SRTL_ADD_FAILED_PATH_FULL</a>,</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8abeec9125908fce90846b9fd30e6faf0b">   89</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8abeec9125908fce90846b9fd30e6faf0b">SRTL_POP_FAILED_NO_SEMAPHORE</a>,</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8af3398c3233050d2227a221ebe861a24a">   90</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8af3398c3233050d2227a221ebe861a24a">SRTL_DEACTIVATED_INIT_FAILED</a>,</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a2c04a08d13380b069634386cee62f04a">   91</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a2c04a08d13380b069634386cee62f04a">SRTL_DEACTIVATED_BAD_POSITION</a>,</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aae03b8edfb2bef757d0874252b76d3ee">   92</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aae03b8edfb2bef757d0874252b76d3ee">SRTL_DEACTIVATED_BAD_POSITION_TIMEOUT</a>,</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a02abd3f938199fbc1e241294c7a3150a">   93</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a02abd3f938199fbc1e241294c7a3150a">SRTL_DEACTIVATED_PATH_FULL_TIMEOUT</a>,</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a6e40ffa989754ec43beeccca17b08ff3">   94</a></span>&#160;        <a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a6e40ffa989754ec43beeccca17b08ff3">SRTL_DEACTIVATED_PROGRAM_ERROR</a>,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    };</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// add point to end of path</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a709dabc77275a853cf665688f0492ecf">add_point</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; <a class="code" href="examples_2polygon_2polygon_8cpp.html#a17ec7548d507b5e64723f68df5205a30">point</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// routine cleanup attempts to remove 10 points (see SMARTRTL_CLEANUP_POINT_MIN definition) by simplification or loop pruning</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#ab6404e81f2f4319387d9566d6d379cfb">routine_cleanup</a>(uint16_t <a class="code" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">path_points_count</a>, uint16_t path_points_complete_limit);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// thorough cleanup simplifies and prunes all loops.  returns true if the cleanup was completed.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// path_points_count is _path_points_count but passed in to avoid having to take the semaphore</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a9bf12019b2e68d7dd4dd91d796065879">thorough_cleanup</a>(uint16_t <a class="code" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">path_points_count</a>, <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8">ThoroughCleanupType</a> clean_type);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// the two cleanup steps run from the background thread</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// these are public so that they can be tested by the example sketch</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a22658e88244989c1a75112423ef11584">detect_simplifications</a>();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a0b220315fb2022277d3045a2d849d573">detect_loops</a>();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// restart simplify or pruning if new points have been added to path</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// path_points_count is _path_points_count but passed in to avoid having to take the semaphore</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a4785334ceeeced0de21c1554cdddb1fe">restart_simplify_if_new_points</a>(uint16_t <a class="code" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">path_points_count</a>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// restart pruning if new points have been simplified</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a84540969b87ef6487ddd602420856c18">restart_pruning_if_new_points</a>();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// restart simplify algorithm so that detect_simplify will check all new points that have been added</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// to the path since it last completed.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// path_points_count is _path_points_count but passed in to avoid having to take the semaphore</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a817dd18311a1cf0e2d00c5da76ae355a">restart_simplification</a>(uint16_t <a class="code" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">path_points_count</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// reset simplify algorithm so that it will re-check all points in the path</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a383520a1245cc4bc9369d8f74f1ba5fa">reset_simplification</a>();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// restart pruning algorithm so that detect_loops will check all new points that have been added</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// to the path since it last completed.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// path_points_count is _path_points_count but passed in to avoid having to take the semaphore</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a78465cda34f4273f63c2935c9575bc2d">restart_pruning</a>(uint16_t <a class="code" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">path_points_count</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// reset pruning algorithm so that it will re-check all points in the path</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a513a39d28b9653b9f580347588b98172">reset_pruning</a>();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// remove all simplify-able points from the path</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a6ba09ab24055392685af0efac66dc471">remove_points_by_simplify_bitmask</a>();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// remove loops until at least num_point_to_remove have been removed from path</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// does not necessarily prune all loops</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// returns false if it failed to remove points (because it could not take semaphore)</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#ae6ca4469404ae9040097af4d18919217">remove_points_by_loops</a>(uint16_t num_points_to_remove);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// add loop to loops array</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">//  returns true if loop added successfully, false on failure (because loop array is full)</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">//  checks if loop overlaps with an existing loop, keeps only the longer loop</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">//  example: segment_a(point2~point3) overlaps with segment_b (point5~point6), add_loop(3,5,midpoint)</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#aec2fd91f6543bd3471057f5c8c5dc576">add_loop</a>(uint16_t start_index, uint16_t end_index, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; midpoint);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// dist_point holds the closest distance reached between 2 line segments, and the point exactly between them</span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1dist__point.html">  150</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1dist__point.html#ad07ffb83e892b374bb21325151e949d1">  151</a></span>&#160;        <span class="keywordtype">float</span> <a class="code" href="structAP__SmartRTL_1_1dist__point.html#ad07ffb83e892b374bb21325151e949d1">distance</a>;</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1dist__point.html#a0a6a15ca43c84b667e23b4ad3c00fbce">  152</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a> <a class="code" href="structAP__SmartRTL_1_1dist__point.html#a0a6a15ca43c84b667e23b4ad3c00fbce">midpoint</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    } <a class="code" href="structAP__SmartRTL_1_1dist__point.html">dist_point</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// get the closest distance between 2 line segments and the point midway between the closest points</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">static</span> <a class="code" href="structAP__SmartRTL_1_1dist__point.html">dist_point</a> <a class="code" href="classAP__SmartRTL.html#a2a1e7ac181397a7e6166f4fd5a1a7b95">segment_segment_dist</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; p1, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; p2, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; p3, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; p4);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// de-activate SmartRTL, send warning to GCS and logger</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a67a118c4a8ae545dca614ce27e1395bd">deactivate</a>(<a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8">SRTL_Actions</a> action, <span class="keyword">const</span> <span class="keywordtype">char</span> *reason);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// logging</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAP__SmartRTL.html#a5626af8c5acac7313bcfbf5bdfb438b6">log_action</a>(<a class="code" href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8">SRTL_Actions</a> action, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="examples_2polygon_2polygon_8cpp.html#a17ec7548d507b5e64723f68df5205a30">point</a> = <a class="code" href="vector3_8h.html#af345ad77ba5e240c7ab72b4b2077e754">Vector3f</a>());</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// parameters</span></div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a25fb88ba60c5f4f62957e422e4340410">  165</a></span>&#160;    AP_Float <a class="code" href="classAP__SmartRTL.html#a25fb88ba60c5f4f62957e422e4340410">_accuracy</a>;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#af357e7f7e3d03890f9074bab6f4e4c6b">  166</a></span>&#160;    AP_Int16 <a class="code" href="classAP__SmartRTL.html#af357e7f7e3d03890f9074bab6f4e4c6b">_points_max</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// SmartRTL State Variables</span></div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a0a152664c209e83bbd1459fd95160065">  169</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a0a152664c209e83bbd1459fd95160065">_active</a>;       <span class="comment">// true if SmartRTL is usable.  may become unusable if the path becomes too long to keep in memory, and too convoluted to be cleaned up, SmartRTL will be permanently deactivated (for the remainder of the flight)</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a20cf82d6061762e67192e95553f3e4d8">  170</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a20cf82d6061762e67192e95553f3e4d8">_example_mode</a>; <span class="comment">// true when being called from the example sketch, logging and background tasks are disabled</span></div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a3415d88d0177c920f4649a2a58cd0b2c">  171</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a3415d88d0177c920f4649a2a58cd0b2c">_home_saved</a>;   <span class="comment">// true once home has been saved successfully by the set_home or update methods</span></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a19bc9d6da80c35e9c204864d9c67c688">  172</a></span>&#160;    uint32_t <a class="code" href="classAP__SmartRTL.html#a19bc9d6da80c35e9c204864d9c67c688">_last_good_position_ms</a>;    <span class="comment">// the last system time a last good position was reported. If no position is available for a while, SmartRTL will be disabled.</span></div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a5885745a934664bf2b67b485928f7294">  173</a></span>&#160;    uint32_t <a class="code" href="classAP__SmartRTL.html#a5885745a934664bf2b67b485928f7294">_last_position_save_ms</a>;    <span class="comment">// the system time a position was saved to the path (used for timeout)</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#adb5c5cbe706da71bcc63020fc21543e2">  174</a></span>&#160;    uint32_t <a class="code" href="classAP__SmartRTL.html#adb5c5cbe706da71bcc63020fc21543e2">_thorough_clean_request_ms</a>;<span class="comment">// the last system time the thorough cleanup was requested (set by thorough_cleanup method, used by background cleanup)</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a0bbf3a4a5090bcca5873959ca3742e3c">  175</a></span>&#160;    uint32_t <a class="code" href="classAP__SmartRTL.html#a0bbf3a4a5090bcca5873959ca3742e3c">_thorough_clean_complete_ms</a>; <span class="comment">// set to _thorough_clean_request_ms when the background thread completes the thorough cleanup</span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#ac9b0463720ed52226ae484164760d710">  176</a></span>&#160;    <a class="code" href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8">ThoroughCleanupType</a> <a class="code" href="classAP__SmartRTL.html#ac9b0463720ed52226ae484164760d710">_thorough_clean_type</a>;   <span class="comment">// used by example sketch to test simplify and prune separately</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// path variables</span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a80939beca707b4aa8b1450ac87055ed3">  179</a></span>&#160;    <a class="code" href="classVector3.html">Vector3f</a>* <a class="code" href="classAP__SmartRTL.html#a80939beca707b4aa8b1450ac87055ed3">_path</a>;    <span class="comment">// points are stored in meters from EKF origin in NED</span></div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a38b4f7f0bb07892fa1da351d699c4395">  180</a></span>&#160;    uint16_t <a class="code" href="classAP__SmartRTL.html#a38b4f7f0bb07892fa1da351d699c4395">_path_points_max</a>;  <span class="comment">// after the array has been allocated, we will need to know how big it is. We can&#39;t use the parameter, because a user could change the parameter in-flight</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a766987ee78ba2f25be1348df6226e50f">  181</a></span>&#160;    uint16_t <a class="code" href="classAP__SmartRTL.html#a766987ee78ba2f25be1348df6226e50f">_path_points_count</a>;<span class="comment">// number of points in the path array</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#ad012e1faececb4f570d42361d626f240">  182</a></span>&#160;    uint16_t <a class="code" href="classAP__SmartRTL.html#ad012e1faececb4f570d42361d626f240">_path_points_completed_limit</a>;  <span class="comment">// set by main thread to the path_point_count when a point is popped.  used by simplify and prune algorithms to detect path shrinking</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a5e2452019f8d44ee318b27550e43d6f2">  183</a></span>&#160;    <a class="code" href="chibios_8h.html#a1961afe26422d4d62bf1f43e16fc2eaf">HAL_Semaphore</a> <a class="code" href="classAP__SmartRTL.html#a5e2452019f8d44ee318b27550e43d6f2">_path_sem</a>;   <span class="comment">// semaphore for updating path</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// Simplify</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// structure and buffer to hold the &quot;to-do list&quot; for the simplify algorithm.</span></div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1simplify__start__finish__t.html">  187</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1simplify__start__finish__t.html#a1e0da4ef528ee3068719db02f1ab560e">  188</a></span>&#160;        uint16_t <a class="code" href="structAP__SmartRTL_1_1simplify__start__finish__t.html#a1e0da4ef528ee3068719db02f1ab560e">start</a>;</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1simplify__start__finish__t.html#a828bf70e3be8beab76f6f01666ee9a6b">  189</a></span>&#160;        uint16_t <a class="code" href="structAP__SmartRTL_1_1simplify__start__finish__t.html#a828bf70e3be8beab76f6f01666ee9a6b">finish</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    } <a class="code" href="structAP__SmartRTL_1_1simplify__start__finish__t.html">simplify_start_finish_t</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">struct </span>{</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a52df07a4396572434df128a71e363e56">  192</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a52df07a4396572434df128a71e363e56">complete</a>;          <span class="comment">// true after simplify_detection has completed</span></div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a490d5944166843bbaf80911d8fafa0cc">  193</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a490d5944166843bbaf80911d8fafa0cc">removal_required</a>;  <span class="comment">// true if some simplify-able points have been found on the path, set true by detect_simplifications, set false by remove_points_by_simplify_bitmask</span></div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">  194</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">path_points_count</a>; <span class="comment">// copy of _path_points_count taken when the simply algorithm started</span></div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a89775638c627906271f3f57adce52194">  195</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#a89775638c627906271f3f57adce52194">path_points_completed</a> = <a class="code" href="AP__SmartRTL_8h.html#afc2a424c3c3a87313ed22c86208b3915">SMARTRTL_POINTS_MAX</a>; <span class="comment">// number of points in that path that have already been simplified and should be ignored</span></div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a32883fd2ee05feb37fa3de44ae2c669c">  196</a></span>&#160;        <a class="code" href="structAP__SmartRTL_1_1simplify__start__finish__t.html">simplify_start_finish_t</a>* <a class="code" href="classAP__SmartRTL.html#a32883fd2ee05feb37fa3de44ae2c669c">stack</a>;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#aa0a80c1ba51f5313f35d6005e042dff9">  197</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#aa0a80c1ba51f5313f35d6005e042dff9">stack_max</a>;     <span class="comment">// maximum number of elements in the _simplify_stack array</span></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#ab36c23e4f552c47fd9f81bda1bd39ff2">  198</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#ab36c23e4f552c47fd9f81bda1bd39ff2">stack_count</a>;   <span class="comment">// number of elements in _simplify_stack array</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a9841ae91d088df4b00fc25297fc5ddee">  199</a></span>&#160;        <a class="code" href="classBitmask.html">Bitmask&lt;SMARTRTL_POINTS_MAX&gt;</a> <a class="code" href="classAP__SmartRTL.html#a9841ae91d088df4b00fc25297fc5ddee">bitmask</a>;  <span class="comment">// simplify algorithm clears bits for each point that can be removed</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    } <a class="code" href="classAP__SmartRTL.html#ab311851f0fae6d7c19942d1df0d12baf">_simplify</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// Pruning</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1prune__loop__t.html">  203</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1prune__loop__t.html#a26e51d872d9fb42e9c3fc688c155d157">  204</a></span>&#160;        uint16_t <a class="code" href="structAP__SmartRTL_1_1prune__loop__t.html#a26e51d872d9fb42e9c3fc688c155d157">start_index</a>;   <span class="comment">// index of the first point in the loop</span></div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1prune__loop__t.html#ae0e00c3f718cbab4a57476e57fcea042">  205</a></span>&#160;        uint16_t <a class="code" href="structAP__SmartRTL_1_1prune__loop__t.html#ae0e00c3f718cbab4a57476e57fcea042">end_index</a>;     <span class="comment">// index of the last point in the loop</span></div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1prune__loop__t.html#af384c3ba0c3da26301415589c037ad1a">  206</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a> <a class="code" href="structAP__SmartRTL_1_1prune__loop__t.html#af384c3ba0c3da26301415589c037ad1a">midpoint</a>;      <span class="comment">// midpoint which should replace the first point when the loop is removed</span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structAP__SmartRTL_1_1prune__loop__t.html#a90f68c9fc267dfbf64650bef08f0f37c">  207</a></span>&#160;        <span class="keywordtype">float</span> <a class="code" href="structAP__SmartRTL_1_1prune__loop__t.html#a90f68c9fc267dfbf64650bef08f0f37c">length_squared</a>;   <span class="comment">// length squared (in meters) of the loop (used so we can remove the longest loops)</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    } <a class="code" href="structAP__SmartRTL_1_1prune__loop__t.html">prune_loop_t</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">struct </span>{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a52df07a4396572434df128a71e363e56">complete</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">path_points_count</a>;  <span class="comment">// copy of _path_points_count taken when the prune algorithm started</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#a89775638c627906271f3f57adce52194">path_points_completed</a>; <span class="comment">// number of points in that path that have already been checked for loops and should be ignored</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#ab980a8cc23cb1fe08b3c58ae27965bf0">  213</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#ab980a8cc23cb1fe08b3c58ae27965bf0">i</a>;     <span class="comment">// loop search&#39;s outer loop index</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a9a220ba17b56a51b23c6cc749886bceb">  214</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#a9a220ba17b56a51b23c6cc749886bceb">j</a>;     <span class="comment">// loop search&#39;s inner loop index</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a20d6b33ca6ceb285a629333eeabe0d78">  215</a></span>&#160;        <a class="code" href="structAP__SmartRTL_1_1prune__loop__t.html">prune_loop_t</a>* <a class="code" href="classAP__SmartRTL.html#a20d6b33ca6ceb285a629333eeabe0d78">loops</a>;<span class="comment">// the result of the pruning algorithm</span></div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a0e32b263aa563718eac02b89bfbc33a4">  216</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#a0e32b263aa563718eac02b89bfbc33a4">loops_max</a>; <span class="comment">// maximum number of elements in the _prunable_loops array</span></div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classAP__SmartRTL.html#a2252e458f81f5ce893687d261ac56315">  217</a></span>&#160;        uint16_t <a class="code" href="classAP__SmartRTL.html#a2252e458f81f5ce893687d261ac56315">loops_count</a>;   <span class="comment">// number of elements in the _prunable_loops array</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    } <a class="code" href="classAP__SmartRTL.html#ac87b8974fb4842f18ceb6bd50219725e">_prune</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// returns true if the two loops overlap (used within add_loop to determine which loops to keep or throw away)</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAP__SmartRTL.html#a1ca55bb20721bf4c7670c18da9a947c0">loops_overlap</a>(<span class="keyword">const</span> prune_loop_t&amp; loop1, <span class="keyword">const</span> prune_loop_t&amp; loop2) <span class="keyword">const</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;};</div><div class="ttc" id="classAP__SmartRTL_html_aa9363ed3932913d1a05bd34618d27fd8a9e2687cc7646e9d1368ae29ba9cafc17"><div class="ttname"><a href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8a9e2687cc7646e9d1368ae29ba9cafc17">AP_SmartRTL::THOROUGH_CLEAN_SIMPLIFY_ONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00061">AP_SmartRTL.h:61</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a20d6b33ca6ceb285a629333eeabe0d78"><div class="ttname"><a href="classAP__SmartRTL.html#a20d6b33ca6ceb285a629333eeabe0d78">AP_SmartRTL::loops</a></div><div class="ttdeci">prune_loop_t * loops</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00215">AP_SmartRTL.h:215</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a5885745a934664bf2b67b485928f7294"><div class="ttname"><a href="classAP__SmartRTL.html#a5885745a934664bf2b67b485928f7294">AP_SmartRTL::_last_position_save_ms</a></div><div class="ttdeci">uint32_t _last_position_save_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00173">AP_SmartRTL.h:173</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html"><div class="ttname"><a href="classAP__SmartRTL.html">AP_SmartRTL</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00024">AP_SmartRTL.h:24</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a0a152664c209e83bbd1459fd95160065"><div class="ttname"><a href="classAP__SmartRTL.html#a0a152664c209e83bbd1459fd95160065">AP_SmartRTL::_active</a></div><div class="ttdeci">bool _active</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00169">AP_SmartRTL.h:169</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aa9363ed3932913d1a05bd34618d27fd8aea8daaba041c4699c5715edb0205f1b5"><div class="ttname"><a href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8aea8daaba041c4699c5715edb0205f1b5">AP_SmartRTL::THOROUGH_CLEAN_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00059">AP_SmartRTL.h:59</a></div></div>
<div class="ttc" id="vector3_8h_html_af345ad77ba5e240c7ab72b4b2077e754"><div class="ttname"><a href="vector3_8h.html#af345ad77ba5e240c7ab72b4b2077e754">Vector3f</a></div><div class="ttdeci">Vector3&lt; float &gt; Vector3f</div><div class="ttdef"><b>Definition:</b> <a href="vector3_8h_source.html#l00252">vector3.h:252</a></div></div>
<div class="ttc" id="Bitmask_8h_html"><div class="ttname"><a href="Bitmask_8h.html">Bitmask.h</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a80939beca707b4aa8b1450ac87055ed3"><div class="ttname"><a href="classAP__SmartRTL.html#a80939beca707b4aa8b1450ac87055ed3">AP_SmartRTL::_path</a></div><div class="ttdeci">Vector3f * _path</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00179">AP_SmartRTL.h:179</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a5e2452019f8d44ee318b27550e43d6f2"><div class="ttname"><a href="classAP__SmartRTL.html#a5e2452019f8d44ee318b27550e43d6f2">AP_SmartRTL::_path_sem</a></div><div class="ttdeci">HAL_Semaphore _path_sem</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00183">AP_SmartRTL.h:183</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a4785334ceeeced0de21c1554cdddb1fe"><div class="ttname"><a href="classAP__SmartRTL.html#a4785334ceeeced0de21c1554cdddb1fe">AP_SmartRTL::restart_simplify_if_new_points</a></div><div class="ttdeci">void restart_simplify_if_new_points(uint16_t path_points_count)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00569">AP_SmartRTL.cpp:569</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8a02abd3f938199fbc1e241294c7a3150a"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a02abd3f938199fbc1e241294c7a3150a">AP_SmartRTL::SRTL_DEACTIVATED_PATH_FULL_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00093">AP_SmartRTL.h:93</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a9a220ba17b56a51b23c6cc749886bceb"><div class="ttname"><a href="classAP__SmartRTL.html#a9a220ba17b56a51b23c6cc749886bceb">AP_SmartRTL::j</a></div><div class="ttdeci">uint16_t j</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00214">AP_SmartRTL.h:214</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aa9363ed3932913d1a05bd34618d27fd8"><div class="ttname"><a href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8">AP_SmartRTL::ThoroughCleanupType</a></div><div class="ttdeci">ThoroughCleanupType</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00058">AP_SmartRTL.h:58</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a84540969b87ef6487ddd602420856c18"><div class="ttname"><a href="classAP__SmartRTL.html#a84540969b87ef6487ddd602420856c18">AP_SmartRTL::restart_pruning_if_new_points</a></div><div class="ttdeci">void restart_pruning_if_new_points()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00578">AP_SmartRTL.cpp:578</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a1ca55bb20721bf4c7670c18da9a947c0"><div class="ttname"><a href="classAP__SmartRTL.html#a1ca55bb20721bf4c7670c18da9a947c0">AP_SmartRTL::loops_overlap</a></div><div class="ttdeci">bool loops_overlap(const prune_loop_t &amp;loop1, const prune_loop_t &amp;loop2) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00837">AP_SmartRTL.cpp:837</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1simplify__start__finish__t_html"><div class="ttname"><a href="structAP__SmartRTL_1_1simplify__start__finish__t.html">AP_SmartRTL::simplify_start_finish_t</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00187">AP_SmartRTL.h:187</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_adb5c5cbe706da71bcc63020fc21543e2"><div class="ttname"><a href="classAP__SmartRTL.html#adb5c5cbe706da71bcc63020fc21543e2">AP_SmartRTL::_thorough_clean_request_ms</a></div><div class="ttdeci">uint32_t _thorough_clean_request_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00174">AP_SmartRTL.h:174</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8aac4e43704c92055db4ecb2eab459c2c3"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aac4e43704c92055db4ecb2eab459c2c3">AP_SmartRTL::SRTL_POINT_ADD</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00084">AP_SmartRTL.h:84</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ab980a8cc23cb1fe08b3c58ae27965bf0"><div class="ttname"><a href="classAP__SmartRTL.html#ab980a8cc23cb1fe08b3c58ae27965bf0">AP_SmartRTL::i</a></div><div class="ttdeci">uint16_t i</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00213">AP_SmartRTL.h:213</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a6ba09ab24055392685af0efac66dc471"><div class="ttname"><a href="classAP__SmartRTL.html#a6ba09ab24055392685af0efac66dc471">AP_SmartRTL::remove_points_by_simplify_bitmask</a></div><div class="ttdeci">void remove_points_by_simplify_bitmask()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00621">AP_SmartRTL.cpp:621</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a70616f215ae33635ac6e9d4acaf7c967"><div class="ttname"><a href="classAP__SmartRTL.html#a70616f215ae33635ac6e9d4acaf7c967">AP_SmartRTL::request_thorough_cleanup</a></div><div class="ttdeci">bool request_thorough_cleanup(ThoroughCleanupType clean_type=THOROUGH_CLEAN_DEFAULT)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00249">AP_SmartRTL.cpp:249</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ab6404e81f2f4319387d9566d6d379cfb"><div class="ttname"><a href="classAP__SmartRTL.html#ab6404e81f2f4319387d9566d6d379cfb">AP_SmartRTL::routine_cleanup</a></div><div class="ttdeci">void routine_cleanup(uint16_t path_points_count, uint16_t path_points_complete_limit)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00359">AP_SmartRTL.cpp:359</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1prune__loop__t_html_af384c3ba0c3da26301415589c037ad1a"><div class="ttname"><a href="structAP__SmartRTL_1_1prune__loop__t.html#af384c3ba0c3da26301415589c037ad1a">AP_SmartRTL::prune_loop_t::midpoint</a></div><div class="ttdeci">Vector3f midpoint</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00206">AP_SmartRTL.h:206</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a52df07a4396572434df128a71e363e56"><div class="ttname"><a href="classAP__SmartRTL.html#a52df07a4396572434df128a71e363e56">AP_SmartRTL::complete</a></div><div class="ttdeci">bool complete</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00192">AP_SmartRTL.h:192</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1prune__loop__t_html"><div class="ttname"><a href="structAP__SmartRTL_1_1prune__loop__t.html">AP_SmartRTL::prune_loop_t</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00203">AP_SmartRTL.h:203</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a709dabc77275a853cf665688f0492ecf"><div class="ttname"><a href="classAP__SmartRTL.html#a709dabc77275a853cf665688f0492ecf">AP_SmartRTL::add_point</a></div><div class="ttdeci">bool add_point(const Vector3f &amp;point)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00285">AP_SmartRTL.cpp:285</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_adf72036b4aa302629ab68c96ade9fd88"><div class="ttname"><a href="classAP__SmartRTL.html#adf72036b4aa302629ab68c96ade9fd88">AP_SmartRTL::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00078">AP_SmartRTL.h:78</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8">AP_SmartRTL::SRTL_Actions</a></div><div class="ttdeci">SRTL_Actions</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00083">AP_SmartRTL.h:83</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a0d6f357ffa9ca16ccf204c2a43347906"><div class="ttname"><a href="classAP__SmartRTL.html#a0d6f357ffa9ca16ccf204c2a43347906">AP_SmartRTL::get_point</a></div><div class="ttdeci">const Vector3f &amp; get_point(uint16_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00041">AP_SmartRTL.h:41</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a9841ae91d088df4b00fc25297fc5ddee"><div class="ttname"><a href="classAP__SmartRTL.html#a9841ae91d088df4b00fc25297fc5ddee">AP_SmartRTL::bitmask</a></div><div class="ttdeci">Bitmask&lt; SMARTRTL_POINTS_MAX &gt; bitmask</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00199">AP_SmartRTL.h:199</a></div></div>
<div class="ttc" id="AP__SmartRTL_8h_html_afc2a424c3c3a87313ed22c86208b3915"><div class="ttname"><a href="AP__SmartRTL_8h.html#afc2a424c3c3a87313ed22c86208b3915">SMARTRTL_POINTS_MAX</a></div><div class="ttdeci">#define SMARTRTL_POINTS_MAX</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00010">AP_SmartRTL.h:10</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8abeec9125908fce90846b9fd30e6faf0b"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8abeec9125908fce90846b9fd30e6faf0b">AP_SmartRTL::SRTL_POP_FAILED_NO_SEMAPHORE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00089">AP_SmartRTL.h:89</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ad012e1faececb4f570d42361d626f240"><div class="ttname"><a href="classAP__SmartRTL.html#ad012e1faececb4f570d42361d626f240">AP_SmartRTL::_path_points_completed_limit</a></div><div class="ttdeci">uint16_t _path_points_completed_limit</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00182">AP_SmartRTL.h:182</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a513a39d28b9653b9f580347588b98172"><div class="ttname"><a href="classAP__SmartRTL.html#a513a39d28b9653b9f580347588b98172">AP_SmartRTL::reset_pruning</a></div><div class="ttdeci">void reset_pruning()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00613">AP_SmartRTL.cpp:613</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aa9363ed3932913d1a05bd34618d27fd8ae909b30ebe11b4e887d6f7c1a9b76d8c"><div class="ttname"><a href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8ae909b30ebe11b4e887d6f7c1a9b76d8c">AP_SmartRTL::THOROUGH_CLEAN_PRUNE_ONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00062">AP_SmartRTL.h:62</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a19bc9d6da80c35e9c204864d9c67c688"><div class="ttname"><a href="classAP__SmartRTL.html#a19bc9d6da80c35e9c204864d9c67c688">AP_SmartRTL::_last_good_position_ms</a></div><div class="ttdeci">uint32_t _last_good_position_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00172">AP_SmartRTL.h:172</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a817dd18311a1cf0e2d00c5da76ae355a"><div class="ttname"><a href="classAP__SmartRTL.html#a817dd18311a1cf0e2d00c5da76ae355a">AP_SmartRTL::restart_simplification</a></div><div class="ttdeci">void restart_simplification(uint16_t path_points_count)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00587">AP_SmartRTL.cpp:587</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aaa3824e3ea7d768af2f110255c056e00"><div class="ttname"><a href="classAP__SmartRTL.html#aaa3824e3ea7d768af2f110255c056e00">AP_SmartRTL::is_active</a></div><div class="ttdeci">bool is_active() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00035">AP_SmartRTL.h:35</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a22d770ba0ec2641a2a34bfcb9833f11c"><div class="ttname"><a href="classAP__SmartRTL.html#a22d770ba0ec2641a2a34bfcb9833f11c">AP_SmartRTL::AP_SmartRTL</a></div><div class="ttdeci">AP_SmartRTL(bool example_mode=false)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00079">AP_SmartRTL.cpp:79</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a59993dfd6863e68ca3775537d8cff85a"><div class="ttname"><a href="classAP__SmartRTL.html#a59993dfd6863e68ca3775537d8cff85a">AP_SmartRTL::run_background_cleanup</a></div><div class="ttdeci">void run_background_cleanup()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00318">AP_SmartRTL.cpp:318</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ab311851f0fae6d7c19942d1df0d12baf"><div class="ttname"><a href="classAP__SmartRTL.html#ab311851f0fae6d7c19942d1df0d12baf">AP_SmartRTL::_simplify</a></div><div class="ttdeci">struct AP_SmartRTL::@163 _simplify</div></div>
<div class="ttc" id="classAP__SmartRTL_html_a38b4f7f0bb07892fa1da351d699c4395"><div class="ttname"><a href="classAP__SmartRTL.html#a38b4f7f0bb07892fa1da351d699c4395">AP_SmartRTL::_path_points_max</a></div><div class="ttdeci">uint16_t _path_points_max</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00180">AP_SmartRTL.h:180</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8aae03b8edfb2bef757d0874252b76d3ee"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aae03b8edfb2bef757d0874252b76d3ee">AP_SmartRTL::SRTL_DEACTIVATED_BAD_POSITION_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00092">AP_SmartRTL.h:92</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a2252e458f81f5ce893687d261ac56315"><div class="ttname"><a href="classAP__SmartRTL.html#a2252e458f81f5ce893687d261ac56315">AP_SmartRTL::loops_count</a></div><div class="ttdeci">uint16_t loops_count</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00217">AP_SmartRTL.h:217</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a766987ee78ba2f25be1348df6226e50f"><div class="ttname"><a href="classAP__SmartRTL.html#a766987ee78ba2f25be1348df6226e50f">AP_SmartRTL::_path_points_count</a></div><div class="ttdeci">uint16_t _path_points_count</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00181">AP_SmartRTL.h:181</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a32883fd2ee05feb37fa3de44ae2c669c"><div class="ttname"><a href="classAP__SmartRTL.html#a32883fd2ee05feb37fa3de44ae2c669c">AP_SmartRTL::stack</a></div><div class="ttdeci">simplify_start_finish_t * stack</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00196">AP_SmartRTL.h:196</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1simplify__start__finish__t_html_a828bf70e3be8beab76f6f01666ee9a6b"><div class="ttname"><a href="structAP__SmartRTL_1_1simplify__start__finish__t.html#a828bf70e3be8beab76f6f01666ee9a6b">AP_SmartRTL::simplify_start_finish_t::finish</a></div><div class="ttdeci">uint16_t finish</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00189">AP_SmartRTL.h:189</a></div></div>
<div class="ttc" id="chibios_8h_html_a1961afe26422d4d62bf1f43e16fc2eaf"><div class="ttname"><a href="chibios_8h.html#a1961afe26422d4d62bf1f43e16fc2eaf">HAL_Semaphore</a></div><div class="ttdeci">#define HAL_Semaphore</div><div class="ttdef"><b>Definition:</b> <a href="chibios_8h_source.html#l00048">chibios.h:48</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ab817af3df8d87b6d60859fd7e5e6a0d9"><div class="ttname"><a href="classAP__SmartRTL.html#ab817af3df8d87b6d60859fd7e5e6a0d9">AP_SmartRTL::update</a></div><div class="ttdeci">void update(bool position_ok, bool save_position)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00205">AP_SmartRTL.cpp:205</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a9b7489b5562f697808c82179f6f730b5"><div class="ttname"><a href="classAP__SmartRTL.html#a9b7489b5562f697808c82179f6f730b5">AP_SmartRTL::get_num_points</a></div><div class="ttdeci">uint16_t get_num_points() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00131">AP_SmartRTL.cpp:131</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aa9363ed3932913d1a05bd34618d27fd8a36a43ab99e487e07e440699ac2e84ecd"><div class="ttname"><a href="classAP__SmartRTL.html#aa9363ed3932913d1a05bd34618d27fd8a36a43ab99e487e07e440699ac2e84ecd">AP_SmartRTL::THOROUGH_CLEAN_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00060">AP_SmartRTL.h:60</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00142">AP_Param.h:142</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a1adb944d3eb5d8550dba2e04807d54ac"><div class="ttname"><a href="classAP__SmartRTL.html#a1adb944d3eb5d8550dba2e04807d54ac">AP_SmartRTL::path_points_count</a></div><div class="ttdeci">uint16_t path_points_count</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00194">AP_SmartRTL.h:194</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1dist__point_html_ad07ffb83e892b374bb21325151e949d1"><div class="ttname"><a href="structAP__SmartRTL_1_1dist__point.html#ad07ffb83e892b374bb21325151e949d1">AP_SmartRTL::dist_point::distance</a></div><div class="ttdeci">float distance</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00151">AP_SmartRTL.h:151</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a2a1e7ac181397a7e6166f4fd5a1a7b95"><div class="ttname"><a href="classAP__SmartRTL.html#a2a1e7ac181397a7e6166f4fd5a1a7b95">AP_SmartRTL::segment_segment_dist</a></div><div class="ttdeci">static dist_point segment_segment_dist(const Vector3f &amp;p1, const Vector3f &amp;p2, const Vector3f &amp;p3, const Vector3f &amp;p4)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00783">AP_SmartRTL.cpp:783</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a0b220315fb2022277d3045a2d849d573"><div class="ttname"><a href="classAP__SmartRTL.html#a0b220315fb2022277d3045a2d849d573">AP_SmartRTL::detect_loops</a></div><div class="ttdeci">void detect_loops()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00524">AP_SmartRTL.cpp:524</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8a7c34fc317d4e14ecea43a9e12d9d8a89"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a7c34fc317d4e14ecea43a9e12d9d8a89">AP_SmartRTL::SRTL_POINT_PRUNE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00085">AP_SmartRTL.h:85</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a25fb88ba60c5f4f62957e422e4340410"><div class="ttname"><a href="classAP__SmartRTL.html#a25fb88ba60c5f4f62957e422e4340410">AP_SmartRTL::_accuracy</a></div><div class="ttdeci">AP_Float _accuracy</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00165">AP_SmartRTL.h:165</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1dist__point_html"><div class="ttname"><a href="structAP__SmartRTL_1_1dist__point.html">AP_SmartRTL::dist_point</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00150">AP_SmartRTL.h:150</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8aa9cd77eaa7976a126a470bdee4962720"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aa9cd77eaa7976a126a470bdee4962720">AP_SmartRTL::SRTL_ADD_FAILED_NO_SEMAPHORE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00087">AP_SmartRTL.h:87</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ab36c23e4f552c47fd9f81bda1bd39ff2"><div class="ttname"><a href="classAP__SmartRTL.html#ab36c23e4f552c47fd9f81bda1bd39ff2">AP_SmartRTL::stack_count</a></div><div class="ttdeci">uint16_t stack_count</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00198">AP_SmartRTL.h:198</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8aa22631905f38a1154309229e514c8fcf"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8aa22631905f38a1154309229e514c8fcf">AP_SmartRTL::SRTL_POINT_SIMPLIFY</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00086">AP_SmartRTL.h:86</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a2a3e222a267844a0ce4d8dc2b80f4ca2"><div class="ttname"><a href="classAP__SmartRTL.html#a2a3e222a267844a0ce4d8dc2b80f4ca2">AP_SmartRTL::pop_point</a></div><div class="ttdeci">bool pop_point(Vector3f &amp;point)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00137">AP_SmartRTL.cpp:137</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a89775638c627906271f3f57adce52194"><div class="ttname"><a href="classAP__SmartRTL.html#a89775638c627906271f3f57adce52194">AP_SmartRTL::path_points_completed</a></div><div class="ttdeci">uint16_t path_points_completed</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00195">AP_SmartRTL.h:195</a></div></div>
<div class="ttc" id="classBitmask_html"><div class="ttname"><a href="classBitmask.html">Bitmask&lt; SMARTRTL_POINTS_MAX &gt;</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ae6ca4469404ae9040097af4d18919217"><div class="ttname"><a href="classAP__SmartRTL.html#ae6ca4469404ae9040097af4d18919217">AP_SmartRTL::remove_points_by_loops</a></div><div class="ttdeci">bool remove_points_by_loops(uint16_t num_points_to_remove)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00659">AP_SmartRTL.cpp:659</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a15b1b58eee885789ec3b88def4363995"><div class="ttname"><a href="classAP__SmartRTL.html#a15b1b58eee885789ec3b88def4363995">AP_SmartRTL::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00087">AP_SmartRTL.cpp:87</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8af3398c3233050d2227a221ebe861a24a"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8af3398c3233050d2227a221ebe861a24a">AP_SmartRTL::SRTL_DEACTIVATED_INIT_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00090">AP_SmartRTL.h:90</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1prune__loop__t_html_a26e51d872d9fb42e9c3fc688c155d157"><div class="ttname"><a href="structAP__SmartRTL_1_1prune__loop__t.html#a26e51d872d9fb42e9c3fc688c155d157">AP_SmartRTL::prune_loop_t::start_index</a></div><div class="ttdeci">uint16_t start_index</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00204">AP_SmartRTL.h:204</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8ac968fcef5e06cb7695adb485a9269923"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8ac968fcef5e06cb7695adb485a9269923">AP_SmartRTL::SRTL_ADD_FAILED_PATH_FULL</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00088">AP_SmartRTL.h:88</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aca4d46faaaebfb9df18285bcbfc450cb"><div class="ttname"><a href="classAP__SmartRTL.html#aca4d46faaaebfb9df18285bcbfc450cb">AP_SmartRTL::cancel_request_for_thorough_cleanup</a></div><div class="ttdeci">void cancel_request_for_thorough_cleanup()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00275">AP_SmartRTL.cpp:275</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1dist__point_html_a0a6a15ca43c84b667e23b4ad3c00fbce"><div class="ttname"><a href="structAP__SmartRTL_1_1dist__point.html#a0a6a15ca43c84b667e23b4ad3c00fbce">AP_SmartRTL::dist_point::midpoint</a></div><div class="ttdeci">Vector3f midpoint</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00152">AP_SmartRTL.h:152</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aec2fd91f6543bd3471057f5c8c5dc576"><div class="ttname"><a href="classAP__SmartRTL.html#aec2fd91f6543bd3471057f5c8c5dc576">AP_SmartRTL::add_loop</a></div><div class="ttdeci">bool add_loop(uint16_t start_index, uint16_t end_index, const Vector3f &amp;midpoint)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00720">AP_SmartRTL.cpp:720</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1prune__loop__t_html_a90f68c9fc267dfbf64650bef08f0f37c"><div class="ttname"><a href="structAP__SmartRTL_1_1prune__loop__t.html#a90f68c9fc267dfbf64650bef08f0f37c">AP_SmartRTL::prune_loop_t::length_squared</a></div><div class="ttdeci">float length_squared</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00207">AP_SmartRTL.h:207</a></div></div>
<div class="ttc" id="classVector3_html"><div class="ttname"><a href="classVector3.html">Vector3</a></div><div class="ttdef"><b>Definition:</b> <a href="vector3_8h_source.html#l00063">vector3.h:63</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a22658e88244989c1a75112423ef11584"><div class="ttname"><a href="classAP__SmartRTL.html#a22658e88244989c1a75112423ef11584">AP_SmartRTL::detect_simplifications</a></div><div class="ttdeci">void detect_simplifications()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00450">AP_SmartRTL.cpp:450</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a20cf82d6061762e67192e95553f3e4d8"><div class="ttname"><a href="classAP__SmartRTL.html#a20cf82d6061762e67192e95553f3e4d8">AP_SmartRTL::_example_mode</a></div><div class="ttdeci">bool _example_mode</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00170">AP_SmartRTL.h:170</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8a6e40ffa989754ec43beeccca17b08ff3"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a6e40ffa989754ec43beeccca17b08ff3">AP_SmartRTL::SRTL_DEACTIVATED_PROGRAM_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00094">AP_SmartRTL.h:94</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_aa0a80c1ba51f5313f35d6005e042dff9"><div class="ttname"><a href="classAP__SmartRTL.html#aa0a80c1ba51f5313f35d6005e042dff9">AP_SmartRTL::stack_max</a></div><div class="ttdeci">uint16_t stack_max</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00197">AP_SmartRTL.h:197</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1prune__loop__t_html_ae0e00c3f718cbab4a57476e57fcea042"><div class="ttname"><a href="structAP__SmartRTL_1_1prune__loop__t.html#ae0e00c3f718cbab4a57476e57fcea042">AP_SmartRTL::prune_loop_t::end_index</a></div><div class="ttdeci">uint16_t end_index</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00205">AP_SmartRTL.h:205</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a46e5855aad19b8b5dbf7b317658aeda8a2c04a08d13380b069634386cee62f04a"><div class="ttname"><a href="classAP__SmartRTL.html#a46e5855aad19b8b5dbf7b317658aeda8a2c04a08d13380b069634386cee62f04a">AP_SmartRTL::SRTL_DEACTIVATED_BAD_POSITION</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00091">AP_SmartRTL.h:91</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ab385d8b52e321f9a01d01b42e52e0c4b"><div class="ttname"><a href="classAP__SmartRTL.html#ab385d8b52e321f9a01d01b42e52e0c4b">AP_SmartRTL::set_home</a></div><div class="ttdeci">void set_home(bool position_ok)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00167">AP_SmartRTL.cpp:167</a></div></div>
<div class="ttc" id="structAP__SmartRTL_1_1simplify__start__finish__t_html_a1e0da4ef528ee3068719db02f1ab560e"><div class="ttname"><a href="structAP__SmartRTL_1_1simplify__start__finish__t.html#a1e0da4ef528ee3068719db02f1ab560e">AP_SmartRTL::simplify_start_finish_t::start</a></div><div class="ttdeci">uint16_t start</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00188">AP_SmartRTL.h:188</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a67a118c4a8ae545dca614ce27e1395bd"><div class="ttname"><a href="classAP__SmartRTL.html#a67a118c4a8ae545dca614ce27e1395bd">AP_SmartRTL::deactivate</a></div><div class="ttdeci">void deactivate(SRTL_Actions action, const char *reason)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00821">AP_SmartRTL.cpp:821</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a383520a1245cc4bc9369d8f74f1ba5fa"><div class="ttname"><a href="classAP__SmartRTL.html#a383520a1245cc4bc9369d8f74f1ba5fa">AP_SmartRTL::reset_simplification</a></div><div class="ttdeci">void reset_simplification()</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00597">AP_SmartRTL.cpp:597</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a5626af8c5acac7313bcfbf5bdfb438b6"><div class="ttname"><a href="classAP__SmartRTL.html#a5626af8c5acac7313bcfbf5bdfb438b6">AP_SmartRTL::log_action</a></div><div class="ttdeci">void log_action(SRTL_Actions action, const Vector3f &amp;point=Vector3f())</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00829">AP_SmartRTL.cpp:829</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ac87b8974fb4842f18ceb6bd50219725e"><div class="ttname"><a href="classAP__SmartRTL.html#ac87b8974fb4842f18ceb6bd50219725e">AP_SmartRTL::_prune</a></div><div class="ttdeci">struct AP_SmartRTL::@164 _prune</div></div>
<div class="ttc" id="classAP__SmartRTL_html_a3415d88d0177c920f4649a2a58cd0b2c"><div class="ttname"><a href="classAP__SmartRTL.html#a3415d88d0177c920f4649a2a58cd0b2c">AP_SmartRTL::_home_saved</a></div><div class="ttdeci">bool _home_saved</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00171">AP_SmartRTL.h:171</a></div></div>
<div class="ttc" id="examples_2polygon_2polygon_8cpp_html_a17ec7548d507b5e64723f68df5205a30"><div class="ttname"><a href="examples_2polygon_2polygon_8cpp.html#a17ec7548d507b5e64723f68df5205a30">point</a></div><div class="ttdeci">Vector2l point</div><div class="ttdef"><b>Definition:</b> <a href="examples_2polygon_2polygon_8cpp_source.html#l00034">polygon.cpp:34</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a0e32b263aa563718eac02b89bfbc33a4"><div class="ttname"><a href="classAP__SmartRTL.html#a0e32b263aa563718eac02b89bfbc33a4">AP_SmartRTL::loops_max</a></div><div class="ttdeci">uint16_t loops_max</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00216">AP_SmartRTL.h:216</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a490d5944166843bbaf80911d8fafa0cc"><div class="ttname"><a href="classAP__SmartRTL.html#a490d5944166843bbaf80911d8fafa0cc">AP_SmartRTL::removal_required</a></div><div class="ttdeci">bool removal_required</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00193">AP_SmartRTL.h:193</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a9bf12019b2e68d7dd4dd91d796065879"><div class="ttname"><a href="classAP__SmartRTL.html#a9bf12019b2e68d7dd4dd91d796065879">AP_SmartRTL::thorough_cleanup</a></div><div class="ttdeci">bool thorough_cleanup(uint16_t path_points_count, ThoroughCleanupType clean_type)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00410">AP_SmartRTL.cpp:410</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_af357e7f7e3d03890f9074bab6f4e4c6b"><div class="ttname"><a href="classAP__SmartRTL.html#af357e7f7e3d03890f9074bab6f4e4c6b">AP_SmartRTL::_points_max</a></div><div class="ttdeci">AP_Int16 _points_max</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00166">AP_SmartRTL.h:166</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_ac9b0463720ed52226ae484164760d710"><div class="ttname"><a href="classAP__SmartRTL.html#ac9b0463720ed52226ae484164760d710">AP_SmartRTL::_thorough_clean_type</a></div><div class="ttdeci">ThoroughCleanupType _thorough_clean_type</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00176">AP_SmartRTL.h:176</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a0bbf3a4a5090bcca5873959ca3742e3c"><div class="ttname"><a href="classAP__SmartRTL.html#a0bbf3a4a5090bcca5873959ca3742e3c">AP_SmartRTL::_thorough_clean_complete_ms</a></div><div class="ttdeci">uint32_t _thorough_clean_complete_ms</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8h_source.html#l00175">AP_SmartRTL.h:175</a></div></div>
<div class="ttc" id="classAP__SmartRTL_html_a78465cda34f4273f63c2935c9575bc2d"><div class="ttname"><a href="classAP__SmartRTL.html#a78465cda34f4273f63c2935c9575bc2d">AP_SmartRTL::restart_pruning</a></div><div class="ttdeci">void restart_pruning(uint16_t path_points_count)</div><div class="ttdef"><b>Definition:</b> <a href="AP__SmartRTL_8cpp_source.html#l00604">AP_SmartRTL.cpp:604</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 11 2019 14:17:36 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
