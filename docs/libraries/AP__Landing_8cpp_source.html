<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Libraries: libraries/AP_Landing/AP_Landing.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_1713d76cd55ab83d110dbc34eac25f80.html">AP_Landing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AP_Landing.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AP__Landing_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   (at your option) any later version.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *   AP_Landing.cpp - Landing logic handler for ArduPlane</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Landing_8h.html">AP_Landing.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GCS_8h.html">GCS_MAVLink/GCS.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// table of user settable parameters</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">const</span> <a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classAP__Landing.html#afc85fdc4d7271fbd7d0f517907aace30">AP_Landing::var_info</a>[] = {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// @Param: SLOPE_RCALC</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="comment">// @DisplayName: Landing slope re-calc threshold</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// @Description: This parameter is used when using a rangefinder during landing for altitude correction from baro drift (RNGFND_LANDING=1) and the altitude correction indicates your altitude is lower than the intended slope path. This value is the threshold of the correction to re-calculate the landing approach slope. Set to zero to keep the original slope all the way down and any detected baro drift will be corrected by pitching/throttling up to snap back to resume the original slope path. Otherwise, when a rangefinder altitude correction exceeds this threshold it will trigger a slope re-calculate to give a shallower slope. This also smoothes out the approach when flying over objects such as trees. Recommend a value of 2m.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// @Range: 0 5</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">// @Units: m</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">// @Increment: 0.5</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SLOPE_RCALC&quot;</span>, 1, <a class="code" href="classAP__Landing.html">AP_Landing</a>, slope_recalc_shallow_threshold, 2.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// @Param: ABORT_DEG</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// @DisplayName: Landing auto-abort slope threshold</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// @Description: This parameter is used when using a rangefinder during landing for altitude correction from baro drift (RNGFND_LANDING=1) and the altitude correction indicates your actual altitude is higher than the intended slope path. Normally it would pitch down steeply but that can result in a crash with high airspeed so this allows remembering the baro offset and self-abort the landing and come around for another landing with the correct baro offset applied for a perfect slope. An auto-abort go-around will only happen once, next attempt will not auto-abort again. This operation happens entirely automatically in AUTO mode. This value is the delta degrees threshold to trigger the go-around compared to the original slope. Example: if set to 5 deg and the mission planned slope is 15 deg then if the new slope is 21 then it will go-around. Set to 0 to disable. Requires LAND_SLOPE_RCALC &gt; 0.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">// @Range: 0 90</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// @Units: deg</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;ABORT_DEG&quot;</span>, 2, <a class="code" href="classAP__Landing.html">AP_Landing</a>, slope_recalc_steep_threshold_to_abort, 0),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">// @Param: PITCH_CD</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">// @DisplayName: Landing Pitch</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// @Description: Used in autoland to give the minimum pitch in the final stage of landing (after the flare). This parameter can be used to ensure that the final landing attitude is appropriate for the type of undercarriage on the aircraft. Note that it is a minimum pitch only - the landing code will control pitch above this value to try to achieve the configured landing sink rate.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// @Units: cdeg</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PITCH_CD&quot;</span>, 3, <a class="code" href="classAP__Landing.html">AP_Landing</a>, pitch_cd, 0),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">// @Param: FLARE_ALT</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// @DisplayName: Landing flare altitude</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// @Description: Altitude in autoland at which to lock heading and flare to the LAND_PITCH_CD pitch. Note that this option is secondary to LAND_FLARE_SEC. For a good landing it preferable that the flare is triggered by LAND_FLARE_SEC.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// @Units: m</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;FLARE_ALT&quot;</span>, 4, <a class="code" href="classAP__Landing.html">AP_Landing</a>, flare_alt, 3.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// @Param: FLARE_SEC</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// @DisplayName: Landing flare time</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// @Description: Vertical time before landing point at which to lock heading and flare with the motor stopped. This is vertical time, and is calculated based solely on the current height above the ground and the current descent rate.  Set to 0 if you only wish to flare based on altitude (see LAND_FLARE_ALT).</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// @Units: s</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;FLARE_SEC&quot;</span>, 5, <a class="code" href="classAP__Landing.html">AP_Landing</a>, flare_sec, 2.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// @Param: PF_ALT</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// @DisplayName: Landing pre-flare altitude</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// @Description: Altitude to trigger pre-flare flight stage where LAND_PF_ARSPD controls airspeed. The pre-flare flight stage trigger works just like LAND_FLARE_ALT but higher. Disabled when LAND_PF_ARSPD is 0.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// @Units: m</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// @Range: 0 30</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PF_ALT&quot;</span>, 6, <a class="code" href="classAP__Landing.html">AP_Landing</a>, pre_flare_alt, 10.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// @Param: PF_SEC</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// @DisplayName: Landing pre-flare time</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// @Description: Vertical time to ground to trigger pre-flare flight stage where LAND_PF_ARSPD controls airspeed. This pre-flare flight stage trigger works just like LAND_FLARE_SEC but earlier. Disabled when LAND_PF_ARSPD is 0.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// @Units: s</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// @Range: 0 10</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PF_SEC&quot;</span>, 7, <a class="code" href="classAP__Landing.html">AP_Landing</a>, pre_flare_sec, 6.0<a class="code" href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>),</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// @Param: PF_ARSPD</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// @DisplayName: Landing pre-flare airspeed</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// @Description: Desired airspeed during pre-flare flight stage. This is useful to reduce airspeed just before the flare. Use 0 to disable.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// @Units: m/s</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// @Range: 0 30</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// @Increment: 0.1</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PF_ARSPD&quot;</span>, 8, <a class="code" href="classAP__Landing.html">AP_Landing</a>, pre_flare_airspeed, 0),</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// @Param: THR_SLEW</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// @DisplayName: Landing throttle slew rate</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// @Description: This parameter sets the slew rate for the throttle during auto landing. When this is zero the THR_SLEWRATE parameter is used during landing. The value is a percentage throttle change per second, so a value of 20 means to advance the throttle over 5 seconds on landing. Values below 50 are not recommended as it may cause a stall when airspeed is low and you can not throttle up fast enough.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// @Units: %</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// @Range: 0 127</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// @User: User</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;THR_SLEW&quot;</span>, 9, <a class="code" href="classAP__Landing.html">AP_Landing</a>, throttle_slewrate, 0),</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// @Param: DISARMDELAY</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// @DisplayName: Landing disarm delay</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// @Description: After a landing has completed using a LAND waypoint, automatically disarm after this many seconds have passed. Use 0 to not disarm.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// @Units: s</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// @Range: 0 127</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;DISARMDELAY&quot;</span>, 10, <a class="code" href="classAP__Landing.html">AP_Landing</a>, disarm_delay, 20),</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// @Param: THEN_NEUTRL</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// @DisplayName: Set servos to neutral after landing</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// @Description: When enabled, after an autoland and auto-disarm via LAND_DISARMDELAY happens then set all servos to neutral. This is helpful when an aircraft has a rough landing upside down or a crazy angle causing the servos to strain.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// @Values: 0:Disabled, 1:Servos to Neutral, 2:Servos to Zero PWM</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;THEN_NEUTRL&quot;</span>, 11, <a class="code" href="classAP__Landing.html">AP_Landing</a>, then_servos_neutral, 0),</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// @Param: ABORT_THR</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// @DisplayName: Landing abort using throttle</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// @Description: Allow a landing abort to trigger with a throttle &gt; 95%</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// @Values: 0:Disabled, 1:Enabled</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;ABORT_THR&quot;</span>, 12, <a class="code" href="classAP__Landing.html">AP_Landing</a>, abort_throttle_enable, 0),</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// @Param: FLAP_PERCNT</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// @DisplayName: Landing flap percentage</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// @Description: The amount of flaps (as a percentage) to apply in the landing approach and flare of an automatic landing</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// @Range: 0 100</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// @Units: %</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;FLAP_PERCNT&quot;</span>, 13, <a class="code" href="classAP__Landing.html">AP_Landing</a>, flap_percent, 0),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// @Param: TYPE</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// @DisplayName: Auto-landing type</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// @Description: Specifies the auto-landing type to use</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// @Values: 0:Standard Glide Slope, 1:Deepstall</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;TYPE&quot;</span>,    14, <a class="code" href="classAP__Landing.html">AP_Landing</a>, <a class="code" href="structtype.html">type</a>, TYPE_STANDARD_GLIDE_SLOPE),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// @Group: DS_</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// @Path: AP_Landing_Deepstall.cpp</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a>(deepstall, <span class="stringliteral">&quot;DS_&quot;</span>, 15, <a class="code" href="classAP__Landing.html">AP_Landing</a>, <a class="code" href="classAP__Landing__Deepstall.html">AP_Landing_Deepstall</a>),</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    </div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;};</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// constructor</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classAP__Landing.html#ab5199cf57212c3f1a496d2d9bccee882">  149</a></span>&#160;<a class="code" href="classAP__Landing.html#ab5199cf57212c3f1a496d2d9bccee882">AP_Landing::AP_Landing</a>(<a class="code" href="classAP__Mission.html">AP_Mission</a> &amp;_mission, <a class="code" href="classAP__AHRS.html">AP_AHRS</a> &amp;_ahrs, <a class="code" href="classAP__SpdHgtControl.html">AP_SpdHgtControl</a> *_SpdHgt_Controller, <a class="code" href="classAP__Navigation.html">AP_Navigation</a> *_nav_controller, <a class="code" href="structAP__Vehicle_1_1FixedWing.html">AP_Vehicle::FixedWing</a> &amp;_aparm,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                       set_target_altitude_proportion_fn_t _set_target_altitude_proportion_fn,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                       constrain_target_altitude_location_fn_t _constrain_target_altitude_location_fn,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                       adjusted_altitude_cm_fn_t _adjusted_altitude_cm_fn,</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                       adjusted_relative_altitude_cm_fn_t _adjusted_relative_altitude_cm_fn,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                       disarm_if_autoland_complete_fn_t _disarm_if_autoland_complete_fn,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                       update_flight_stage_fn_t _update_flight_stage_fn) :</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">mission</a>(_mission)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    ,<a class="code" href="AHRS__Test_8cpp.html#a7da610c2722190575e0ded7e4204d743">ahrs</a>(_ahrs)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    ,SpdHgt_Controller(_SpdHgt_Controller)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    ,nav_controller(_nav_controller)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    ,aparm(_aparm)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    ,set_target_altitude_proportion_fn(_set_target_altitude_proportion_fn)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    ,constrain_target_altitude_location_fn(_constrain_target_altitude_location_fn)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    ,adjusted_altitude_cm_fn(_adjusted_altitude_cm_fn)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    ,adjusted_relative_altitude_cm_fn(_adjusted_relative_altitude_cm_fn)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    ,disarm_if_autoland_complete_fn(_disarm_if_autoland_complete_fn)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    ,update_flight_stage_fn(_update_flight_stage_fn)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    ,deepstall(*this)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, <a class="code" href="classAP__Landing.html#afc85fdc4d7271fbd7d0f517907aace30">var_info</a>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classAP__Landing.html#ac7cb51eaa69d1bed262223b56ee2c4ce">  172</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Landing.html#ac7cb51eaa69d1bed262223b56ee2c4ce">AP_Landing::do_land</a>(<span class="keyword">const</span> <a class="code" href="structAP__Mission_1_1Mission__Command.html">AP_Mission::Mission_Command</a>&amp; cmd, <span class="keyword">const</span> <span class="keywordtype">float</span> relative_altitude)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>(); <span class="comment">// log old state so we get a nice transition from old to new here</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.commanded_go_around = <span class="keyword">false</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classAP__Landing.html#af39dd86c5af8eea24ce31fe858b9c26b">type_slope_do_land</a>(cmd, relative_altitude);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a4b6083670b239557df5c963a7902bf37">do_land</a>(cmd, relative_altitude);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="comment">// a incorrect type is handled in the verify_land</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>();</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">  update navigation for landing. Called when on landing approach or</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">  final flare</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classAP__Landing.html#afdbc34de818b9cb366336c23660fd495">  197</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#afdbc34de818b9cb366336c23660fd495">AP_Landing::verify_land</a>(<span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;prev_WP_loc, <a class="code" href="classLocation.html">Location</a> &amp;next_WP_loc, <span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;current_loc,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> height, <span class="keyword">const</span> <span class="keywordtype">float</span> sink_rate, <span class="keyword">const</span> <span class="keywordtype">float</span> wp_proportion, <span class="keyword">const</span> uint32_t last_flying_ms, <span class="keyword">const</span> <span class="keywordtype">bool</span> is_armed, <span class="keyword">const</span> <span class="keywordtype">bool</span> is_flying, <span class="keyword">const</span> <span class="keywordtype">bool</span> rangefinder_state_in_range)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        success = <a class="code" href="classAP__Landing.html#a7e884642791e4b1f0b9c396b86055a6a">type_slope_verify_land</a>(prev_WP_loc, next_WP_loc, current_loc,</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                height, sink_rate, wp_proportion, last_flying_ms, is_armed, is_flying, rangefinder_state_in_range);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        success = <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#af3cde793ef57477c3468547de0a8a90f">verify_land</a>(prev_WP_loc, next_WP_loc, current_loc,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                             height, sink_rate, wp_proportion, last_flying_ms, is_armed, is_flying, rangefinder_state_in_range);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// returning TRUE while executing verify_land() will increment the</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// mission index which in many cases will trigger an RTL for end-of-mission</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_CRITICAL, <span class="stringliteral">&quot;Landing configuration error, invalid LAND_TYPE&quot;</span>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        success = <span class="keyword">true</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>();</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> success;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a23d5d937afe630bfa1d3eeea5d767e4b">  222</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a23d5d937afe630bfa1d3eeea5d767e4b">AP_Landing::verify_abort_landing</a>(<span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;prev_WP_loc, <a class="code" href="classLocation.html">Location</a> &amp;next_WP_loc, <span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;current_loc,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keyword">const</span> int32_t auto_state_takeoff_altitude_rel_cm, <span class="keywordtype">bool</span> &amp;throttle_suppressed)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="classAP__Landing.html#a5841a724c504b0b94ab753ca28103291">type_slope_verify_abort_landing</a>(prev_WP_loc, next_WP_loc, throttle_suppressed);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a627170f99ee101e003ee5c173d6edb54">verify_abort_landing</a>(prev_WP_loc, next_WP_loc, throttle_suppressed);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// see if we have reached abort altitude</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;     <span class="keywordflow">if</span> (<a class="code" href="classAP__Landing.html#a2f949f51fed94748a47618f70644d534">adjusted_relative_altitude_cm_fn</a>() &gt; auto_state_takeoff_altitude_rel_cm) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;         next_WP_loc = current_loc;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;         <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#ae6611f2f6aebf5e113e0225977e113f1">stop</a>();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="classAP__Landing.html#a4cb652398231c274e6061aa6b211366b">restart_landing_sequence</a>()) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;             <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#af7b8e9db68a2a858e2ecca8d57c2722e">resume</a>();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;         }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;         <span class="comment">// else we&#39;re in AUTO with a stopped mission and handle_auto_mode() will set RTL</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;     }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;     <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;     <span class="comment">// make sure to always return false so it leaves the mission index alone</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;     <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classAP__Landing.html#aca701ba52726269447500bdf654b3b10">  252</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Landing.html#aca701ba52726269447500bdf654b3b10">AP_Landing::adjust_landing_slope_for_rangefinder_bump</a>(<a class="code" href="structAP__Vehicle_1_1FixedWing_1_1Rangefinder__State.html">AP_Vehicle::FixedWing::Rangefinder_State</a> &amp;rangefinder_state, <a class="code" href="classLocation.html">Location</a> &amp;prev_WP_loc, <a class="code" href="classLocation.html">Location</a> &amp;next_WP_loc, <span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;current_loc, <span class="keyword">const</span> <span class="keywordtype">float</span> wp_distance, int32_t &amp;target_altitude_offset_cm)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="classAP__Landing.html#a68317a4d27e65aadc7013a9363da5ce3">type_slope_adjust_landing_slope_for_rangefinder_bump</a>(rangefinder_state, prev_WP_loc, next_WP_loc, current_loc, wp_distance, target_altitude_offset_cm);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">// send out any required mavlink messages</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a33cdbbd10c6cafbbec2c38eecb934138">  265</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a33cdbbd10c6cafbbec2c38eecb934138">AP_Landing::send_landing_message</a>(mavlink_channel_t <a class="code" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a03d0ad43e162f2c0b6b8eecbfca4691d">send_deepstall_message</a>(<a class="code" href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a5ff74bf65eb1a4083cc783af22276828">  279</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a5ff74bf65eb1a4083cc783af22276828">AP_Landing::is_flaring</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2dfc670ce0af524cbd4614a6469eb37">type_slope_is_flaring</a>();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">// return true while the aircraft is performing a landing approach</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">// when true the vehicle will:</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">//   - disable ground steering</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">//   - call setup_landing_glide_slope() and adjust_landing_slope_for_rangefinder_bump()</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">//   - will be considered flying if sink rate &gt; 0.2, and can trigger crash detection</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a1429174262aa7716b6b00df8eed75e81">  299</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a1429174262aa7716b6b00df8eed75e81">AP_Landing::is_on_approach</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#a70411a5eb6fac1e5bb1ef7b6d241871b">type_slope_is_on_approach</a>();</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a0cea55f7fc4f6cd1a4ec231870aa8416">is_on_approach</a>();</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// return true while the aircraft is allowed to perform ground steering</span></div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a6adc2af80954221fc7b7145ed94ee8f5">  316</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a6adc2af80954221fc7b7145ed94ee8f5">AP_Landing::is_ground_steering_allowed</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#a70411a5eb6fac1e5bb1ef7b6d241871b">type_slope_is_on_approach</a>();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// return true when at the last stages of a land when an impact with the ground is expected soon</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">// when true is_flying knows that the vehicle was expecting to stop flying, possibly because of a hard impact</span></div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a5412aae3a873ca38a8aa14f245c50de2">  334</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a5412aae3a873ca38a8aa14f245c50de2">AP_Landing::is_expecting_impact</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#a8ca2f627a859f9a71fe88513c5c32ff7">type_slope_is_expecting_impact</a>();</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">// returns true when the landing library has overriden any servos</span></div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="classAP__Landing.html#ab2d71a947b43a822f9b76a29ac4cf901">  350</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#ab2d71a947b43a822f9b76a29ac4cf901">AP_Landing::override_servos</a>(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#aa518e1d049391f63af62d1374f4ee817">override_servos</a>();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// returns a PID_Info object if there is one available for the selected landing</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// type, otherwise returns a nullptr, indicating no data to be logged/sent</span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classAP__Landing.html#aff05eaa730a899debe5313d1e11582eb">  366</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structAP__Logger_1_1PID__Info.html">AP_Logger::PID_Info</a>* <a class="code" href="classAP__Landing.html#aff05eaa730a899debe5313d1e11582eb">AP_Landing::get_pid_info</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">return</span> &amp;<a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#aefc77f5ef5d0d03909b2046e01730619">get_pid_info</a>();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">  a special glide slope calculation for the landing approach</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">  During the land approach use a linear glide slope to a point</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">  projected through the landing point. We don&#39;t use the landing point</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">  itself as that leads to discontinuities close to the landing point,</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">  which can lead to erratic pitch control</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a5cdce89b787f18c99ced194d501c50ae">  386</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Landing.html#a5cdce89b787f18c99ced194d501c50ae">AP_Landing::setup_landing_glide_slope</a>(<span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;prev_WP_loc, <span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;next_WP_loc, <span class="keyword">const</span> <a class="code" href="classLocation.html">Location</a> &amp;current_loc, int32_t &amp;target_altitude_offset_cm)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="classAP__Landing.html#a1dfa510a03baa86e6814acf6b3c75595">type_slope_setup_landing_glide_slope</a>(prev_WP_loc, next_WP_loc, current_loc, target_altitude_offset_cm);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">     Restart a landing by first checking for a DO_LAND_START and</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">     jump there. Otherwise decrement waypoint so we would re-start</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">     from the top with same glide slope. Return true if successful.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a4cb652398231c274e6061aa6b211366b">  403</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a4cb652398231c274e6061aa6b211366b">AP_Landing::restart_landing_sequence</a>()</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#a2e5e9369c28e90e4fe93c0d4c3ab471c">get_current_nav_cmd</a>().<a class="code" href="structAP__Mission_1_1Mission__Command.html#a272ab59936fd9d78bb5898b4b53ba688">id</a> != MAV_CMD_NAV_LAND) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    uint16_t do_land_start_index = <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#af895b228640bdf29178d44e00897d10e">get_landing_sequence_start</a>();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    uint16_t prev_cmd_with_wp_index = <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#abb0a064445c58bb2d9492561f364c273">get_prev_nav_cmd_with_wp_index</a>();</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    uint16_t current_index = <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#a631c1e64dcae05e22112360c6f20855f">get_current_nav_index</a>();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="structAP__Mission_1_1Mission__Command.html">AP_Mission::Mission_Command</a> cmd;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#aac82471fe961e31cd0fba02ba7783aba">read_cmd_from_storage</a>(current_index+1,cmd) &amp;&amp;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            cmd.<a class="code" href="structAP__Mission_1_1Mission__Command.html#a272ab59936fd9d78bb5898b4b53ba688">id</a> == MAV_CMD_NAV_CONTINUE_AND_CHANGE_ALT &amp;&amp;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            (cmd.<a class="code" href="structAP__Mission_1_1Mission__Command.html#a6b240c9c758f53f14e81be2554a08973">p1</a> == 0 || cmd.<a class="code" href="structAP__Mission_1_1Mission__Command.html#a6b240c9c758f53f14e81be2554a08973">p1</a> == 1) &amp;&amp;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#ac79a188f81816b3ddfe045b6a0feb6d1">set_current_cmd</a>(current_index+1))</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="comment">// if the next immediate command is MAV_CMD_NAV_CONTINUE_AND_CHANGE_ALT to climb, do it</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_NOTICE, <span class="stringliteral">&quot;Restarted landing sequence. Climbing to %dm&quot;</span>, cmd.<a class="code" href="structAP__Mission_1_1Mission__Command.html#a41a7d992648b468243195e1e0af22f10">content</a>.<a class="code" href="unionAP__Mission_1_1Content.html#aec2febddd4c431123ed1a79643376af9">location</a>.<a class="code" href="classLocation.html#a89e532f5bcc13db2f51ff9eed667c2b6">alt</a>/100);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        success =  <span class="keyword">true</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (do_land_start_index != 0 &amp;&amp;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#ac79a188f81816b3ddfe045b6a0feb6d1">set_current_cmd</a>(do_land_start_index))</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="comment">// look for a DO_LAND_START and use that index</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_NOTICE, <span class="stringliteral">&quot;Restarted landing via DO_LAND_START: %d&quot;</span>,do_land_start_index);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        success =  <span class="keyword">true</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prev_cmd_with_wp_index != <a class="code" href="AP__Mission_8h.html#a3412b73e4e827504c952e555706826bd">AP_MISSION_CMD_INDEX_NONE</a> &amp;&amp;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;               <a class="code" href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">mission</a>.<a class="code" href="classAP__Mission.html#ac79a188f81816b3ddfe045b6a0feb6d1">set_current_cmd</a>(prev_cmd_with_wp_index))</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">// if a suitable navigation waypoint was just executed, one that contains lat/lng/alt, then</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment">// repeat that cmd to restart the landing from the top of approach to repeat intended glide slope</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_NOTICE, <span class="stringliteral">&quot;Restarted landing sequence at waypoint %d&quot;</span>, prev_cmd_with_wp_index);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        success =  <span class="keyword">true</span>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="code" href="classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_WARNING, <span class="stringliteral">&quot;Unable to restart landing sequence&quot;</span>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        success =  <span class="keyword">false</span>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (success) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="comment">// exit landing stages if we&#39;re no longer executing NAV_LAND</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <a class="code" href="classAP__Landing.html#a78862eb43fd7dff08912b3f83352de71">update_flight_stage_fn</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>();</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">return</span> success;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a3e1337ea94a3a1201eca9b3549fc6ee3">  452</a></span>&#160;int32_t <a class="code" href="classAP__Landing.html#a3e1337ea94a3a1201eca9b3549fc6ee3">AP_Landing::constrain_roll</a>(<span class="keyword">const</span> int32_t desired_roll_cd, <span class="keyword">const</span> int32_t level_roll_limit_cd)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#aa55a4c05759d130145bd66bf1107b862">type_slope_constrain_roll</a>(desired_roll_cd, level_roll_limit_cd);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> desired_roll_cd;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">// returns true if landing provided a Location structure with the current target altitude</span></div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a650c4134c861067c968146d84af86e39">  464</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#a650c4134c861067c968146d84af86e39">AP_Landing::get_target_altitude_location</a>(<a class="code" href="classLocation.html">Location</a> &amp;<a class="code" href="examples_2location_2location_8cpp.html#a236564ebd944c27ac8ef6fe851ac515f">location</a>)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a71162e33670c980a795c120042773173">get_target_altitude_location</a>(<a class="code" href="examples_2location_2location_8cpp.html#a236564ebd944c27ac8ef6fe851ac515f">location</a>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"> * Determine how aligned heading_deg is with the wind. Return result</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> * is 1.0 when perfectly aligned heading into wind, -1 when perfectly</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"> * aligned with-wind, and zero when perfect cross-wind. There is no</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"> * distinction between a left or right cross-wind. Wind speed is ignored</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="classAP__Landing.html#af1eb242357652150bf08d5bace270ce6">  485</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Landing.html#af1eb242357652150bf08d5bace270ce6">AP_Landing::wind_alignment</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> heading_deg)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> wind = <a class="code" href="classAP__Landing.html#aecc5c8037a814989b99163bc945fd78f">ahrs</a>.<a class="code" href="classAP__AHRS.html#a01436317dbb7f62470f56b66af4e872d">wind_estimate</a>();</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> wind_heading_rad = atan2f(-wind.<a class="code" href="classVector3.html#a561df88b28e106e337a25bb86554a569">y</a>, -wind.<a class="code" href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">x</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">return</span> cosf(wind_heading_rad - <a class="code" href="AP__Math_8h.html#a37d7c62a8231d9d22826261297b99da4">radians</a>(heading_deg));</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment"> * returns head-wind in m/s, 0 for tail-wind.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a6225263e30f2504d50a98c33dd7b822d">  495</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__Landing.html#a6225263e30f2504d50a98c33dd7b822d">AP_Landing::head_wind</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> alignment = <a class="code" href="classAP__Landing.html#af1eb242357652150bf08d5bace270ce6">wind_alignment</a>(<a class="code" href="classAP__Landing.html#aecc5c8037a814989b99163bc945fd78f">ahrs</a>.<a class="code" href="classAP__AHRS.html#a8a160130dd99016a19abab9d85917261">yaw_sensor</a>*0.01f);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (alignment &lt;= 0) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> alignment * <a class="code" href="classAP__Landing.html#aecc5c8037a814989b99163bc945fd78f">ahrs</a>.<a class="code" href="classAP__AHRS.html#a01436317dbb7f62470f56b66af4e872d">wind_estimate</a>().<a class="code" href="classVector3.html#afcdfe81173c23d57e4a53a0282cddae7">length</a>();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * returns target airspeed in cm/s depending on flight stage</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a58a0f972e28c198e3c7feff512d8c896">  509</a></span>&#160;int32_t <a class="code" href="classAP__Landing.html#a58a0f972e28c198e3c7feff512d8c896">AP_Landing::get_target_airspeed_cm</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="comment">// not landing, use regular cruise airspeed</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#a399db1d1e6f07516ae41abcf8ba154bf">aparm</a>.<a class="code" href="structAP__Vehicle_1_1FixedWing.html#a344fe37229658a3dee25b07e2024a2ca">airspeed_cruise_cm</a>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#a7daff6be77c2fc2412ef3a276f80e059">type_slope_get_target_airspeed_cm</a>();</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a6b0a103800961345888c5e6eb9a931b8">get_target_airspeed_cm</a>();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// don&#39;t return the landing airspeed, because if type is invalid we have</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// no postive indication that the land airspeed has been configured or</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="comment">// how it was meant to be utilized</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#a0e1a39f6f2d981f305bb0254b95ed17f">SpdHgt_Controller</a>-&gt;<a class="code" href="classAP__SpdHgtControl.html#aef400289c2cdf6c24d39f3c93b82df37">get_target_airspeed</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"> * request a landing abort given the landing type</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"> * return true on success</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="classAP__Landing.html#afc506451afaaca18bebe5746f1caf448">  533</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#afc506451afaaca18bebe5746f1caf448">AP_Landing::request_go_around</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;{</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        success = <a class="code" href="classAP__Landing.html#a073097b86e69b075fb7814e9c7978dcf">type_slope_request_go_around</a>();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        success = <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a9689fad29fc50355c82a2fecba4117ec">request_go_around</a>();</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>();</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> success;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a9f6d861fd1bf8df96c061931179095c0">  552</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Landing.html#a9f6d861fd1bf8df96c061931179095c0">AP_Landing::handle_flight_stage_change</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> _in_landing_stage)</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>(); <span class="comment">// log old value to plot discrete transitions</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress = _in_landing_stage;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.commanded_go_around = <span class="keyword">false</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">Log</a>();</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> * returns true when a landing is complete, usually used to disable throttle</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="classAP__Landing.html#ae5f9638b79301cdf63f4bff728abfe3f">  563</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#ae5f9638b79301cdf63f4bff728abfe3f">AP_Landing::is_complete</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#afdd8ba6978ded3f0a9a13191b7be43d7">type_slope_is_complete</a>();</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">  575</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">AP_Landing::Log</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="classAP__Landing.html#a4ef76eb501fdcbd3afb2abf041db9ac3">type_slope_log</a>();</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a977615ee645d9bfa215d0456e33622d3">Log</a>();</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> * returns true when throttle should be suppressed while landing</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="classAP__Landing.html#ac1ae9e055dccfa298d95b2f5b92dd2a3">  592</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#ac1ae9e055dccfa298d95b2f5b92dd2a3">AP_Landing::is_throttle_suppressed</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#a86ec4c41a4d25e06a1359b8f8e96191b">type_slope_is_throttle_suppressed</a>();</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#aac1e02bbba0ec3aaded8eb40128111b8">is_throttle_suppressed</a>();</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"> * returns false when the vehicle might not be flying forward while landing</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="classAP__Landing.html#abc9d11071cf7a216dfe957aa96797e63">  611</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#abc9d11071cf7a216dfe957aa96797e63">AP_Landing::is_flying_forward</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">flags</a>.in_progress) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#a2579819b1f76a814d31507bdd64c95f1">is_flying_forward</a>();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"> * attempt to terminate flight with an immediate landing</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"> * returns true if the landing library can and is terminating the landing</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="classAP__Landing.html#aa04ce62e6126784003d606619b2c74f1">  630</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__Landing.html#aa04ce62e6126784003d606619b2c74f1">AP_Landing::terminate</a>(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structtype.html">type</a>) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">TYPE_DEEPSTALL</a>:</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">deepstall</a>.<a class="code" href="classAP__Landing__Deepstall.html#ab9fd65ed1d3a6b21c83f61845ebcd92e">terminate</a>();</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">TYPE_STANDARD_GLIDE_SLOPE</a>:</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div><div class="ttc" id="classAP__Landing__Deepstall_html_a6b0a103800961345888c5e6eb9a931b8"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a6b0a103800961345888c5e6eb9a931b8">AP_Landing_Deepstall::get_target_airspeed_cm</a></div><div class="ttdeci">int32_t get_target_airspeed_cm(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00402">AP_Landing_Deepstall.cpp:402</a></div></div>
<div class="ttc" id="classAP__Landing_html_a68317a4d27e65aadc7013a9363da5ce3"><div class="ttname"><a href="classAP__Landing.html#a68317a4d27e65aadc7013a9363da5ce3">AP_Landing::type_slope_adjust_landing_slope_for_rangefinder_bump</a></div><div class="ttdeci">void type_slope_adjust_landing_slope_for_rangefinder_bump(AP_Vehicle::FixedWing::Rangefinder_State &amp;rangefinder_state, Location &amp;prev_WP_loc, Location &amp;next_WP_loc, const Location &amp;current_loc, const float wp_distance, int32_t &amp;target_altitude_offset_cm)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00168">AP_Landing_Slope.cpp:168</a></div></div>
<div class="ttc" id="classAP__Landing_html_aecc5c8037a814989b99163bc945fd78f"><div class="ttname"><a href="classAP__Landing.html#aecc5c8037a814989b99163bc945fd78f">AP_Landing::ahrs</a></div><div class="ttdeci">AP_AHRS &amp; ahrs</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00125">AP_Landing.h:125</a></div></div>
<div class="ttc" id="classAP__Landing_html_a23d5d937afe630bfa1d3eeea5d767e4b"><div class="ttname"><a href="classAP__Landing.html#a23d5d937afe630bfa1d3eeea5d767e4b">AP_Landing::verify_abort_landing</a></div><div class="ttdeci">bool verify_abort_landing(const Location &amp;prev_WP_loc, Location &amp;next_WP_loc, const Location &amp;current_loc, const int32_t auto_state_takeoff_altitude_rel_cm, bool &amp;throttle_suppressed)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00222">AP_Landing.cpp:222</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a0cea55f7fc4f6cd1a4ec231870aa8416"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a0cea55f7fc4f6cd1a4ec231870aa8416">AP_Landing_Deepstall::is_on_approach</a></div><div class="ttdeci">bool is_on_approach(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00391">AP_Landing_Deepstall.cpp:391</a></div></div>
<div class="ttc" id="structAP__Logger_1_1PID__Info_html"><div class="ttname"><a href="structAP__Logger_1_1PID__Info.html">AP_Logger::PID_Info</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Logger_8h_source.html#l00285">AP_Logger.h:285</a></div></div>
<div class="ttc" id="classAP__Landing_html_a5cdce89b787f18c99ced194d501c50ae"><div class="ttname"><a href="classAP__Landing.html#a5cdce89b787f18c99ced194d501c50ae">AP_Landing::setup_landing_glide_slope</a></div><div class="ttdeci">void setup_landing_glide_slope(const Location &amp;prev_WP_loc, const Location &amp;next_WP_loc, const Location &amp;current_loc, int32_t &amp;target_altitude_offset_cm)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00386">AP_Landing.cpp:386</a></div></div>
<div class="ttc" id="classAP__Landing_html_a1dfa510a03baa86e6814acf6b3c75595"><div class="ttname"><a href="classAP__Landing.html#a1dfa510a03baa86e6814acf6b3c75595">AP_Landing::type_slope_setup_landing_glide_slope</a></div><div class="ttdeci">void type_slope_setup_landing_glide_slope(const Location &amp;prev_WP_loc, const Location &amp;next_WP_loc, const Location &amp;current_loc, int32_t &amp;target_altitude_offset_cm)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00231">AP_Landing_Slope.cpp:231</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a977615ee645d9bfa215d0456e33622d3"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a977615ee645d9bfa215d0456e33622d3">AP_Landing_Deepstall::Log</a></div><div class="ttdeci">void Log(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00435">AP_Landing_Deepstall.cpp:435</a></div></div>
<div class="ttc" id="classAP__Landing_html_a33cdbbd10c6cafbbec2c38eecb934138"><div class="ttname"><a href="classAP__Landing.html#a33cdbbd10c6cafbbec2c38eecb934138">AP_Landing::send_landing_message</a></div><div class="ttdeci">bool send_landing_message(mavlink_channel_t chan)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00265">AP_Landing.cpp:265</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a627170f99ee101e003ee5c173d6edb54"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a627170f99ee101e003ee5c173d6edb54">AP_Landing_Deepstall::verify_abort_landing</a></div><div class="ttdeci">void verify_abort_landing(const Location &amp;prev_WP_loc, Location &amp;next_WP_loc, bool &amp;throttle_suppressed)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00173">AP_Landing_Deepstall.cpp:173</a></div></div>
<div class="ttc" id="classAP__Landing_html_a70411a5eb6fac1e5bb1ef7b6d241871b"><div class="ttname"><a href="classAP__Landing.html#a70411a5eb6fac1e5bb1ef7b6d241871b">AP_Landing::type_slope_is_on_approach</a></div><div class="ttdeci">bool type_slope_is_on_approach(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00367">AP_Landing_Slope.cpp:367</a></div></div>
<div class="ttc" id="classAP__Landing_html_a7e884642791e4b1f0b9c396b86055a6a"><div class="ttname"><a href="classAP__Landing.html#a7e884642791e4b1f0b9c396b86055a6a">AP_Landing::type_slope_verify_land</a></div><div class="ttdeci">bool type_slope_verify_land(const Location &amp;prev_WP_loc, Location &amp;next_WP_loc, const Location &amp;current_loc, const float height, const float sink_rate, const float wp_proportion, const uint32_t last_flying_ms, const bool is_armed, const bool is_flying, const bool rangefinder_state_in_range)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00050">AP_Landing_Slope.cpp:50</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a71162e33670c980a795c120042773173"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a71162e33670c980a795c120042773173">AP_Landing_Deepstall::get_target_altitude_location</a></div><div class="ttdeci">bool get_target_altitude_location(Location &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00396">AP_Landing_Deepstall.cpp:396</a></div></div>
<div class="ttc" id="AHRS__Test_8cpp_html_a7da610c2722190575e0ded7e4204d743"><div class="ttname"><a href="AHRS__Test_8cpp.html#a7da610c2722190575e0ded7e4204d743">ahrs</a></div><div class="ttdeci">AP_AHRS_NavEKF &amp; ahrs</div><div class="ttdef"><b>Definition:</b> <a href="AHRS__Test_8cpp_source.html#l00044">AHRS_Test.cpp:44</a></div></div>
<div class="ttc" id="AP__Landing_8h_html"><div class="ttname"><a href="AP__Landing_8h.html">AP_Landing.h</a></div></div>
<div class="ttc" id="classAP__Landing_html_af1eb242357652150bf08d5bace270ce6"><div class="ttname"><a href="classAP__Landing.html#af1eb242357652150bf08d5bace270ce6">AP_Landing::wind_alignment</a></div><div class="ttdeci">float wind_alignment(const float heading_deg)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00485">AP_Landing.cpp:485</a></div></div>
<div class="ttc" id="classAP__SpdHgtControl_html"><div class="ttname"><a href="classAP__SpdHgtControl.html">AP_SpdHgtControl</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__SpdHgtControl_8h_source.html#l00017">AP_SpdHgtControl.h:17</a></div></div>
<div class="ttc" id="classAP__Landing_html_a9f6d861fd1bf8df96c061931179095c0"><div class="ttname"><a href="classAP__Landing.html#a9f6d861fd1bf8df96c061931179095c0">AP_Landing::handle_flight_stage_change</a></div><div class="ttdeci">void handle_flight_stage_change(const bool _in_landing_stage)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00552">AP_Landing.cpp:552</a></div></div>
<div class="ttc" id="classAP__Landing_html_a073097b86e69b075fb7814e9c7978dcf"><div class="ttname"><a href="classAP__Landing.html#a073097b86e69b075fb7814e9c7978dcf">AP_Landing::type_slope_request_go_around</a></div><div class="ttdeci">bool type_slope_request_go_around(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00217">AP_Landing_Slope.cpp:217</a></div></div>
<div class="ttc" id="GCS_8h_html"><div class="ttname"><a href="GCS_8h.html">GCS.h</a></div><div class="ttdoc">Interface definition for the various Ground Control System.</div></div>
<div class="ttc" id="classAP__Mission_html"><div class="ttname"><a href="classAP__Mission.html">AP_Mission</a></div><div class="ttdoc">Object managing Mission.</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00045">AP_Mission.h:45</a></div></div>
<div class="ttc" id="classAP__Mission_html_a631c1e64dcae05e22112360c6f20855f"><div class="ttname"><a href="classAP__Mission.html#a631c1e64dcae05e22112360c6f20855f">AP_Mission::get_current_nav_index</a></div><div class="ttdeci">uint16_t get_current_nav_index() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00395">AP_Mission.h:395</a></div></div>
<div class="ttc" id="classAP__AHRS_html_a01436317dbb7f62470f56b66af4e872d"><div class="ttname"><a href="classAP__AHRS.html#a01436317dbb7f62470f56b66af4e872d">AP_AHRS::wind_estimate</a></div><div class="ttdeci">virtual Vector3f wind_estimate(void) const =0</div></div>
<div class="ttc" id="structAP__Mission_1_1Mission__Command_html"><div class="ttname"><a href="structAP__Mission_1_1Mission__Command.html">AP_Mission::Mission_Command</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00264">AP_Mission.h:264</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00100">AP_Param.h:100</a></div></div>
<div class="ttc" id="classAP__Landing_html_aff05eaa730a899debe5313d1e11582eb"><div class="ttname"><a href="classAP__Landing.html#aff05eaa730a899debe5313d1e11582eb">AP_Landing::get_pid_info</a></div><div class="ttdeci">const AP_Logger::PID_Info * get_pid_info(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00366">AP_Landing.cpp:366</a></div></div>
<div class="ttc" id="structAP__Mission_1_1Mission__Command_html_a6b240c9c758f53f14e81be2554a08973"><div class="ttname"><a href="structAP__Mission_1_1Mission__Command.html#a6b240c9c758f53f14e81be2554a08973">AP_Mission::Mission_Command::p1</a></div><div class="ttdeci">uint16_t p1</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00267">AP_Mission.h:267</a></div></div>
<div class="ttc" id="classAP__AHRS_html"><div class="ttname"><a href="classAP__AHRS.html">AP_AHRS</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__AHRS_8h_source.html#l00050">AP_AHRS.h:50</a></div></div>
<div class="ttc" id="classAP__Navigation_html"><div class="ttname"><a href="classAP__Navigation.html">AP_Navigation</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Navigation_8h_source.html#l00014">AP_Navigation.h:14</a></div></div>
<div class="ttc" id="GCS_8h_html_a1d3cc361b864ddf64a44c12ab3bd044e"><div class="ttname"><a href="GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a></div><div class="ttdeci">GCS &amp; gcs()</div><div class="ttdef"><b>Definition:</b> <a href="GCS__Common_8cpp_source.html#l05004">GCS_Common.cpp:5004</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_aa518e1d049391f63af62d1374f4ee817"><div class="ttname"><a href="classAP__Landing__Deepstall.html#aa518e1d049391f63af62d1374f4ee817">AP_Landing_Deepstall::override_servos</a></div><div class="ttdeci">bool override_servos(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00314">AP_Landing_Deepstall.cpp:314</a></div></div>
<div class="ttc" id="classAP__Landing_html_afdd8ba6978ded3f0a9a13191b7be43d7"><div class="ttname"><a href="classAP__Landing.html#afdd8ba6978ded3f0a9a13191b7be43d7">AP_Landing::type_slope_is_complete</a></div><div class="ttdeci">bool type_slope_is_complete(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00379">AP_Landing_Slope.cpp:379</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a4b6083670b239557df5c963a7902bf37"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a4b6083670b239557df5c963a7902bf37">AP_Landing_Deepstall::do_land</a></div><div class="ttdeci">void do_land(const AP_Mission::Mission_Command &amp;cmd, const float relative_altitude)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00154">AP_Landing_Deepstall.cpp:154</a></div></div>
<div class="ttc" id="classAP__Mission_html_a2e5e9369c28e90e4fe93c0d4c3ab471c"><div class="ttname"><a href="classAP__Mission.html#a2e5e9369c28e90e4fe93c0d4c3ab471c">AP_Mission::get_current_nav_cmd</a></div><div class="ttdeci">const Mission_Command &amp; get_current_nav_cmd() const</div><div class="ttdoc">get_current_nav_cmd - returns the current &quot;navigation&quot; command</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00390">AP_Mission.h:390</a></div></div>
<div class="ttc" id="classAP__Landing_html_a659093c823feb4bf500851d144c70daf"><div class="ttname"><a href="classAP__Landing.html#a659093c823feb4bf500851d144c70daf">AP_Landing::mission</a></div><div class="ttdeci">AP_Mission &amp; mission</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00124">AP_Landing.h:124</a></div></div>
<div class="ttc" id="classAP__Landing_html_a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac"><div class="ttname"><a href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da958522ad716577169da9dee89db979ac">AP_Landing::TYPE_STANDARD_GLIDE_SLOPE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00054">AP_Landing.h:54</a></div></div>
<div class="ttc" id="namespaceAP_html_a67bce6e94b1af5e88d027330df5d8eca"><div class="ttname"><a href="namespaceAP.html#a67bce6e94b1af5e88d027330df5d8eca">AP::mission</a></div><div class="ttdeci">AP_Mission * mission()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8cpp_source.html#l01967">AP_Mission.cpp:1967</a></div></div>
<div class="ttc" id="classAP__Landing_html_a0e1a39f6f2d981f305bb0254b95ed17f"><div class="ttname"><a href="classAP__Landing.html#a0e1a39f6f2d981f305bb0254b95ed17f">AP_Landing::SpdHgt_Controller</a></div><div class="ttdeci">AP_SpdHgtControl * SpdHgt_Controller</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00126">AP_Landing.h:126</a></div></div>
<div class="ttc" id="classAP__Landing_html_a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300"><div class="ttname"><a href="classAP__Landing.html#a0a738bcc57de16b34b85bbd1ee21211da6bc9c78a2804eae0139133469e740300">AP_Landing::TYPE_DEEPSTALL</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00055">AP_Landing.h:55</a></div></div>
<div class="ttc" id="classAP__Mission_html_aac82471fe961e31cd0fba02ba7783aba"><div class="ttname"><a href="classAP__Mission.html#aac82471fe961e31cd0fba02ba7783aba">AP_Mission::read_cmd_from_storage</a></div><div class="ttdeci">bool read_cmd_from_storage(uint16_t index, Mission_Command &amp;cmd) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8cpp_source.html#l00504">AP_Mission.cpp:504</a></div></div>
<div class="ttc" id="classAP__Mission_html_ae6611f2f6aebf5e113e0225977e113f1"><div class="ttname"><a href="classAP__Mission.html#ae6611f2f6aebf5e113e0225977e113f1">AP_Mission::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">stop - stops mission execution. subsequent calls to update() will have no effect until the mission is...</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8cpp_source.html#l00079">AP_Mission.cpp:79</a></div></div>
<div class="ttc" id="classAP__Landing_html_a650c4134c861067c968146d84af86e39"><div class="ttname"><a href="classAP__Landing.html#a650c4134c861067c968146d84af86e39">AP_Landing::get_target_altitude_location</a></div><div class="ttdeci">bool get_target_altitude_location(Location &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00464">AP_Landing.cpp:464</a></div></div>
<div class="ttc" id="classAP__Landing_html_afc506451afaaca18bebe5746f1caf448"><div class="ttname"><a href="classAP__Landing.html#afc506451afaaca18bebe5746f1caf448">AP_Landing::request_go_around</a></div><div class="ttdeci">bool request_go_around(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00533">AP_Landing.cpp:533</a></div></div>
<div class="ttc" id="unionAP__Mission_1_1Content_html_aec2febddd4c431123ed1a79643376af9"><div class="ttname"><a href="unionAP__Mission_1_1Content.html#aec2febddd4c431123ed1a79643376af9">AP_Mission::Content::location</a></div><div class="ttdeci">Location location</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00260">AP_Mission.h:260</a></div></div>
<div class="ttc" id="classAP__Landing_html_a9b1053b2298592fc9616ff14ef8eeda0"><div class="ttname"><a href="classAP__Landing.html#a9b1053b2298592fc9616ff14ef8eeda0">AP_Landing::Log</a></div><div class="ttdeci">void Log(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00575">AP_Landing.cpp:575</a></div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div></div>
<div class="ttc" id="structtype_html"><div class="ttname"><a href="structtype.html">type</a></div><div class="ttdef"><b>Definition:</b> <a href="main_8c_source.html#l00133">main.c:133</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a9689fad29fc50355c82a2fecba4117ec"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a9689fad29fc50355c82a2fecba4117ec">AP_Landing_Deepstall::request_go_around</a></div><div class="ttdeci">bool request_go_around(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00368">AP_Landing_Deepstall.cpp:368</a></div></div>
<div class="ttc" id="classVector3_html_a561df88b28e106e337a25bb86554a569"><div class="ttname"><a href="classVector3.html#a561df88b28e106e337a25bb86554a569">Vector3::y</a></div><div class="ttdeci">T y</div><div class="ttdef"><b>Definition:</b> <a href="vector3_8h_source.html#l00067">vector3.h:67</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html"><div class="ttname"><a href="classAP__Landing__Deepstall.html">AP_Landing_Deepstall</a></div><div class="ttdoc">Class managing Plane Deepstall landing methods.</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8h_source.html#l00029">AP_Landing_Deepstall.h:29</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a03d0ad43e162f2c0b6b8eecbfca4691d"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a03d0ad43e162f2c0b6b8eecbfca4691d">AP_Landing_Deepstall::send_deepstall_message</a></div><div class="ttdeci">bool send_deepstall_message(mavlink_channel_t chan) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00412">AP_Landing_Deepstall.cpp:412</a></div></div>
<div class="ttc" id="classAP__Landing_html_a6adc2af80954221fc7b7145ed94ee8f5"><div class="ttname"><a href="classAP__Landing.html#a6adc2af80954221fc7b7145ed94ee8f5">AP_Landing::is_ground_steering_allowed</a></div><div class="ttdeci">bool is_ground_steering_allowed(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00316">AP_Landing.cpp:316</a></div></div>
<div class="ttc" id="classAP__Landing_html_a5412aae3a873ca38a8aa14f245c50de2"><div class="ttname"><a href="classAP__Landing.html#a5412aae3a873ca38a8aa14f245c50de2">AP_Landing::is_expecting_impact</a></div><div class="ttdeci">bool is_expecting_impact(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00334">AP_Landing.cpp:334</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00142">AP_Param.h:142</a></div></div>
<div class="ttc" id="classAP__Mission_html_abb0a064445c58bb2d9492561f364c273"><div class="ttname"><a href="classAP__Mission.html#abb0a064445c58bb2d9492561f364c273">AP_Mission::get_prev_nav_cmd_with_wp_index</a></div><div class="ttdeci">uint16_t get_prev_nav_cmd_with_wp_index() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00411">AP_Mission.h:411</a></div></div>
<div class="ttc" id="classAP__Landing_html_abc9d11071cf7a216dfe957aa96797e63"><div class="ttname"><a href="classAP__Landing.html#abc9d11071cf7a216dfe957aa96797e63">AP_Landing::is_flying_forward</a></div><div class="ttdeci">bool is_flying_forward(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00611">AP_Landing.cpp:611</a></div></div>
<div class="ttc" id="classAP__Landing_html_ab5199cf57212c3f1a496d2d9bccee882"><div class="ttname"><a href="classAP__Landing.html#ab5199cf57212c3f1a496d2d9bccee882">AP_Landing::AP_Landing</a></div><div class="ttdeci">AP_Landing(AP_Mission &amp;_mission, AP_AHRS &amp;_ahrs, AP_SpdHgtControl *_SpdHgt_Controller, AP_Navigation *_nav_controller, AP_Vehicle::FixedWing &amp;_aparm, set_target_altitude_proportion_fn_t _set_target_altitude_proportion_fn, constrain_target_altitude_location_fn_t _constrain_target_altitude_location_fn, adjusted_altitude_cm_fn_t _adjusted_altitude_cm_fn, adjusted_relative_altitude_cm_fn_t _adjusted_relative_altitude_cm_fn, disarm_if_autoland_complete_fn_t _disarm_if_autoland_complete_fn, update_flight_stage_fn_t _update_flight_stage_fn)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00149">AP_Landing.cpp:149</a></div></div>
<div class="ttc" id="classAP__Mission_html_ac79a188f81816b3ddfe045b6a0feb6d1"><div class="ttname"><a href="classAP__Mission.html#ac79a188f81816b3ddfe045b6a0feb6d1">AP_Mission::set_current_cmd</a></div><div class="ttdeci">bool set_current_cmd(uint16_t index)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8cpp_source.html#l00391">AP_Mission.cpp:391</a></div></div>
<div class="ttc" id="classAP__Mission_html_af895b228640bdf29178d44e00897d10e"><div class="ttname"><a href="classAP__Mission.html#af895b228640bdf29178d44e00897d10e">AP_Mission::get_landing_sequence_start</a></div><div class="ttdeci">uint16_t get_landing_sequence_start()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8cpp_source.html#l01764">AP_Mission.cpp:1764</a></div></div>
<div class="ttc" id="classAP__Landing_html_a58a0f972e28c198e3c7feff512d8c896"><div class="ttname"><a href="classAP__Landing.html#a58a0f972e28c198e3c7feff512d8c896">AP_Landing::get_target_airspeed_cm</a></div><div class="ttdeci">int32_t get_target_airspeed_cm(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00509">AP_Landing.cpp:509</a></div></div>
<div class="ttc" id="classAP__Landing_html_ab2d71a947b43a822f9b76a29ac4cf901"><div class="ttname"><a href="classAP__Landing.html#ab2d71a947b43a822f9b76a29ac4cf901">AP_Landing::override_servos</a></div><div class="ttdeci">bool override_servos(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00350">AP_Landing.cpp:350</a></div></div>
<div class="ttc" id="classGCS_html_a9866f3484283db744409e40719cef765"><div class="ttname"><a href="classGCS.html#a9866f3484283db744409e40719cef765">GCS::send_text</a></div><div class="ttdeci">void send_text(MAV_SEVERITY severity, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="GCS_8cpp_source.html#l00040">GCS.cpp:40</a></div></div>
<div class="ttc" id="classAP__Landing_html_aa55a4c05759d130145bd66bf1107b862"><div class="ttname"><a href="classAP__Landing.html#aa55a4c05759d130145bd66bf1107b862">AP_Landing::type_slope_constrain_roll</a></div><div class="ttdeci">int32_t type_slope_constrain_roll(const int32_t desired_roll_cd, const int32_t level_roll_limit_cd)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00353">AP_Landing_Slope.cpp:353</a></div></div>
<div class="ttc" id="classAP__Landing_html"><div class="ttname"><a href="classAP__Landing.html">AP_Landing</a></div><div class="ttdoc">Class managing ArduPlane landing methods.</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00028">AP_Landing.h:28</a></div></div>
<div class="ttc" id="classAP__Mission_html_af7b8e9db68a2a858e2ecca8d57c2722e"><div class="ttname"><a href="classAP__Mission.html#af7b8e9db68a2a858e2ecca8d57c2722e">AP_Mission::resume</a></div><div class="ttdeci">void resume()</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8cpp_source.html#l00086">AP_Mission.cpp:86</a></div></div>
<div class="ttc" id="classAP__Landing_html_ac2dfc670ce0af524cbd4614a6469eb37"><div class="ttname"><a href="classAP__Landing.html#ac2dfc670ce0af524cbd4614a6469eb37">AP_Landing::type_slope_is_flaring</a></div><div class="ttdeci">bool type_slope_is_flaring(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00362">AP_Landing_Slope.cpp:362</a></div></div>
<div class="ttc" id="classAP__Landing_html_a78862eb43fd7dff08912b3f83352de71"><div class="ttname"><a href="classAP__Landing.html#a78862eb43fd7dff08912b3f83352de71">AP_Landing::update_flight_stage_fn</a></div><div class="ttdeci">update_flight_stage_fn_t update_flight_stage_fn</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00136">AP_Landing.h:136</a></div></div>
<div class="ttc" id="classAP__Landing_html_a4ef76eb501fdcbd3afb2abf041db9ac3"><div class="ttname"><a href="classAP__Landing.html#a4ef76eb501fdcbd3afb2abf041db9ac3">AP_Landing::type_slope_log</a></div><div class="ttdeci">void type_slope_log(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00384">AP_Landing_Slope.cpp:384</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_aac1e02bbba0ec3aaded8eb40128111b8"><div class="ttname"><a href="classAP__Landing__Deepstall.html#aac1e02bbba0ec3aaded8eb40128111b8">AP_Landing_Deepstall::is_throttle_suppressed</a></div><div class="ttdeci">bool is_throttle_suppressed(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00381">AP_Landing_Deepstall.cpp:381</a></div></div>
<div class="ttc" id="classVector3_html_afcdfe81173c23d57e4a53a0282cddae7"><div class="ttname"><a href="classVector3.html#afcdfe81173c23d57e4a53a0282cddae7">Vector3::length</a></div><div class="ttdeci">float length(void) const</div><div class="ttdef"><b>Definition:</b> <a href="vector3_8cpp_source.html#l00297">vector3.cpp:297</a></div></div>
<div class="ttc" id="classAP__Landing_html_a8ca2f627a859f9a71fe88513c5c32ff7"><div class="ttname"><a href="classAP__Landing.html#a8ca2f627a859f9a71fe88513c5c32ff7">AP_Landing::type_slope_is_expecting_impact</a></div><div class="ttdeci">bool type_slope_is_expecting_impact(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00373">AP_Landing_Slope.cpp:373</a></div></div>
<div class="ttc" id="classAP__Landing_html_a10cd958bf50bc733d6123975f34ede6b"><div class="ttname"><a href="classAP__Landing.html#a10cd958bf50bc733d6123975f34ede6b">AP_Landing::flags</a></div><div class="ttdeci">struct AP_Landing::@70 flags</div></div>
<div class="ttc" id="examples_2location_2location_8cpp_html_a236564ebd944c27ac8ef6fe851ac515f"><div class="ttname"><a href="examples_2location_2location_8cpp.html#a236564ebd944c27ac8ef6fe851ac515f">location</a></div><div class="ttdeci">Vector2f location</div><div class="ttdef"><b>Definition:</b> <a href="examples_2location_2location_8cpp_source.html#l00017">location.cpp:17</a></div></div>
<div class="ttc" id="classAP__Landing_html_ae5f9638b79301cdf63f4bff728abfe3f"><div class="ttname"><a href="classAP__Landing.html#ae5f9638b79301cdf63f4bff728abfe3f">AP_Landing::is_complete</a></div><div class="ttdeci">bool is_complete(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00563">AP_Landing.cpp:563</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_aefc77f5ef5d0d03909b2046e01730619"><div class="ttname"><a href="classAP__Landing__Deepstall.html#aefc77f5ef5d0d03909b2046e01730619">AP_Landing_Deepstall::get_pid_info</a></div><div class="ttdeci">const AP_Logger::PID_Info &amp; get_pid_info(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00430">AP_Landing_Deepstall.cpp:430</a></div></div>
<div class="ttc" id="classAP__Landing_html_ac7cb51eaa69d1bed262223b56ee2c4ce"><div class="ttname"><a href="classAP__Landing.html#ac7cb51eaa69d1bed262223b56ee2c4ce">AP_Landing::do_land</a></div><div class="ttdeci">void do_land(const AP_Mission::Mission_Command &amp;cmd, const float relative_altitude)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00172">AP_Landing.cpp:172</a></div></div>
<div class="ttc" id="structAP__Vehicle_1_1FixedWing_1_1Rangefinder__State_html"><div class="ttname"><a href="structAP__Vehicle_1_1FixedWing_1_1Rangefinder__State.html">AP_Vehicle::FixedWing::Rangefinder_State</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Vehicle_8h_source.html#l00048">AP_Vehicle.h:48</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a37d7c62a8231d9d22826261297b99da4"><div class="ttname"><a href="AP__Math_8h.html#a37d7c62a8231d9d22826261297b99da4">radians</a></div><div class="ttdeci">static constexpr float radians(float deg)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8h_source.html#l00163">AP_Math.h:163</a></div></div>
<div class="ttc" id="classAP__Landing_html_aa04ce62e6126784003d606619b2c74f1"><div class="ttname"><a href="classAP__Landing.html#aa04ce62e6126784003d606619b2c74f1">AP_Landing::terminate</a></div><div class="ttdeci">bool terminate(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00630">AP_Landing.cpp:630</a></div></div>
<div class="ttc" id="classAP__Landing_html_a5ff74bf65eb1a4083cc783af22276828"><div class="ttname"><a href="classAP__Landing.html#a5ff74bf65eb1a4083cc783af22276828">AP_Landing::is_flaring</a></div><div class="ttdeci">bool is_flaring(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00279">AP_Landing.cpp:279</a></div></div>
<div class="ttc" id="classAP__Landing_html_afdbc34de818b9cb366336c23660fd495"><div class="ttname"><a href="classAP__Landing.html#afdbc34de818b9cb366336c23660fd495">AP_Landing::verify_land</a></div><div class="ttdeci">bool verify_land(const Location &amp;prev_WP_loc, Location &amp;next_WP_loc, const Location &amp;current_loc, const float height, const float sink_rate, const float wp_proportion, const uint32_t last_flying_ms, const bool is_armed, const bool is_flying, const bool rangefinder_state_in_range)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00197">AP_Landing.cpp:197</a></div></div>
<div class="ttc" id="AP__Mission_8h_html_a3412b73e4e827504c952e555706826bd"><div class="ttname"><a href="AP__Mission_8h.html#a3412b73e4e827504c952e555706826bd">AP_MISSION_CMD_INDEX_NONE</a></div><div class="ttdeci">#define AP_MISSION_CMD_INDEX_NONE</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00033">AP_Mission.h:33</a></div></div>
<div class="ttc" id="examples_2AnalogIn_2AnalogIn_8cpp_html_a130f3ebe4c1bb6993e1094760227ad6a"><div class="ttname"><a href="examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a></div><div class="ttdeci">AP_HAL::AnalogSource * chan</div><div class="ttdef"><b>Definition:</b> <a href="examples_2AnalogIn_2AnalogIn_8cpp_source.html#l00008">AnalogIn.cpp:8</a></div></div>
<div class="ttc" id="classAP__Landing_html_ac2a5b0e16b3f278505b2270cb8426b9a"><div class="ttname"><a href="classAP__Landing.html#ac2a5b0e16b3f278505b2270cb8426b9a">AP_Landing::deepstall</a></div><div class="ttdeci">AP_Landing_Deepstall deepstall</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00139">AP_Landing.h:139</a></div></div>
<div class="ttc" id="classAP__Landing_html_a3e1337ea94a3a1201eca9b3549fc6ee3"><div class="ttname"><a href="classAP__Landing.html#a3e1337ea94a3a1201eca9b3549fc6ee3">AP_Landing::constrain_roll</a></div><div class="ttdeci">int32_t constrain_roll(const int32_t desired_roll_cd, const int32_t level_roll_limit_cd)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00452">AP_Landing.cpp:452</a></div></div>
<div class="ttc" id="classAP__Landing_html_a4cb652398231c274e6061aa6b211366b"><div class="ttname"><a href="classAP__Landing.html#a4cb652398231c274e6061aa6b211366b">AP_Landing::restart_landing_sequence</a></div><div class="ttdeci">bool restart_landing_sequence(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00403">AP_Landing.cpp:403</a></div></div>
<div class="ttc" id="classLocation_html_a89e532f5bcc13db2f51ff9eed667c2b6"><div class="ttname"><a href="classLocation.html#a89e532f5bcc13db2f51ff9eed667c2b6">Location::alt</a></div><div class="ttdeci">int32_t alt</div><div class="ttdef"><b>Definition:</b> <a href="Location_8h_source.html#l00020">Location.h:20</a></div></div>
<div class="ttc" id="classAP__Landing_html_a86ec4c41a4d25e06a1359b8f8e96191b"><div class="ttname"><a href="classAP__Landing.html#a86ec4c41a4d25e06a1359b8f8e96191b">AP_Landing::type_slope_is_throttle_suppressed</a></div><div class="ttdeci">bool type_slope_is_throttle_suppressed(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00397">AP_Landing_Slope.cpp:397</a></div></div>
<div class="ttc" id="classAP__Landing_html_ac1ae9e055dccfa298d95b2f5b92dd2a3"><div class="ttname"><a href="classAP__Landing.html#ac1ae9e055dccfa298d95b2f5b92dd2a3">AP_Landing::is_throttle_suppressed</a></div><div class="ttdeci">bool is_throttle_suppressed(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00592">AP_Landing.cpp:592</a></div></div>
<div class="ttc" id="classAP__Landing_html_a7daff6be77c2fc2412ef3a276f80e059"><div class="ttname"><a href="classAP__Landing.html#a7daff6be77c2fc2412ef3a276f80e059">AP_Landing::type_slope_get_target_airspeed_cm</a></div><div class="ttdeci">int32_t type_slope_get_target_airspeed_cm(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00317">AP_Landing_Slope.cpp:317</a></div></div>
<div class="ttc" id="classAP__Landing_html_a399db1d1e6f07516ae41abcf8ba154bf"><div class="ttname"><a href="classAP__Landing.html#a399db1d1e6f07516ae41abcf8ba154bf">AP_Landing::aparm</a></div><div class="ttdeci">AP_Vehicle::FixedWing &amp; aparm</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00129">AP_Landing.h:129</a></div></div>
<div class="ttc" id="classVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="classAP__Landing_html_a6225263e30f2504d50a98c33dd7b822d"><div class="ttname"><a href="classAP__Landing.html#a6225263e30f2504d50a98c33dd7b822d">AP_Landing::head_wind</a></div><div class="ttdeci">float head_wind(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00495">AP_Landing.cpp:495</a></div></div>
<div class="ttc" id="classAP__Landing_html_a5841a724c504b0b94ab753ca28103291"><div class="ttname"><a href="classAP__Landing.html#a5841a724c504b0b94ab753ca28103291">AP_Landing::type_slope_verify_abort_landing</a></div><div class="ttdeci">void type_slope_verify_abort_landing(const Location &amp;prev_WP_loc, Location &amp;next_WP_loc, bool &amp;throttle_suppressed)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00038">AP_Landing_Slope.cpp:38</a></div></div>
<div class="ttc" id="structAP__Vehicle_1_1FixedWing_html"><div class="ttname"><a href="structAP__Vehicle_1_1FixedWing.html">AP_Vehicle::FixedWing</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Vehicle_8h_source.html#l00030">AP_Vehicle.h:30</a></div></div>
<div class="ttc" id="classAP__Landing_html_af39dd86c5af8eea24ce31fe858b9c26b"><div class="ttname"><a href="classAP__Landing.html#af39dd86c5af8eea24ce31fe858b9c26b">AP_Landing::type_slope_do_land</a></div><div class="ttdeci">void type_slope_do_land(const AP_Mission::Mission_Command &amp;cmd, const float relative_altitude)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Slope_8cpp_source.html#l00026">AP_Landing_Slope.cpp:26</a></div></div>
<div class="ttc" id="classAP__SpdHgtControl_html_aef400289c2cdf6c24d39f3c93b82df37"><div class="ttname"><a href="classAP__SpdHgtControl.html#aef400289c2cdf6c24d39f3c93b82df37">AP_SpdHgtControl::get_target_airspeed</a></div><div class="ttdeci">virtual float get_target_airspeed(void) const =0</div></div>
<div class="ttc" id="classAP__Landing_html_afc85fdc4d7271fbd7d0f517907aace30"><div class="ttname"><a href="classAP__Landing.html#afc85fdc4d7271fbd7d0f517907aace30">AP_Landing::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00090">AP_Landing.h:90</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_af3cde793ef57477c3468547de0a8a90f"><div class="ttname"><a href="classAP__Landing__Deepstall.html#af3cde793ef57477c3468547de0a8a90f">AP_Landing_Deepstall::verify_land</a></div><div class="ttdeci">bool verify_land(const Location &amp;prev_WP_loc, Location &amp;next_WP_loc, const Location &amp;current_loc, const float height, const float sink_rate, const float wp_proportion, const uint32_t last_flying_ms, const bool is_armed, const bool is_flying, const bool rangefinder_state_in_range)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00185">AP_Landing_Deepstall.cpp:185</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_ab9fd65ed1d3a6b21c83f61845ebcd92e"><div class="ttname"><a href="classAP__Landing__Deepstall.html#ab9fd65ed1d3a6b21c83f61845ebcd92e">AP_Landing_Deepstall::terminate</a></div><div class="ttdeci">bool terminate(void)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00460">AP_Landing_Deepstall.cpp:460</a></div></div>
<div class="ttc" id="classAP__Landing_html_aca701ba52726269447500bdf654b3b10"><div class="ttname"><a href="classAP__Landing.html#aca701ba52726269447500bdf654b3b10">AP_Landing::adjust_landing_slope_for_rangefinder_bump</a></div><div class="ttdeci">void adjust_landing_slope_for_rangefinder_bump(AP_Vehicle::FixedWing::Rangefinder_State &amp;rangefinder_state, Location &amp;prev_WP_loc, Location &amp;next_WP_loc, const Location &amp;current_loc, const float wp_distance, int32_t &amp;target_altitude_offset_cm)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00252">AP_Landing.cpp:252</a></div></div>
<div class="ttc" id="classLocation_html"><div class="ttname"><a href="classLocation.html">Location</a></div><div class="ttdef"><b>Definition:</b> <a href="Location_8h_source.html#l00009">Location.h:9</a></div></div>
<div class="ttc" id="classAP__Landing__Deepstall_html_a2579819b1f76a814d31507bdd64c95f1"><div class="ttname"><a href="classAP__Landing__Deepstall.html#a2579819b1f76a814d31507bdd64c95f1">AP_Landing_Deepstall::is_flying_forward</a></div><div class="ttdeci">bool is_flying_forward(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing__Deepstall_8cpp_source.html#l00386">AP_Landing_Deepstall.cpp:386</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a16c360358c5d6a08d34f60921fd916a9"><div class="ttname"><a href="AP__Param_8h.html#a16c360358c5d6a08d34f60921fd916a9">AP_SUBGROUPINFO</a></div><div class="ttdeci">#define AP_SUBGROUPINFO(element, name, idx, thisclazz, elclazz)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00107">AP_Param.h:107</a></div></div>
<div class="ttc" id="classAP__AHRS_html_a8a160130dd99016a19abab9d85917261"><div class="ttname"><a href="classAP__AHRS.html#a8a160130dd99016a19abab9d85917261">AP_AHRS::yaw_sensor</a></div><div class="ttdeci">int32_t yaw_sensor</div><div class="ttdef"><b>Definition:</b> <a href="AP__AHRS_8h_source.html#l00227">AP_AHRS.h:227</a></div></div>
<div class="ttc" id="classAP__Landing_html_a2f949f51fed94748a47618f70644d534"><div class="ttname"><a href="classAP__Landing.html#a2f949f51fed94748a47618f70644d534">AP_Landing::adjusted_relative_altitude_cm_fn</a></div><div class="ttdeci">adjusted_relative_altitude_cm_fn_t adjusted_relative_altitude_cm_fn</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8h_source.html#l00134">AP_Landing.h:134</a></div></div>
<div class="ttc" id="structAP__Mission_1_1Mission__Command_html_a41a7d992648b468243195e1e0af22f10"><div class="ttname"><a href="structAP__Mission_1_1Mission__Command.html#a41a7d992648b468243195e1e0af22f10">AP_Mission::Mission_Command::content</a></div><div class="ttdeci">Content content</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00268">AP_Mission.h:268</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00118">AP_Param.h:118</a></div></div>
<div class="ttc" id="classAP__Landing_html_a1429174262aa7716b6b00df8eed75e81"><div class="ttname"><a href="classAP__Landing.html#a1429174262aa7716b6b00df8eed75e81">AP_Landing::is_on_approach</a></div><div class="ttdeci">bool is_on_approach(void) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__Landing_8cpp_source.html#l00299">AP_Landing.cpp:299</a></div></div>
<div class="ttc" id="structAP__Mission_1_1Mission__Command_html_a272ab59936fd9d78bb5898b4b53ba688"><div class="ttname"><a href="structAP__Mission_1_1Mission__Command.html#a272ab59936fd9d78bb5898b4b53ba688">AP_Mission::Mission_Command::id</a></div><div class="ttdeci">uint16_t id</div><div class="ttdef"><b>Definition:</b> <a href="AP__Mission_8h_source.html#l00266">AP_Mission.h:266</a></div></div>
<div class="ttc" id="classVector3_html_a1a0f7e168c71ca798099f0ba8a444244"><div class="ttname"><a href="classVector3.html#a1a0f7e168c71ca798099f0ba8a444244">Vector3::x</a></div><div class="ttdeci">T x</div><div class="ttdef"><b>Definition:</b> <a href="vector3_8h_source.html#l00067">vector3.h:67</a></div></div>
<div class="ttc" id="classAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8cpp_source.html#l01265">AP_Param.cpp:1265</a></div></div>
<div class="ttc" id="structAP__Vehicle_1_1FixedWing_html_a344fe37229658a3dee25b07e2024a2ca"><div class="ttname"><a href="structAP__Vehicle_1_1FixedWing.html#a344fe37229658a3dee25b07e2024a2ca">AP_Vehicle::FixedWing::airspeed_cruise_cm</a></div><div class="ttdeci">AP_Int32 airspeed_cruise_cm</div><div class="ttdef"><b>Definition:</b> <a href="AP__Vehicle_8h_source.html#l00038">AP_Vehicle.h:38</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 11 2019 14:17:30 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
