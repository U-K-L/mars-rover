<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>APM:Rover: APMrover2/AP_MotorsUGV.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">APM:Rover
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_904c43684bd825280326c77b9811a8db.html">APMrover2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AP_MotorsUGV.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AP__MotorsUGV_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   (at your option) any later version.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">   along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__HAL_8h.html">AP_HAL/AP_HAL.h</a>&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html">AP_Math/AP_Math.h</a>&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/SRV__Channel_8h.html">SRV_Channel/SRV_Channel.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__MotorsUGV_8h.html">AP_MotorsUGV.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Rover_8h.html">Rover.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html">AP_HAL::HAL</a>&amp; <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// parameters for the motor class</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">const</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classAP__MotorsUGV.html#ab1d1490b3786f9b000f48cb3ecea6b1b">AP_MotorsUGV::var_info</a>[] = {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="comment">// @Param: PWM_TYPE</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// @DisplayName: Motor Output PWM type</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// @Description: This selects the output PWM type as regular PWM, OneShot, Brushed motor support using PWM (duty cycle) with separated direction signal, Brushed motor support with separate throttle and direction PWM (duty cyle)</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="comment">// @Values: 0:Normal,1:OneShot,2:OneShot125,3:BrushedWithRelay,4:BrushedBiPolar,5:DShot150,6:DShot300,7:DShot600,8:DShot1200</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// @RebootRequired: True</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PWM_TYPE&quot;</span>, 1, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _pwm_type, PWM_TYPE_NORMAL),</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">// @Param: PWM_FREQ</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">// @DisplayName: Motor Output PWM freq for brushed motors</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">// @Description: Motor Output PWM freq for brushed motors</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// @Units: kHz</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// @Range: 1 20</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// @RebootRequired: True</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;PWM_FREQ&quot;</span>, 2, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _pwm_freq, 16),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">// @Param: SAFE_DISARM</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// @DisplayName: Motor PWM output disabled when disarmed</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="comment">// @Description: Disables motor PWM output when disarmed</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">// @Values: 0:PWM enabled while disarmed, 1:PWM disabled while disarmed</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SAFE_DISARM&quot;</span>, 3, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _disarm_disable_pwm, 0),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// @Param: THR_MIN</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">// @DisplayName: Throttle minimum</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">// @Description: Throttle minimum percentage the autopilot will apply. This is useful for handling a deadzone around low throttle and for preventing internal combustion motors cutting out during missions.</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// @Units: %</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// @Range: 0 20</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;THR_MIN&quot;</span>, 5, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _throttle_min, 0),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// @Param: THR_MAX</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// @DisplayName: Throttle maximum</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// @Description: Throttle maximum percentage the autopilot will apply. This can be used to prevent overheating an ESC or motor on an electric rover</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// @Units: %</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// @Range: 30 100</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;THR_MAX&quot;</span>, 6, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _throttle_max, 100),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// @Param: SLEWRATE</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// @DisplayName: Throttle slew rate</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// @Description: Throttle slew rate as a percentage of total range per second. A value of 100 allows the motor to change over its full range in one second.  A value of zero disables the limit.  Note some NiMH powered rovers require a lower setting of 40 to reduce current demand to avoid brownouts.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// @Units: %/s</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// @Range: 0 1000</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// @Increment: 1</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// @User: Standard</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SLEWRATE&quot;</span>, 8, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _slew_rate, 100),</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// @Param: THST_EXPO</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// @DisplayName: Thrust Curve Expo</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// @Description: Thrust curve exponent (-1 to +1 with 0 being linear)</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// @Range: -1.0 1.0</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;THST_EXPO&quot;</span>, 9, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _thrust_curve_expo, 0.0f),</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// @Param: VEC_THR_BASE</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// @DisplayName: Vector thrust throttle base</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// @Description: Throttle level above which steering is scaled down when using vector thrust.  zero to disable vectored thrust</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// @Units: %</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// @Range: 0 100</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;VEC_THR_BASE&quot;</span>, 10, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _vector_throttle_base, 0.0f),</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// @Param: SPD_SCA_BASE</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// @DisplayName: Motor speed scaling base speed</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// @Description: Speed above which steering is scaled down when using regular steering/throttle vehicles.  zero to disable speed scaling</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// @Units: m/s</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// @Range: 0 10</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// @User: Advanced</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a>(<span class="stringliteral">&quot;SPD_SCA_BASE&quot;</span>, 11, <a class="code" href="classAP__MotorsUGV.html">AP_MotorsUGV</a>, _speed_scale_base, 1.0f),</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;};</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a45bbea3c28ecc07b7a85c248341fe8f9">  102</a></span>&#160;<a class="code" href="classAP__MotorsUGV.html#a45bbea3c28ecc07b7a85c248341fe8f9">AP_MotorsUGV::AP_MotorsUGV</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__ServoRelayEvents.html">AP_ServoRelayEvents</a> &amp;relayEvents) :</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        _relayEvents(relayEvents)</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a>(<span class="keyword">this</span>, <a class="code" href="classAP__MotorsUGV.html#ab1d1490b3786f9b000f48cb3ecea6b1b">var_info</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a69c5c3699a80d5a8649eac35449db0b2">  108</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#a69c5c3699a80d5a8649eac35449db0b2">AP_MotorsUGV::init</a>()</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// setup servo output</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a702499ded67a098a022e3457279c30db">setup_servo_output</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// setup pwm type</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#ad6bff94ef4f16c46677ffdda08d7c4ae">setup_pwm_type</a>();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// set safety output</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#ab9980d91aa26e0e8c4ccac7f666e2fe3">setup_safety_output</a>();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// setup for omni vehicles</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a>.<a class="code" href="classRover.html#a39a171a15edbce794604e5de65b7ac7b">get_frame_type</a>() != <a class="code" href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca32848fe6cc0e74cad4866a95e214cc48">FRAME_TYPE_UNDEFINED</a>) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#abd435bb6c1dfb06e54efd524199e875f">setup_omni</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">// setup output in case of main CPU failure</span></div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ab9980d91aa26e0e8c4ccac7f666e2fe3">  126</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ab9980d91aa26e0e8c4ccac7f666e2fe3">AP_MotorsUGV::setup_safety_output</a>()</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#ab33a40ca42efb7032c3abb8e57721aa4">_pwm_type</a> == <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaac8189d0426c8a7f5b318116b344b19ce">PWM_TYPE_BRUSHED_WITH_RELAY</a>) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">// set trim to min to set duty cycle range (0 - 100%) to servo range</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a715a0455197d7196ffdd4068e98987f0">SRV_Channels::set_trim_to_min_for</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a715a0455197d7196ffdd4068e98987f0">SRV_Channels::set_trim_to_min_for</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a715a0455197d7196ffdd4068e98987f0">SRV_Channels::set_trim_to_min_for</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#a8b1c592622478d3b9ce90b11cfdb7c00">_disarm_disable_pwm</a>) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="comment">// throttle channels output zero pwm (i.e. no signal)</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a9d15cd2e79678595ef5087b54d46ecb8">SRV_Channels::set_safety_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a9d15cd2e79678595ef5087b54d46ecb8">SRV_Channels::set_safety_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a9d15cd2e79678595ef5087b54d46ecb8">SRV_Channels::set_safety_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="comment">// throttle channels output trim values (because rovers will go backwards if set to MIN)</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a9d15cd2e79678595ef5087b54d46ecb8">SRV_Channels::set_safety_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a9d15cd2e79678595ef5087b54d46ecb8">SRV_Channels::set_safety_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a9d15cd2e79678595ef5087b54d46ecb8">SRV_Channels::set_safety_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// stop sending pwm if main CPU fails</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#ae90ac2cb19a55521eb5e0b6b58792e80">SRV_Channels::set_failsafe_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#ae90ac2cb19a55521eb5e0b6b58792e80">SRV_Channels::set_failsafe_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#ae90ac2cb19a55521eb5e0b6b58792e80">SRV_Channels::set_failsafe_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// setup servo output ranges</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a702499ded67a098a022e3457279c30db">  154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#a702499ded67a098a022e3457279c30db">AP_MotorsUGV::setup_servo_output</a>()</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// k_steering are limited to -45;45 degree</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>, <a class="code" href="defines_8h.html#a458215e61949d9180bc820b5eff66d0b">SERVO_MAX</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// k_throttle are in power percent so -100 ... 100</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, 100);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// skid steering left/right throttle as -1000 to 1000 values</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>,  1000);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, 1000);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// omni motors set in power percent so -100 ... 100</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__MotorsUGV.html#a57fb04e0223dc86ef38e04e0190c19ed">AP_MOTORS_NUM_MOTORS_MAX</a>; i++) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> <span class="keyword">function</span> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(i);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a>(<span class="keyword">function</span>, 100);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// mainsail range from 0 to 100</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#adba039e2df3bb2c744f8b8590581827f">SRV_Channels::set_range</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a>, 100);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">// set steering as a value from -4500 to +4500</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">//   apply_scaling should be set to false for manual modes where</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">//   no scaling by speed or angle should be performed</span></div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ad962f64af80f94519b7e5de9f2973046">  179</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ad962f64af80f94519b7e5de9f2973046">AP_MotorsUGV::set_steering</a>(<span class="keywordtype">float</span> steering, <span class="keywordtype">bool</span> apply_scaling)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a44a5b389f5f47e42bffac0dc5acb4f6b">_steering</a> = steering;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a863105d4e480d2f916b545076db31bf2">_scale_steering</a> = apply_scaling;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">// set throttle as a value from -100 to 100</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ad51931763e093262c254c2338e92f813">  186</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ad51931763e093262c254c2338e92f813">AP_MotorsUGV::set_throttle</a>(<span class="keywordtype">float</span> throttle)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// only allow setting throttle if armed</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1Util.html#a287a2b82fa30b92c8d52aad61d4d27b7">get_soft_armed</a>()) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// check throttle is between -_throttle_max and  +_throttle_max</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(throttle, -<a class="code" href="classAP__MotorsUGV.html#a1899ae8b286e235041609a84cc0f9d8d">_throttle_max</a>, <a class="code" href="classAP__MotorsUGV.html#a1899ae8b286e235041609a84cc0f9d8d">_throttle_max</a>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">// set lateral input as a value from -100 to +100</span></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a32f1794ebf9887243f5c869bfbe834d3">  198</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#a32f1794ebf9887243f5c869bfbe834d3">AP_MotorsUGV::set_lateral</a>(<span class="keywordtype">float</span> lateral)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#afb6ba2ed5993134dd5be96bd52c15f41">_lateral</a> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(lateral, -100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">// set mainsail input as a value from 0 to 100</span></div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a0bba981606c09e5759b6f3c653e1f2aa">  204</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#a0bba981606c09e5759b6f3c653e1f2aa">AP_MotorsUGV::set_mainsail</a>(<span class="keywordtype">float</span> mainsail)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a1ffd5739c17022c664080ea128810fd3">_mainsail</a> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(mainsail, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">// get slew limited throttle</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">// used by manual mode to avoid bad steering behaviour during transitions from forward to reverse</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// same as private slew_limit_throttle method (see below) but does not update throttle state</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#aa5d7f743ab1b268aa6693444bfcb973c">  212</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__MotorsUGV.html#aa5d7f743ab1b268aa6693444bfcb973c">AP_MotorsUGV::get_slew_limited_throttle</a>(<span class="keywordtype">float</span> throttle, <span class="keywordtype">float</span> dt)<span class="keyword"> const</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#afcbfb99a2b4f6ef9709e32e1b3ba8c8a">_slew_rate</a> &lt;= 0) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">return</span> throttle;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> throttle_change_max = MAX(1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, (<span class="keywordtype">float</span>)<a class="code" href="classAP__MotorsUGV.html#afcbfb99a2b4f6ef9709e32e1b3ba8c8a">_slew_rate</a> * dt);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(throttle, <a class="code" href="classAP__MotorsUGV.html#a16f779fadf5c976587d51d9fd02d00da">_throttle_prev</a> - throttle_change_max, <a class="code" href="classAP__MotorsUGV.html#a16f779fadf5c976587d51d9fd02d00da">_throttle_prev</a> + throttle_change_max);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">  work out if skid steering is available</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a3c13ea4a9949243234dce823c2fa961d">  225</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__MotorsUGV.html#a3c13ea4a9949243234dce823c2fa961d">AP_MotorsUGV::have_skid_steering</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>) &amp;&amp;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>)) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// true if the vehicle has a mainsail</span></div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ac993a856521fd85525bce7007982f3d5">  235</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__MotorsUGV.html#ac993a856521fd85525bce7007982f3d5">AP_MotorsUGV::has_sail</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#aa030840d7598fc6302c3d523979b4b5b">  240</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#aa030840d7598fc6302c3d523979b4b5b">AP_MotorsUGV::output</a>(<span class="keywordtype">bool</span> armed, <span class="keywordtype">float</span> ground_speed, <span class="keywordtype">float</span> dt)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// soft-armed overrides passed in armed status</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1Util.html#a287a2b82fa30b92c8d52aad61d4d27b7">get_soft_armed</a>()) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        armed = <span class="keyword">false</span>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a> = 0.0f;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// sanity check parameters</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#ae865bf6f4d58e187e73bd156ffae97b7">sanity_check_parameters</a>();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// slew limit throttle</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#ab23ba8e3ee4a209bf43a7de7c5deab95">slew_limit_throttle</a>(dt);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// output for regular steering/throttle style frames</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#af72da5854381c77f10a70d4000cf3cbd">output_regular</a>(armed, ground_speed, <a class="code" href="classAP__MotorsUGV.html#a44a5b389f5f47e42bffac0dc5acb4f6b">_steering</a>, <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// output for skid steering style frames</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#ac6a939c7d6afae6228ac9447c08c195b">output_skid_steering</a>(armed, <a class="code" href="classAP__MotorsUGV.html#a44a5b389f5f47e42bffac0dc5acb4f6b">_steering</a>, <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>, dt);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// output for omni frames</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#af70a7aca5f94dea1ba7acf978a2a3d4b">output_omni</a>(armed, <a class="code" href="classAP__MotorsUGV.html#a44a5b389f5f47e42bffac0dc5acb4f6b">_steering</a>, <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>, <a class="code" href="classAP__MotorsUGV.html#afb6ba2ed5993134dd5be96bd52c15f41">_lateral</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// output to mainsail</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a268de7e450c57ebafb9fd6ba64b9d233">output_mainsail</a>();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// send values to the PWM timers for output</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#ade6632e078eb500dfab7910b28513ade">SRV_Channels::calc_pwm</a>();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6bdc435846b87498670af6018e094f64">SRV_Channels::cork</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a2b72ba29ad254568159a1f6951ee9013">SRV_Channels::output_ch_all</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a3d06352d58d90ae7934ef500505b937f">SRV_Channels::push</a>();</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">// test steering or throttle output as a percentage of the total (range -100 to +100)</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">// used in response to DO_MOTOR_TEST mavlink command</span></div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a91d747bc014f8d8c125c69b6eb598251">  275</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__MotorsUGV.html#a91d747bc014f8d8c125c69b6eb598251">AP_MotorsUGV::output_test_pct</a>(<a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4a">motor_test_order</a> motor_seq, <span class="keywordtype">float</span> pct)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// check if the motor_seq is valid</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (motor_seq &gt;= <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa0fd805669e357a44afda70af63002352">MOTOR_TEST_LAST</a>) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    pct = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(pct, -100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">switch</span> (motor_seq) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa0cae54d5256db765ee1d95ceb638638e">MOTOR_TEST_THROTTLE</a>: {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a>)) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a>, pct);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>)) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, pct);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa34d5c0fe61f953eef03d85aa35ffc498">MOTOR_TEST_STEERING</a>: {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a>)) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a>, pct);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>)) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a61d6f8b037aa79f789a11e872f50e220">SRV_Channels::set_output_scaled</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>, pct * 45.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aab369237f35aa9df97e162cdda12d80bc">MOTOR_TEST_THROTTLE_LEFT</a>: {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a>)) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a>, pct);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>)) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, pct);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aaf990a43d195b02b25a2347b211345b2e">MOTOR_TEST_THROTTLE_RIGHT</a>: {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>)) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>, pct);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>)) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, pct);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa7b8a18b0f88a468b5df77a1c9f2011ac">MOTOR_TEST_MAINSAIL</a>: {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a>)) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a61d6f8b037aa79f789a11e872f50e220">SRV_Channels::set_output_scaled</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a>, pct);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa0fd805669e357a44afda70af63002352">MOTOR_TEST_LAST</a>:</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#ade6632e078eb500dfab7910b28513ade">SRV_Channels::calc_pwm</a>();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6bdc435846b87498670af6018e094f64">SRV_Channels::cork</a>();</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a2b72ba29ad254568159a1f6951ee9013">SRV_Channels::output_ch_all</a>();</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a3d06352d58d90ae7934ef500505b937f">SRV_Channels::push</a>();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">// test steering or throttle output using a pwm value</span></div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#aaa3219d6621f65d47b93b2af2fef51c5">  337</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__MotorsUGV.html#aaa3219d6621f65d47b93b2af2fef51c5">AP_MotorsUGV::output_test_pwm</a>(<a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4a">motor_test_order</a> motor_seq, <span class="keywordtype">float</span> pwm)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// check if the motor_seq is valid</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (motor_seq &gt; <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aaf990a43d195b02b25a2347b211345b2e">MOTOR_TEST_THROTTLE_RIGHT</a>) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">switch</span> (motor_seq) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa0cae54d5256db765ee1d95ceb638638e">MOTOR_TEST_THROTTLE</a>: {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a>)) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a>, pwm);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>)) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, pwm);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa34d5c0fe61f953eef03d85aa35ffc498">MOTOR_TEST_STEERING</a>: {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a>)) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a>, pwm);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>)) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>, pwm);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aab369237f35aa9df97e162cdda12d80bc">MOTOR_TEST_THROTTLE_LEFT</a>: {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a>)) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a>, pwm);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>)) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, pwm);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aaf990a43d195b02b25a2347b211345b2e">MOTOR_TEST_THROTTLE_RIGHT</a>: {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>)) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>, pwm);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>)) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, pwm);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa7b8a18b0f88a468b5df77a1c9f2011ac">MOTOR_TEST_MAINSAIL</a>: {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a>)) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a>, pwm);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#ade6632e078eb500dfab7910b28513ade">SRV_Channels::calc_pwm</a>();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a6bdc435846b87498670af6018e094f64">SRV_Channels::cork</a>();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a2b72ba29ad254568159a1f6951ee9013">SRV_Channels::output_ch_all</a>();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a3d06352d58d90ae7934ef500505b937f">SRV_Channels::push</a>();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">//  returns true if checks pass, false if they fail.  report should be true to send text messages to GCS</span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a85827508e66eefbeee6b28051b494a72">  397</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__MotorsUGV.html#a85827508e66eefbeee6b28051b494a72">AP_MotorsUGV::pre_arm_check</a>(<span class="keywordtype">bool</span> report)<span class="keyword"> const</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// check if both regular and skid steering functions have been defined</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>) &amp;&amp;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>) &amp;&amp;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>) &amp;&amp;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>)) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (report) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_CRITICAL, <span class="stringliteral">&quot;PreArm: regular AND skid steering configured&quot;</span>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// check if only one of skid-steering output has been configured</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>) != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>)) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> (report) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_CRITICAL, <span class="stringliteral">&quot;PreArm: check skid steering config&quot;</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// check if only one of throttle or steering outputs has been configured, if has a sail allow no throttle</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classAP__MotorsUGV.html#ac993a856521fd85525bce7007982f3d5">has_sail</a>() || <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>)) != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>)) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span> (report) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_CRITICAL, <span class="stringliteral">&quot;PreArm: check steering and throttle config&quot;</span>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// check all omni motor outputs have been configured</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">_motors_num</a>; i++)</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> <span class="keyword">function</span> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(i);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">if</span> (!<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a>(<span class="keyword">function</span>)) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">if</span> (report) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_CRITICAL, <span class="stringliteral">&quot;PreArm: servo function %u unassigned&quot;</span>, <span class="keyword">function</span>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">// sanity check parameters</span></div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ae865bf6f4d58e187e73bd156ffae97b7">  438</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ae865bf6f4d58e187e73bd156ffae97b7">AP_MotorsUGV::sanity_check_parameters</a>()</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;{</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">_throttle_min</a> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a68558c4f79a8582543daefde13c64abc">constrain_int16</a>(<a class="code" href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">_throttle_min</a>, 0, 20);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a1899ae8b286e235041609a84cc0f9d8d">_throttle_max</a> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a68558c4f79a8582543daefde13c64abc">constrain_int16</a>(<a class="code" href="classAP__MotorsUGV.html#a1899ae8b286e235041609a84cc0f9d8d">_throttle_max</a>, 30, 100);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#afe4fc68f14806edec31643f91bd50f91">_vector_throttle_base</a> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(<a class="code" href="classAP__MotorsUGV.html#afe4fc68f14806edec31643f91bd50f91">_vector_throttle_base</a>, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">// setup pwm output type</span></div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ad6bff94ef4f16c46677ffdda08d7c4ae">  446</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ad6bff94ef4f16c46677ffdda08d7c4ae">AP_MotorsUGV::setup_pwm_type</a>()</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    uint16_t motor_mask = 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// work out mask of channels assigned to motors</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    motor_mask |= <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#aa8ed20a48e6ffe0cb62e87fb9fa2f772">SRV_Channels::get_output_channel_mask</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    motor_mask |= <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#aa8ed20a48e6ffe0cb62e87fb9fa2f772">SRV_Channels::get_output_channel_mask</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    motor_mask |= <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#aa8ed20a48e6ffe0cb62e87fb9fa2f772">SRV_Channels::get_output_channel_mask</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">_motors_num</a>; i++) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        motor_mask |= <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#aa8ed20a48e6ffe0cb62e87fb9fa2f772">SRV_Channels::get_output_channel_mask</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(i));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classAP__MotorsUGV.html#ab33a40ca42efb7032c3abb8e57721aa4">_pwm_type</a>) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaab7fc68482de73b2cd4b4e362fecb6ce3">PWM_TYPE_ONESHOT</a>:</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">set_output_mode</a>(motor_mask, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093ab1e27b7d703bdf42b6223d9b9161d9a0">AP_HAL::RCOutput::MODE_PWM_ONESHOT</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa18832351bc7d98fd202709d9ecd0dfdf">PWM_TYPE_ONESHOT125</a>:</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">set_output_mode</a>(motor_mask, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093a1c9c7057fdd08bebe7487917c00dc17e">AP_HAL::RCOutput::MODE_PWM_ONESHOT125</a>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaac8189d0426c8a7f5b318116b344b19ce">PWM_TYPE_BRUSHED_WITH_RELAY</a>:</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa0232349c42f0aaf5046cf03cdc201372">PWM_TYPE_BRUSHED_BIPOLAR</a>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">set_output_mode</a>(motor_mask, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093aca7f067a8380228e2d73594d25b17b1c">AP_HAL::RCOutput::MODE_PWM_BRUSHED</a>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#ae7903398aa18e2472dd34081e626dcb7">set_freq</a>(motor_mask, uint16_t(<a class="code" href="classAP__MotorsUGV.html#acc8aac8396cac4090cbb12832668eaca">_pwm_freq</a> * 1000));</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaaf471159ced251cd618373b6eaff19fc4">PWM_TYPE_DSHOT150</a>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">set_output_mode</a>(motor_mask, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093ad7db50be7ff2c99ea810f30c5fef614c">AP_HAL::RCOutput::MODE_PWM_DSHOT150</a>);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa35d8d2c7705bdff2397adc841b7cb0f3">PWM_TYPE_DSHOT300</a>:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">set_output_mode</a>(motor_mask, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093a7be772b5075fec936dd6b34e35d60129">AP_HAL::RCOutput::MODE_PWM_DSHOT300</a>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa62cdb59efd013e2b7c2fadfeffdb336b">PWM_TYPE_DSHOT600</a>:</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">set_output_mode</a>(motor_mask, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093a151001cd6113487e6da91b6c504683fc">AP_HAL::RCOutput::MODE_PWM_DSHOT600</a>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa980c3d73ad866605b2ec24581b995595">PWM_TYPE_DSHOT1200</a>:</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">rcout</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">set_output_mode</a>(motor_mask, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093abfe8b20b7cc1d255ca86181acfec9099">AP_HAL::RCOutput::MODE_PWM_DSHOT1200</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="comment">// do nothing</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">// setup for frames with omni motors</span></div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#abd435bb6c1dfb06e54efd524199e875f">  489</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#abd435bb6c1dfb06e54efd524199e875f">AP_MotorsUGV::setup_omni</a>()</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// remove existing motors</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">for</span> (int8_t i=0; i&lt;<a class="code" href="classAP__MotorsUGV.html#a57fb04e0223dc86ef38e04e0190c19ed">AP_MOTORS_NUM_MOTORS_MAX</a>; i++) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a56b43bbb927e44b7aec222c2c88ba1d1">clear_omni_motors</a>(i);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// hard coded factor configuration</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a>.<a class="code" href="classRover.html#a39a171a15edbce794604e5de65b7ac7b">get_frame_type</a>()) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">//   FRAME TYPE NAME</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca32848fe6cc0e74cad4866a95e214cc48">FRAME_TYPE_UNDEFINED</a>:</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca26288a6a28b4c213cd669493d7d45292">FRAME_TYPE_OMNI3</a>:</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">_motors_num</a> = 3;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(0, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(1, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(2, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bcad5af86b1581f6215d2306f3604c91af0">FRAME_TYPE_OMNIX</a>:</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">_motors_num</a> = 4,</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(0, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(1, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(2, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(3, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca927f6f4ade5de8c4f5f126b0790fe2b9">FRAME_TYPE_OMNIPLUS</a>:</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">_motors_num</a> = 4;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(0, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(1, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(2, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">add_omni_motor</a>(3, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">// add omni motor using separate throttle, steering and lateral factors</span></div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">  529</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">AP_MotorsUGV::add_omni_motor</a>(int8_t motor_num, <span class="keywordtype">float</span> throttle_factor, <span class="keywordtype">float</span> steering_factor, <span class="keywordtype">float</span> lateral_factor)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// ensure valid motor number is provided</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (motor_num &gt;= 0 &amp;&amp; motor_num &lt; <a class="code" href="classAP__MotorsUGV.html#a57fb04e0223dc86ef38e04e0190c19ed">AP_MOTORS_NUM_MOTORS_MAX</a>) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="comment">// set throttle, steering and lateral factors</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a39ec5ee1f11ac2fcca1eedd4ebf381f4">_throttle_factor</a>[motor_num] = throttle_factor;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a87b1939a9b432aaca7f0a9cc96ebcc8e">_steering_factor</a>[motor_num] = steering_factor;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a982e43b7116337c7dfd900bf7c4c9302">_lateral_factor</a>[motor_num] = lateral_factor;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#af983910c9f084457edc95cb60f79ec9b">add_omni_motor_num</a>(motor_num);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">// add an omni motor and set up default output function</span></div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#af983910c9f084457edc95cb60f79ec9b">  544</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#af983910c9f084457edc95cb60f79ec9b">AP_MotorsUGV::add_omni_motor_num</a>(int8_t motor_num)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// ensure a valid motor number is provided</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (motor_num &gt;= 0 &amp;&amp; motor_num &lt; <a class="code" href="classAP__MotorsUGV.html#a57fb04e0223dc86ef38e04e0190c19ed">AP_MOTORS_NUM_MOTORS_MAX</a>) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        uint8_t <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> <span class="keyword">function</span> = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(motor_num);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a97577ca02c12e3b851cd5d563d32b640">SRV_Channels::set_aux_channel_default</a>(<span class="keyword">function</span>, motor_num);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="keywordflow">if</span> (!<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#aa8ce392569ac9b773e5edd27bd3c6650">SRV_Channels::find_channel</a>(<span class="keyword">function</span>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a>)) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classGCS.html#a9866f3484283db744409e40719cef765">send_text</a>(MAV_SEVERITY_ERROR, <span class="stringliteral">&quot;Motors: unable to setup motor %u&quot;</span>, motor_num);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">// disable omni motor and remove all throttle, steering and lateral factor for this motor</span></div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a56b43bbb927e44b7aec222c2c88ba1d1">  558</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#a56b43bbb927e44b7aec222c2c88ba1d1">AP_MotorsUGV::clear_omni_motors</a>(int8_t motor_num)</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="comment">// ensure valid motor number is provided</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (motor_num &gt;= 0 &amp;&amp; motor_num &lt; <a class="code" href="classAP__MotorsUGV.html#a57fb04e0223dc86ef38e04e0190c19ed">AP_MOTORS_NUM_MOTORS_MAX</a>) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// disable the motor and set factors to zero</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a39ec5ee1f11ac2fcca1eedd4ebf381f4">_throttle_factor</a>[motor_num] = 0;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a87b1939a9b432aaca7f0a9cc96ebcc8e">_steering_factor</a>[motor_num] = 0;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a982e43b7116337c7dfd900bf7c4c9302">_lateral_factor</a>[motor_num] = 0;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">// output to regular steering and throttle channels</span></div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#af72da5854381c77f10a70d4000cf3cbd">  570</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#af72da5854381c77f10a70d4000cf3cbd">AP_MotorsUGV::output_regular</a>(<span class="keywordtype">bool</span> armed, <span class="keywordtype">float</span> ground_speed, <span class="keywordtype">float</span> steering, <span class="keywordtype">float</span> throttle)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// output to throttle channels</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (armed) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#a863105d4e480d2f916b545076db31bf2">_scale_steering</a>) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="comment">// vectored thrust handling</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#a8d116d235f4f8f79bc837f34718f4776">have_vectored_thrust</a>()) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keywordflow">if</span> (fabsf(throttle) &gt; <a class="code" href="classAP__MotorsUGV.html#afe4fc68f14806edec31643f91bd50f91">_vector_throttle_base</a>) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    <span class="comment">// scale steering down linearly as throttle increases above _vector_throttle_base</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    steering *= <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(<a class="code" href="classAP__MotorsUGV.html#afe4fc68f14806edec31643f91bd50f91">_vector_throttle_base</a> / fabsf(throttle), 0.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                <span class="comment">// scale steering down as speed increase above MOT_SPD_SCA_BASE (1 m/s default)</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(<a class="code" href="classAP__MotorsUGV.html#a0c591a188874e128abf70a7404759caf">_speed_scale_base</a>) &amp;&amp; (fabsf(ground_speed) &gt; <a class="code" href="classAP__MotorsUGV.html#a0c591a188874e128abf70a7404759caf">_speed_scale_base</a>)) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    steering *= (<a class="code" href="classAP__MotorsUGV.html#a0c591a188874e128abf70a7404759caf">_speed_scale_base</a> / fabsf(ground_speed));</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                    <span class="comment">// regular steering rover at low speed so set limits to stop I-term build-up in controllers</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="classAP__MotorsUGV.html#a3c13ea4a9949243234dce823c2fa961d">have_skid_steering</a>()) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                        <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#ac4a751ead8632497191684c0de727331">steer_left</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                        <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a62dd8a7d50dc33039bf2aef718829007">steer_right</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="comment">// reverse steering direction when backing up</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a>(ground_speed)) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    steering *= -1.0f;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="comment">// reverse steering direction when backing up</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a>(throttle)) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                steering *= -1.0f;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, throttle);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="comment">// handle disarmed case</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#a8b1c592622478d3b9ce90b11cfdb7c00">_disarm_disable_pwm</a>) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// clear and set limits based on input</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// we do this here because vectored thrust or speed scaling may have reduced steering request</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#aefc1524c06ea9c0049e70790f11a9334">set_limits_from_input</a>(armed, steering, throttle);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">// constrain steering</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    steering = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(steering, -4500.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 4500.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// always allow steering to move</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a61d6f8b037aa79f789a11e872f50e220">SRV_Channels::set_output_scaled</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a>, steering);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">// output to skid steering channels</span></div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ac6a939c7d6afae6228ac9447c08c195b">  625</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ac6a939c7d6afae6228ac9447c08c195b">AP_MotorsUGV::output_skid_steering</a>(<span class="keywordtype">bool</span> armed, <span class="keywordtype">float</span> steering, <span class="keywordtype">float</span> throttle, <span class="keywordtype">float</span> dt)</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__MotorsUGV.html#a3c13ea4a9949243234dce823c2fa961d">have_skid_steering</a>()) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// clear and set limits based on input</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#aefc1524c06ea9c0049e70790f11a9334">set_limits_from_input</a>(armed, steering, throttle);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// constrain steering</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    steering = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(steering, -4500.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 4500.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="comment">// handle simpler disarmed case</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span> (!armed) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#a8b1c592622478d3b9ce90b11cfdb7c00">_disarm_disable_pwm</a>) {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// skid steering mixer</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordtype">float</span> steering_scaled = steering / 4500.0f; <span class="comment">// steering scaled -1 to +1</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">float</span> throttle_scaled = throttle / 100.0f;  <span class="comment">// throttle scaled -1 to +1</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// apply constraints</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    steering_scaled = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(steering_scaled, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    throttle_scaled = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(throttle_scaled, -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// check for saturation and scale back throttle and steering proportionally</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> saturation_value = fabsf(steering_scaled) + fabsf(throttle_scaled);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">if</span> (saturation_value &gt; 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        steering_scaled = steering_scaled / saturation_value;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        throttle_scaled = throttle_scaled / saturation_value;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// add in throttle and steering</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> motor_left = throttle_scaled + steering_scaled;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> motor_right = throttle_scaled - steering_scaled;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// send pwm value to each motor</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>, 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> * motor_left, dt);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>, 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> * motor_right, dt);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;}</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">// output for omni frames</span></div><div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#af70a7aca5f94dea1ba7acf978a2a3d4b">  674</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#af70a7aca5f94dea1ba7acf978a2a3d4b">AP_MotorsUGV::output_omni</a>(<span class="keywordtype">bool</span> armed, <span class="keywordtype">float</span> steering, <span class="keywordtype">float</span> throttle, <span class="keywordtype">float</span> lateral)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// exit immediately if the frame type is set to UNDEFINED</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a>.<a class="code" href="classRover.html#a39a171a15edbce794604e5de65b7ac7b">get_frame_type</a>() == <a class="code" href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca32848fe6cc0e74cad4866a95e214cc48">FRAME_TYPE_UNDEFINED</a>) {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">if</span> (armed) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="comment">// clear and set limits based on input</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#aefc1524c06ea9c0049e70790f11a9334">set_limits_from_input</a>(armed, steering, throttle);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="comment">// constrain steering</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        steering = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(steering, -4500.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 4500.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="comment">// scale throttle, steering and lateral inputs to -1 to 1</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> scaled_throttle = throttle / 100.0f;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> scaled_steering = steering / 4500.0f;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> scaled_lateral = lateral / 100.0f;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordtype">float</span> thr_str_ltr_out;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordtype">float</span> thr_str_ltr_max = 1;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__MotorsUGV.html#a57fb04e0223dc86ef38e04e0190c19ed">AP_MOTORS_NUM_MOTORS_MAX</a>; i++) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            thr_str_ltr_out = (scaled_throttle * <a class="code" href="classAP__MotorsUGV.html#a39ec5ee1f11ac2fcca1eedd4ebf381f4">_throttle_factor</a>[i]) +</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                              (scaled_steering * <a class="code" href="classAP__MotorsUGV.html#a87b1939a9b432aaca7f0a9cc96ebcc8e">_steering_factor</a>[i]) +</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                              (scaled_lateral * <a class="code" href="classAP__MotorsUGV.html#a982e43b7116337c7dfd900bf7c4c9302">_lateral_factor</a>[i]);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">if</span> (fabsf(thr_str_ltr_out) &gt; thr_str_ltr_max) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                thr_str_ltr_max = fabsf(thr_str_ltr_out);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordtype">float</span> output_vectored = (thr_str_ltr_out / thr_str_ltr_max);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="comment">// send output for each motor</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(i), 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> * output_vectored);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="comment">// handle disarmed case</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#a8b1c592622478d3b9ce90b11cfdb7c00">_disarm_disable_pwm</a>) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">_motors_num</a>; i++) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(i), <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a>);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordflow">for</span> (uint8_t i=0; i&lt;<a class="code" href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">_motors_num</a>; i++) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a>(i), <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">// output throttle value to main throttle channel, left throttle or right throttle.  throttle should be scaled from -100 to 100</span></div><div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">  723</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">AP_MotorsUGV::output_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> <span class="keyword">function</span>, <span class="keywordtype">float</span> throttle, <span class="keywordtype">float</span> dt)</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;{</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// sanity check servo function</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">function</span> != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a> &amp;&amp; <span class="keyword">function</span> != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a> &amp;&amp; <span class="keyword">function</span> != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a> &amp;&amp; <span class="keyword">function</span> != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a> &amp;&amp; <span class="keyword">function</span> != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a> &amp;&amp; <span class="keyword">function</span> != <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a> &amp;&amp; <span class="keyword">function</span>!= <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>) {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">// constrain and scale output</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    throttle = <a class="code" href="classAP__MotorsUGV.html#ac2c2665a6afdfc53cea1626643be4547">get_scaled_throttle</a>(throttle);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// apply rate control</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    throttle = <a class="code" href="classAP__MotorsUGV.html#ac3de31b4f9d4746da2fe105f073537cc">get_rate_controlled_throttle</a>(<span class="keyword">function</span>, throttle, dt);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// set relay if necessary</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#ab33a40ca42efb7032c3abb8e57721aa4">_pwm_type</a> == <a class="code" href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaac8189d0426c8a7f5b318116b344b19ce">PWM_TYPE_BRUSHED_WITH_RELAY</a>) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="comment">// find the output channel, if not found return</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keyword">const</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html">SRV_Channel</a> *out_chan = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a3d208ae4bdd1e6264f7d3203dc6f5ce3">SRV_Channels::get_channel_for</a>(<span class="keyword">function</span>);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">if</span> (out_chan == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keyword">const</span> int8_t reverse_multiplier = out_chan-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a08d12bc5da50b61094e29e72fed64834">get_reversed</a>() ? -1 : 1;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordtype">bool</span> relay_high = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a>(reverse_multiplier * throttle);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">switch</span> (<span class="keyword">function</span>) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>:</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>:</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a>:</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#ac98c1ba8bc9e4d2845ce311c7a4b3b14">_relayEvents</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__ServoRelayEvents.html#a97e7a71ad2ed00b9b4ceb20bc617be4c">do_set_relay</a>(0, relay_high);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>:</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a>:</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#ac98c1ba8bc9e4d2845ce311c7a4b3b14">_relayEvents</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__ServoRelayEvents.html#a97e7a71ad2ed00b9b4ceb20bc617be4c">do_set_relay</a>(1, relay_high);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a>:</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#ac98c1ba8bc9e4d2845ce311c7a4b3b14">_relayEvents</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__ServoRelayEvents.html#a97e7a71ad2ed00b9b4ceb20bc617be4c">do_set_relay</a>(2, relay_high);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>:</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                <a class="code" href="classAP__MotorsUGV.html#ac98c1ba8bc9e4d2845ce311c7a4b3b14">_relayEvents</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__ServoRelayEvents.html#a97e7a71ad2ed00b9b4ceb20bc617be4c">do_set_relay</a>(3, relay_high);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="comment">// do nothing</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="comment">// invert the output to always have positive value calculated by calc_pwm</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        throttle = reverse_multiplier * fabsf(throttle);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">// output to servo channel</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">switch</span> (<span class="keyword">function</span>) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a>:</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a>:</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a>:</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a>:</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a>:</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a61d6f8b037aa79f789a11e872f50e220">SRV_Channels::set_output_scaled</a>(<span class="keyword">function</span>,  throttle);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>:</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">case</span> <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>:</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a61d6f8b037aa79f789a11e872f50e220">SRV_Channels::set_output_scaled</a>(<span class="keyword">function</span>,  throttle * 10.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <span class="comment">// do nothing</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">// output for sailboat&#39;s mainsail</span></div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#a268de7e450c57ebafb9fd6ba64b9d233">  790</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#a268de7e450c57ebafb9fd6ba64b9d233">AP_MotorsUGV::output_mainsail</a>()</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classAP__MotorsUGV.html#ac993a856521fd85525bce7007982f3d5">has_sail</a>()) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channels.html#a61d6f8b037aa79f789a11e872f50e220">SRV_Channels::set_output_scaled</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a>, <a class="code" href="classAP__MotorsUGV.html#a1ffd5739c17022c664080ea128810fd3">_mainsail</a>);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">// slew limit throttle for one iteration</span></div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ab23ba8e3ee4a209bf43a7de7c5deab95">  800</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#ab23ba8e3ee4a209bf43a7de7c5deab95">AP_MotorsUGV::slew_limit_throttle</a>(<span class="keywordtype">float</span> dt)</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;{</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> throttle_orig = <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a> = <a class="code" href="classAP__MotorsUGV.html#aa5d7f743ab1b268aa6693444bfcb973c">get_slew_limited_throttle</a>(<a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>, dt);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">if</span> (throttle_orig &gt; <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a36d067b02d9d960d439ef1ab40dcc812">throttle_upper</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (throttle_orig &lt; <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a1a4e8eb4ca5a5cbb9805805b787422a8">throttle_lower</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a16f779fadf5c976587d51d9fd02d00da">_throttle_prev</a> = <a class="code" href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">_throttle</a>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;}</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">// set limits based on steering and throttle input</span></div><div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#aefc1524c06ea9c0049e70790f11a9334">  813</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classAP__MotorsUGV.html#aefc1524c06ea9c0049e70790f11a9334">AP_MotorsUGV::set_limits_from_input</a>(<span class="keywordtype">bool</span> armed, <span class="keywordtype">float</span> steering, <span class="keywordtype">float</span> throttle)</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;{</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// set limits based on inputs</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#ac4a751ead8632497191684c0de727331">steer_left</a> = !armed || (steering &lt;= -4500.0f);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a62dd8a7d50dc33039bf2aef718829007">steer_right</a> = !armed || (steering &gt;= 4500.0f);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a1a4e8eb4ca5a5cbb9805805b787422a8">throttle_lower</a> = !armed || (throttle &lt;= -<a class="code" href="classAP__MotorsUGV.html#a1899ae8b286e235041609a84cc0f9d8d">_throttle_max</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">limit</a>.<a class="code" href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a36d067b02d9d960d439ef1ab40dcc812">throttle_upper</a> = !armed || (throttle &gt;= <a class="code" href="classAP__MotorsUGV.html#a1899ae8b286e235041609a84cc0f9d8d">_throttle_max</a>);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">// scale a throttle using the _throttle_min and _thrust_curve_expo parameters.  throttle should be in the range -100 to +100</span></div><div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ac2c2665a6afdfc53cea1626643be4547">  823</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__MotorsUGV.html#ac2c2665a6afdfc53cea1626643be4547">AP_MotorsUGV::get_scaled_throttle</a>(<span class="keywordtype">float</span> throttle)<span class="keyword"> const</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// exit immediately if throttle is zero</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(throttle)) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">return</span> throttle;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">// scale using throttle_min</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">_throttle_min</a> &gt; 0) {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a>(throttle)) {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            throttle = -<a class="code" href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">_throttle_min</a> + (throttle * ((100.0f - <a class="code" href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">_throttle_min</a>) / 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>));</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            throttle = <a class="code" href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">_throttle_min</a> + (throttle * ((100.0f - <a class="code" href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">_throttle_min</a>) / 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>));</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="comment">// skip further scaling if thrust curve disabled or invalid</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a>) || (<a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a> &gt; 1.0f) || (<a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a> &lt; -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>)) {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">return</span> throttle;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// calculate scaler</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> sign = (throttle &lt; 0.0f) ? -1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> : 1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> throttle_pct = <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a>(throttle, -100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>, 100.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a>) / 100.0f;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">return</span> 100.0f * sign * ((<a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a> - 1.0f) + <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8cpp.html#ac89eb1832d8e4d67fcf1ac07e3c25184">safe_sqrt</a>((1.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> - <a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a>) * (1.0f - <a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a>) + 4.0<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a> * <a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a> * fabsf(throttle_pct))) / (2.0f * <a class="code" href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">_thrust_curve_expo</a>);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;}</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">// use rate controller to achieve desired throttle</span></div><div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ac3de31b4f9d4746da2fe105f073537cc">  851</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classAP__MotorsUGV.html#ac3de31b4f9d4746da2fe105f073537cc">AP_MotorsUGV::get_rate_controlled_throttle</a>(<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a> <span class="keyword">function</span>, <span class="keywordtype">float</span> throttle, <span class="keywordtype">float</span> dt)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="comment">// require non-zero dt</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span> (!<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a>(dt)) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">return</span> throttle;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// attempt to rate control left throttle</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> ((<span class="keyword">function</span> == <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a>) &amp;&amp; <a class="code" href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a>.<a class="code" href="classRover.html#a45bbcccd7774e1523b49aae00105606c">get_wheel_rate_control</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__WheelRateControl.html#aab84fcd466e5a86567e0e628092f2fc1">enabled</a>(0)) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a>.<a class="code" href="classRover.html#a45bbcccd7774e1523b49aae00105606c">get_wheel_rate_control</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__WheelRateControl.html#aa11e56bbe3141ebf5acdae6cb885f2b7">get_rate_controlled_throttle</a>(0, throttle, dt);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">// rate control right throttle</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> ((<span class="keyword">function</span> == <a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a>) &amp;&amp; <a class="code" href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a>.<a class="code" href="classRover.html#a45bbcccd7774e1523b49aae00105606c">get_wheel_rate_control</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__WheelRateControl.html#aab84fcd466e5a86567e0e628092f2fc1">enabled</a>(1)) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a>.<a class="code" href="classRover.html#a45bbcccd7774e1523b49aae00105606c">get_wheel_rate_control</a>().<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__WheelRateControl.html#aa11e56bbe3141ebf5acdae6cb885f2b7">get_rate_controlled_throttle</a>(1, throttle, dt);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="comment">// return throttle unchanged</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">return</span> throttle;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">// return true if motors are moving</span></div><div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="classAP__MotorsUGV.html#ab02978771c0241b8823dc616a2121f19">  873</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classAP__MotorsUGV.html#ab02978771c0241b8823dc616a2121f19">AP_MotorsUGV::active</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// if soft disarmed, motors not active</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a>.<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">util</a>-&gt;<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/classAP__HAL_1_1Util.html#a287a2b82fa30b92c8d52aad61d4d27b7">get_soft_armed</a>()) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// check throttle is active</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span> (!<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code" href="classAP__MotorsUGV.html#a54d9d572b65b97f03c1db8484b896118">get_throttle</a>())) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// skid-steering vehicles active when steering</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classAP__MotorsUGV.html#a3c13ea4a9949243234dce823c2fa961d">have_skid_steering</a>() &amp;&amp; !<a class="codeRef" doxygen="/Users/coreyshive/Documents/schoolcode/ardupilot/docs/tags/libraries:../libraries/" href="../libraries/AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a>(<a class="code" href="classAP__MotorsUGV.html#ab4374f3262930fa94b7e3209dced5001">get_steering</a>())) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div><div class="ttc" id="classAP__WheelRateControl_html_aa11e56bbe3141ebf5acdae6cb885f2b7"><div class="ttname"><a href="../libraries/classAP__WheelRateControl.html#aa11e56bbe3141ebf5acdae6cb885f2b7">AP_WheelRateControl::get_rate_controlled_throttle</a></div><div class="ttdeci">float get_rate_controlled_throttle(uint8_t instance, float desired_rate_pct, float dt)</div></div>
<div class="ttc" id="classSRV__Channels_html_a7522c0412b2174273d656caec3c55317"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a7522c0412b2174273d656caec3c55317">SRV_Channels::set_angle</a></div><div class="ttdeci">static void set_angle(SRV_Channel::Aux_servo_function_t function, uint16_t angle)</div></div>
<div class="ttc" id="Rover_8cpp_html_a13a9f32eff1594db9791c90f0c4768ee"><div class="ttname"><a href="Rover_8cpp.html#a13a9f32eff1594db9791c90f0c4768ee">rover</a></div><div class="ttdeci">Rover rover</div><div class="ttdef"><b>Definition:</b> <a href="Rover_8cpp_source.html#l00336">Rover.cpp:336</a></div></div>
<div class="ttc" id="classAP__HAL_1_1Util_html_a287a2b82fa30b92c8d52aad61d4d27b7"><div class="ttname"><a href="../libraries/classAP__HAL_1_1Util.html#a287a2b82fa30b92c8d52aad61d4d27b7">AP_HAL::Util::get_soft_armed</a></div><div class="ttdeci">bool get_soft_armed() const</div></div>
<div class="ttc" id="classSRV__Channels_html_acab9e1aba9fcbde6e598169af5b3181f"><div class="ttname"><a href="../libraries/classSRV__Channels.html#acab9e1aba9fcbde6e598169af5b3181f">SRV_Channels::get_motor_function</a></div><div class="ttdeci">static SRV_Channel::Aux_servo_function_t get_motor_function(uint8_t channel)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a92a62eaaf0df1e20247b06fe456f298c"><div class="ttname"><a href="classAP__MotorsUGV.html#a92a62eaaf0df1e20247b06fe456f298c">AP_MotorsUGV::_throttle</a></div><div class="ttdeci">float _throttle</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00177">AP_MotorsUGV.h:177</a></div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_afabff18b963ba9ef5b605e6e7aeca093ad7db50be7ff2c99ea810f30c5fef614c"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093ad7db50be7ff2c99ea810f30c5fef614c">AP_HAL::RCOutput::MODE_PWM_DSHOT150</a></div><div class="ttdeci">MODE_PWM_DSHOT150</div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_afabff18b963ba9ef5b605e6e7aeca093abfe8b20b7cc1d255ca86181acfec9099"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093abfe8b20b7cc1d255ca86181acfec9099">AP_HAL::RCOutput::MODE_PWM_DSHOT1200</a></div><div class="ttdeci">MODE_PWM_DSHOT1200</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3f57c8a316743b33c1a513fd5ffc2c4aab369237f35aa9df97e162cdda12d80bc"><div class="ttname"><a href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aab369237f35aa9df97e162cdda12d80bc">AP_MotorsUGV::MOTOR_TEST_THROTTLE_LEFT</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00028">AP_MotorsUGV.h:28</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_acdbf927cf3077332d0ce32a2d8829848"><div class="ttname"><a href="classAP__MotorsUGV.html#acdbf927cf3077332d0ce32a2d8829848">AP_MotorsUGV::output_throttle</a></div><div class="ttdeci">void output_throttle(SRV_Channel::Aux_servo_function_t function, float throttle, float dt=0.0f)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00723">AP_MotorsUGV.cpp:723</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a715a0455197d7196ffdd4068e98987f0"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a715a0455197d7196ffdd4068e98987f0">SRV_Channels::set_trim_to_min_for</a></div><div class="ttdeci">static void set_trim_to_min_for(SRV_Channel::Aux_servo_function_t function)</div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_afabff18b963ba9ef5b605e6e7aeca093a7be772b5075fec936dd6b34e35d60129"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093a7be772b5075fec936dd6b34e35d60129">AP_HAL::RCOutput::MODE_PWM_DSHOT300</a></div><div class="ttdeci">MODE_PWM_DSHOT300</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a91d747bc014f8d8c125c69b6eb598251"><div class="ttname"><a href="classAP__MotorsUGV.html#a91d747bc014f8d8c125c69b6eb598251">AP_MotorsUGV::output_test_pct</a></div><div class="ttdeci">bool output_test_pct(motor_test_order motor_seq, float pct)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00275">AP_MotorsUGV.cpp:275</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a68558c4f79a8582543daefde13c64abc"><div class="ttname"><a href="../libraries/AP__Math_8h.html#a68558c4f79a8582543daefde13c64abc">constrain_int16</a></div><div class="ttdeci">int16_t constrain_int16(const int16_t amt, const int16_t low, const int16_t high)</div></div>
<div class="ttc" id="defines_8h_html_a458215e61949d9180bc820b5eff66d0b"><div class="ttname"><a href="defines_8h.html#a458215e61949d9180bc820b5eff66d0b">SERVO_MAX</a></div><div class="ttdeci">#define SERVO_MAX</div><div class="ttdef"><b>Definition:</b> <a href="defines_8h_source.html#l00014">defines.h:14</a></div></div>
<div class="ttc" id="AP__Math_8cpp_html_ac89eb1832d8e4d67fcf1ac07e3c25184"><div class="ttname"><a href="../libraries/AP__Math_8cpp.html#ac89eb1832d8e4d67fcf1ac07e3c25184">safe_sqrt</a></div><div class="ttdeci">float safe_sqrt(const T v)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a57fb04e0223dc86ef38e04e0190c19ed"><div class="ttname"><a href="classAP__MotorsUGV.html#a57fb04e0223dc86ef38e04e0190c19ed">AP_MotorsUGV::AP_MOTORS_NUM_MOTORS_MAX</a></div><div class="ttdeci">static const int8_t AP_MOTORS_NUM_MOTORS_MAX</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00162">AP_MotorsUGV.h:162</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_afcbfb99a2b4f6ef9709e32e1b3ba8c8a"><div class="ttname"><a href="classAP__MotorsUGV.html#afcbfb99a2b4f6ef9709e32e1b3ba8c8a">AP_MotorsUGV::_slew_rate</a></div><div class="ttdeci">AP_Int16 _slew_rate</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00168">AP_MotorsUGV.h:168</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_aa977c3fdbdac7136e7926d78d9b8385d"><div class="ttname"><a href="classAP__MotorsUGV.html#aa977c3fdbdac7136e7926d78d9b8385d">AP_MotorsUGV::_thrust_curve_expo</a></div><div class="ttdeci">AP_Float _thrust_curve_expo</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00171">AP_MotorsUGV.h:171</a></div></div>
<div class="ttc" id="AP__MotorsUGV_8cpp_html_ae08c3ca4ba26b63cda0bb3e3c6c02785"><div class="ttname"><a href="AP__MotorsUGV_8cpp.html#ae08c3ca4ba26b63cda0bb3e3c6c02785">hal</a></div><div class="ttdeci">const AP_HAL::HAL &amp; hal</div><div class="ttdef"><b>Definition:</b> <a href="Rover_8cpp_source.html#l00038">Rover.cpp:38</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ab23ba8e3ee4a209bf43a7de7c5deab95"><div class="ttname"><a href="classAP__MotorsUGV.html#ab23ba8e3ee4a209bf43a7de7c5deab95">AP_MotorsUGV::slew_limit_throttle</a></div><div class="ttdeci">void slew_limit_throttle(float dt)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00800">AP_MotorsUGV.cpp:800</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3f57c8a316743b33c1a513fd5ffc2c4aa0cae54d5256db765ee1d95ceb638638e"><div class="ttname"><a href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa0cae54d5256db765ee1d95ceb638638e">AP_MotorsUGV::MOTOR_TEST_THROTTLE</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00026">AP_MotorsUGV.h:26</a></div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_afabff18b963ba9ef5b605e6e7aeca093aca7f067a8380228e2d73594d25b17b1c"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093aca7f067a8380228e2d73594d25b17b1c">AP_HAL::RCOutput::MODE_PWM_BRUSHED</a></div><div class="ttdeci">MODE_PWM_BRUSHED</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a54d9d572b65b97f03c1db8484b896118"><div class="ttname"><a href="classAP__MotorsUGV.html#a54d9d572b65b97f03c1db8484b896118">AP_MotorsUGV::get_throttle</a></div><div class="ttdeci">float get_throttle() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00061">AP_MotorsUGV.h:61</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3f57c8a316743b33c1a513fd5ffc2c4aa0fd805669e357a44afda70af63002352"><div class="ttname"><a href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa0fd805669e357a44afda70af63002352">AP_MotorsUGV::MOTOR_TEST_LAST</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00031">AP_MotorsUGV.h:31</a></div></div>
<div class="ttc" id="structAP__MotorsUGV_1_1AP__MotorsUGV__limit_html_a36d067b02d9d960d439ef1ab40dcc812"><div class="ttname"><a href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a36d067b02d9d960d439ef1ab40dcc812">AP_MotorsUGV::AP_MotorsUGV_limit::throttle_upper</a></div><div class="ttdeci">uint8_t throttle_upper</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00102">AP_MotorsUGV.h:102</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="../libraries/AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_afabff18b963ba9ef5b605e6e7aeca093a151001cd6113487e6da91b6c504683fc"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093a151001cd6113487e6da91b6c504683fc">AP_HAL::RCOutput::MODE_PWM_DSHOT600</a></div><div class="ttdeci">MODE_PWM_DSHOT600</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a39112be7cfaa9679ae45c5014aeb63bcad5af86b1581f6215d2306f3604c91af0"><div class="ttname"><a href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bcad5af86b1581f6215d2306f3604c91af0">AP_MotorsUGV::FRAME_TYPE_OMNIX</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00038">AP_MotorsUGV.h:38</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a97577ca02c12e3b851cd5d563d32b640"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a97577ca02c12e3b851cd5d563d32b640">SRV_Channels::set_aux_channel_default</a></div><div class="ttdeci">static bool set_aux_channel_default(SRV_Channel::Aux_servo_function_t function, uint8_t channel)</div></div>
<div class="ttc" id="classSRV__Channel_html_a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a343fa9e1c06f9d70ee6d098519880a73">SRV_Channel::SRV_CHANNEL_LIMIT_TRIM</a></div><div class="ttdeci">SRV_CHANNEL_LIMIT_TRIM</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ad34c71675d53bb34a38e363889110ebe"><div class="ttname"><a href="classAP__MotorsUGV.html#ad34c71675d53bb34a38e363889110ebe">AP_MotorsUGV::_throttle_min</a></div><div class="ttdeci">AP_Int8 _throttle_min</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00169">AP_MotorsUGV.h:169</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a863105d4e480d2f916b545076db31bf2"><div class="ttname"><a href="classAP__MotorsUGV.html#a863105d4e480d2f916b545076db31bf2">AP_MotorsUGV::_scale_steering</a></div><div class="ttdeci">bool _scale_steering</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00179">AP_MotorsUGV.h:179</a></div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_ae7903398aa18e2472dd34081e626dcb7"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#ae7903398aa18e2472dd34081e626dcb7">AP_HAL::RCOutput::set_freq</a></div><div class="ttdeci">virtual void set_freq(uint32_t chmask, uint16_t freq_hz)=0</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_aa5d7f743ab1b268aa6693444bfcb973c"><div class="ttname"><a href="classAP__MotorsUGV.html#aa5d7f743ab1b268aa6693444bfcb973c">AP_MotorsUGV::get_slew_limited_throttle</a></div><div class="ttdeci">float get_slew_limited_throttle(float throttle, float dt) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00212">AP_MotorsUGV.cpp:212</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a39112be7cfaa9679ae45c5014aeb63bca32848fe6cc0e74cad4866a95e214cc48"><div class="ttname"><a href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca32848fe6cc0e74cad4866a95e214cc48">AP_MotorsUGV::FRAME_TYPE_UNDEFINED</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00036">AP_MotorsUGV.h:36</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_af72da5854381c77f10a70d4000cf3cbd"><div class="ttname"><a href="classAP__MotorsUGV.html#af72da5854381c77f10a70d4000cf3cbd">AP_MotorsUGV::output_regular</a></div><div class="ttdeci">void output_regular(bool armed, float ground_speed, float steering, float throttle)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00570">AP_MotorsUGV.cpp:570</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a78a408c84f2a1bafde256ac650142e4d"><div class="ttname"><a href="../libraries/AP__Param_8h.html#a78a408c84f2a1bafde256ac650142e4d">AP_GROUPINFO</a></div><div class="ttdeci">#define AP_GROUPINFO(name, idx, clazz, element, def)</div></div>
<div class="ttc" id="classSRV__Channels_html_adba039e2df3bb2c744f8b8590581827f"><div class="ttname"><a href="../libraries/classSRV__Channels.html#adba039e2df3bb2c744f8b8590581827f">SRV_Channels::set_range</a></div><div class="ttdeci">static void set_range(SRV_Channel::Aux_servo_function_t function, uint16_t range)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaa18832351bc7d98fd202709d9ecd0dfdf"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa18832351bc7d98fd202709d9ecd0dfdf">AP_MotorsUGV::PWM_TYPE_ONESHOT125</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00016">AP_MotorsUGV.h:16</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ab4374f3262930fa94b7e3209dced5001"><div class="ttname"><a href="classAP__MotorsUGV.html#ab4374f3262930fa94b7e3209dced5001">AP_MotorsUGV::get_steering</a></div><div class="ttdeci">float get_steering() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00057">AP_MotorsUGV.h:57</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ad6bff94ef4f16c46677ffdda08d7c4ae"><div class="ttname"><a href="classAP__MotorsUGV.html#ad6bff94ef4f16c46677ffdda08d7c4ae">AP_MotorsUGV::setup_pwm_type</a></div><div class="ttdeci">void setup_pwm_type()</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00446">AP_MotorsUGV.cpp:446</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68">SRV_Channel::Aux_servo_function_t</a></div><div class="ttdeci">Aux_servo_function_t</div></div>
<div class="ttc" id="classSRV__Channel_html_a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a207aaef5b9dba17e559b23915c0f3402a8c3878030f7432db30b29585c301f6df">SRV_Channel::SRV_CHANNEL_LIMIT_ZERO_PWM</a></div><div class="ttdeci">SRV_CHANNEL_LIMIT_ZERO_PWM</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a435c1d9805d846f9d6989d65c0203697"><div class="ttname"><a href="classAP__MotorsUGV.html#a435c1d9805d846f9d6989d65c0203697">AP_MotorsUGV::_motors_num</a></div><div class="ttdeci">uint8_t _motors_num</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00187">AP_MotorsUGV.h:187</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a09b6db431dcbb99e23883eb7c4d51df2">SRV_Channel::k_motor2</a></div><div class="ttdeci">k_motor2</div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html_a9337a60383f4264fa96a20dbe43a4e2e"><div class="ttname"><a href="../libraries/classAP__HAL_1_1HAL.html#a9337a60383f4264fa96a20dbe43a4e2e">AP_HAL::HAL::util</a></div><div class="ttdeci">AP_HAL::Util * util</div></div>
<div class="ttc" id="classSRV__Channels_html_a3d208ae4bdd1e6264f7d3203dc6f5ce3"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a3d208ae4bdd1e6264f7d3203dc6f5ce3">SRV_Channels::get_channel_for</a></div><div class="ttdeci">static SRV_Channel * get_channel_for(SRV_Channel::Aux_servo_function_t function, int8_t default_chan=-1)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaaf471159ced251cd618373b6eaff19fc4"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaaf471159ced251cd618373b6eaff19fc4">AP_MotorsUGV::PWM_TYPE_DSHOT150</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00019">AP_MotorsUGV.h:19</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a1ffd5739c17022c664080ea128810fd3"><div class="ttname"><a href="classAP__MotorsUGV.html#a1ffd5739c17022c664080ea128810fd3">AP_MotorsUGV::_mainsail</a></div><div class="ttdeci">float _mainsail</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00181">AP_MotorsUGV.h:181</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a0c591a188874e128abf70a7404759caf"><div class="ttname"><a href="classAP__MotorsUGV.html#a0c591a188874e128abf70a7404759caf">AP_MotorsUGV::_speed_scale_base</a></div><div class="ttdeci">AP_Float _speed_scale_base</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00173">AP_MotorsUGV.h:173</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_aaa3219d6621f65d47b93b2af2fef51c5"><div class="ttname"><a href="classAP__MotorsUGV.html#aaa3219d6621f65d47b93b2af2fef51c5">AP_MotorsUGV::output_test_pwm</a></div><div class="ttdeci">bool output_test_pwm(motor_test_order motor_seq, float pwm)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00337">AP_MotorsUGV.cpp:337</a></div></div>
<div class="ttc" id="GCS_8h_html_a1d3cc361b864ddf64a44c12ab3bd044e"><div class="ttname"><a href="../libraries/GCS_8h.html#a1d3cc361b864ddf64a44c12ab3bd044e">gcs</a></div><div class="ttdeci">GCS &amp; gcs()</div></div>
<div class="ttc" id="AP__Math_8h_html_a4e3ae698e8f99cec214348ad233e3c41"><div class="ttname"><a href="../libraries/AP__Math_8h.html#a4e3ae698e8f99cec214348ad233e3c41">is_positive</a></div><div class="ttdeci">bool is_positive(const T fVal1)</div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68aafba4604bc5488854e78ac238fb859b6">SRV_Channel::k_motor3</a></div><div class="ttdeci">k_motor3</div></div>
<div class="ttc" id="structAP__MotorsUGV_1_1AP__MotorsUGV__limit_html_a1a4e8eb4ca5a5cbb9805805b787422a8"><div class="ttname"><a href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a1a4e8eb4ca5a5cbb9805805b787422a8">AP_MotorsUGV::AP_MotorsUGV_limit::throttle_lower</a></div><div class="ttdeci">uint8_t throttle_lower</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00101">AP_MotorsUGV.h:101</a></div></div>
<div class="ttc" id="classRover_html_a45bbcccd7774e1523b49aae00105606c"><div class="ttname"><a href="classRover.html#a45bbcccd7774e1523b49aae00105606c">Rover::get_wheel_rate_control</a></div><div class="ttdeci">AP_WheelRateControl &amp; get_wheel_rate_control()</div><div class="ttdef"><b>Definition:</b> <a href="Rover_8h_source.html#l00500">Rover.h:500</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a3d06352d58d90ae7934ef500505b937f"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a3d06352d58d90ae7934ef500505b937f">SRV_Channels::push</a></div><div class="ttdeci">static void push()</div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a2b2f8365b3776f0a588082805cd9acbe">SRV_Channel::k_throttle</a></div><div class="ttdeci">k_throttle</div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_afabff18b963ba9ef5b605e6e7aeca093a1c9c7057fdd08bebe7487917c00dc17e"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093a1c9c7057fdd08bebe7487917c00dc17e">AP_HAL::RCOutput::MODE_PWM_ONESHOT125</a></div><div class="ttdeci">MODE_PWM_ONESHOT125</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_acc8aac8396cac4090cbb12832668eaca"><div class="ttname"><a href="classAP__MotorsUGV.html#acc8aac8396cac4090cbb12832668eaca">AP_MotorsUGV::_pwm_freq</a></div><div class="ttdeci">AP_Int8 _pwm_freq</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00166">AP_MotorsUGV.h:166</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a39112be7cfaa9679ae45c5014aeb63bca927f6f4ade5de8c4f5f126b0790fe2b9"><div class="ttname"><a href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca927f6f4ade5de8c4f5f126b0790fe2b9">AP_MotorsUGV::FRAME_TYPE_OMNIPLUS</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00039">AP_MotorsUGV.h:39</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ac98c1ba8bc9e4d2845ce311c7a4b3b14"><div class="ttname"><a href="classAP__MotorsUGV.html#ac98c1ba8bc9e4d2845ce311c7a4b3b14">AP_MotorsUGV::_relayEvents</a></div><div class="ttdeci">AP_ServoRelayEvents &amp; _relayEvents</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00160">AP_MotorsUGV.h:160</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a051247375f93b5a9426c9b614695a0a0"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a051247375f93b5a9426c9b614695a0a0">SRV_Channels::set_output_limit</a></div><div class="ttdeci">static void set_output_limit(SRV_Channel::Aux_servo_function_t function, SRV_Channel::LimitValue limit)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a44a5b389f5f47e42bffac0dc5acb4f6b"><div class="ttname"><a href="classAP__MotorsUGV.html#a44a5b389f5f47e42bffac0dc5acb4f6b">AP_MotorsUGV::_steering</a></div><div class="ttdeci">float _steering</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00176">AP_MotorsUGV.h:176</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a8d116d235f4f8f79bc837f34718f4776"><div class="ttname"><a href="classAP__MotorsUGV.html#a8d116d235f4f8f79bc837f34718f4776">AP_MotorsUGV::have_vectored_thrust</a></div><div class="ttdeci">bool have_vectored_thrust() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00080">AP_MotorsUGV.h:80</a></div></div>
<div class="ttc" id="classSRV__Channels_html_aa8ce392569ac9b773e5edd27bd3c6650"><div class="ttname"><a href="../libraries/classSRV__Channels.html#aa8ce392569ac9b773e5edd27bd3c6650">SRV_Channels::find_channel</a></div><div class="ttdeci">static bool find_channel(SRV_Channel::Aux_servo_function_t function, uint8_t &amp;chan)</div></div>
<div class="ttc" id="structAP__MotorsUGV_1_1AP__MotorsUGV__limit_html_a62dd8a7d50dc33039bf2aef718829007"><div class="ttname"><a href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#a62dd8a7d50dc33039bf2aef718829007">AP_MotorsUGV::AP_MotorsUGV_limit::steer_right</a></div><div class="ttdeci">uint8_t steer_right</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00100">AP_MotorsUGV.h:100</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a69c5c3699a80d5a8649eac35449db0b2"><div class="ttname"><a href="classAP__MotorsUGV.html#a69c5c3699a80d5a8649eac35449db0b2">AP_MotorsUGV::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00108">AP_MotorsUGV.cpp:108</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a2b72ba29ad254568159a1f6951ee9013"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a2b72ba29ad254568159a1f6951ee9013">SRV_Channels::output_ch_all</a></div><div class="ttdeci">static void output_ch_all(void)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaa980c3d73ad866605b2ec24581b995595"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa980c3d73ad866605b2ec24581b995595">AP_MotorsUGV::PWM_TYPE_DSHOT1200</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00022">AP_MotorsUGV.h:22</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a1899ae8b286e235041609a84cc0f9d8d"><div class="ttname"><a href="classAP__MotorsUGV.html#a1899ae8b286e235041609a84cc0f9d8d">AP_MotorsUGV::_throttle_max</a></div><div class="ttdeci">AP_Int8 _throttle_max</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00170">AP_MotorsUGV.h:170</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a45bbea3c28ecc07b7a85c248341fe8f9"><div class="ttname"><a href="classAP__MotorsUGV.html#a45bbea3c28ecc07b7a85c248341fe8f9">AP_MotorsUGV::AP_MotorsUGV</a></div><div class="ttdeci">AP_MotorsUGV(AP_ServoRelayEvents &amp;relayEvents)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00102">AP_MotorsUGV.cpp:102</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a5ab419baae8c0128be85cf73b068eeef">SRV_Channel::k_throttleRight</a></div><div class="ttdeci">k_throttleRight</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a7c5d971d369fcca230e1a7708a73f8fe"><div class="ttname"><a href="classAP__MotorsUGV.html#a7c5d971d369fcca230e1a7708a73f8fe">AP_MotorsUGV::limit</a></div><div class="ttdeci">struct AP_MotorsUGV::AP_MotorsUGV_limit limit</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_af983910c9f084457edc95cb60f79ec9b"><div class="ttname"><a href="classAP__MotorsUGV.html#af983910c9f084457edc95cb60f79ec9b">AP_MotorsUGV::add_omni_motor_num</a></div><div class="ttdeci">void add_omni_motor_num(int8_t motor_num)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00544">AP_MotorsUGV.cpp:544</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ab8b83e10df1f499ab233a87d9d3e4846"><div class="ttname"><a href="classAP__MotorsUGV.html#ab8b83e10df1f499ab233a87d9d3e4846">AP_MotorsUGV::add_omni_motor</a></div><div class="ttdeci">void add_omni_motor(int8_t motor_num, float throttle_factor, float steering_factor, float lateral_factor)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00529">AP_MotorsUGV.cpp:529</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaa35d8d2c7705bdff2397adc841b7cb0f3"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa35d8d2c7705bdff2397adc841b7cb0f3">AP_MotorsUGV::PWM_TYPE_DSHOT300</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00020">AP_MotorsUGV.h:20</a></div></div>
<div class="ttc" id="structAP__MotorsUGV_1_1AP__MotorsUGV__limit_html_ac4a751ead8632497191684c0de727331"><div class="ttname"><a href="structAP__MotorsUGV_1_1AP__MotorsUGV__limit.html#ac4a751ead8632497191684c0de727331">AP_MotorsUGV::AP_MotorsUGV_limit::steer_left</a></div><div class="ttdeci">uint8_t steer_left</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00099">AP_MotorsUGV.h:99</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html"><div class="ttname"><a href="../libraries/classAP__HAL_1_1HAL.html">AP_HAL::HAL</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_abd435bb6c1dfb06e54efd524199e875f"><div class="ttname"><a href="classAP__MotorsUGV.html#abd435bb6c1dfb06e54efd524199e875f">AP_MotorsUGV::setup_omni</a></div><div class="ttdeci">void setup_omni()</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00489">AP_MotorsUGV.cpp:489</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a61d6f8b037aa79f789a11e872f50e220"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a61d6f8b037aa79f789a11e872f50e220">SRV_Channels::set_output_scaled</a></div><div class="ttdeci">static void set_output_scaled(SRV_Channel::Aux_servo_function_t function, int16_t value)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3f57c8a316743b33c1a513fd5ffc2c4aa7b8a18b0f88a468b5df77a1c9f2011ac"><div class="ttname"><a href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa7b8a18b0f88a468b5df77a1c9f2011ac">AP_MotorsUGV::MOTOR_TEST_MAINSAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00030">AP_MotorsUGV.h:30</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ac2c2665a6afdfc53cea1626643be4547"><div class="ttname"><a href="classAP__MotorsUGV.html#ac2c2665a6afdfc53cea1626643be4547">AP_MotorsUGV::get_scaled_throttle</a></div><div class="ttdeci">float get_scaled_throttle(float throttle) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00823">AP_MotorsUGV.cpp:823</a></div></div>
<div class="ttc" id="AP__Math_8h_html_a2a12cce483e9b870da70d30406d82c60"><div class="ttname"><a href="../libraries/AP__Math_8h.html#a2a12cce483e9b870da70d30406d82c60">is_zero</a></div><div class="ttdeci">bool is_zero(const T fVal1)</div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a74936c58237562ed4619d556fa89f46f">SRV_Channel::k_motor1</a></div><div class="ttdeci">k_motor1</div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a357394e0f6f88c8a57bd893ab28dc8f8"><div class="ttname"><a href="../libraries/DerivativeFilter_8cpp.html#a357394e0f6f88c8a57bd893ab28dc8f8">f</a></div><div class="ttdeci">#define f(i)</div></div>
<div class="ttc" id="Rover_8h_html"><div class="ttname"><a href="Rover_8h.html">Rover.h</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ab33a40ca42efb7032c3abb8e57721aa4"><div class="ttname"><a href="classAP__MotorsUGV.html#ab33a40ca42efb7032c3abb8e57721aa4">AP_MotorsUGV::_pwm_type</a></div><div class="ttdeci">AP_Int8 _pwm_type</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00165">AP_MotorsUGV.h:165</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a6ec155ae75e3d22a0de00e21e5b330a9"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a6ec155ae75e3d22a0de00e21e5b330a9">SRV_Channels::set_output_pwm</a></div><div class="ttdeci">static void set_output_pwm(SRV_Channel::Aux_servo_function_t function, uint16_t value)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaac8189d0426c8a7f5b318116b344b19ce"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaac8189d0426c8a7f5b318116b344b19ce">AP_MotorsUGV::PWM_TYPE_BRUSHED_WITH_RELAY</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00017">AP_MotorsUGV.h:17</a></div></div>
<div class="ttc" id="classRover_html_a39a171a15edbce794604e5de65b7ac7b"><div class="ttname"><a href="classRover.html#a39a171a15edbce794604e5de65b7ac7b">Rover::get_frame_type</a></div><div class="ttdeci">uint8_t get_frame_type()</div><div class="ttdef"><b>Definition:</b> <a href="Rover_8h_source.html#l00499">Rover.h:499</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="../libraries/structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a87b1939a9b432aaca7f0a9cc96ebcc8e"><div class="ttname"><a href="classAP__MotorsUGV.html#a87b1939a9b432aaca7f0a9cc96ebcc8e">AP_MotorsUGV::_steering_factor</a></div><div class="ttdeci">float _steering_factor[AP_MOTORS_NUM_MOTORS_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00185">AP_MotorsUGV.h:185</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3f57c8a316743b33c1a513fd5ffc2c4a"><div class="ttname"><a href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4a">AP_MotorsUGV::motor_test_order</a></div><div class="ttdeci">motor_test_order</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00025">AP_MotorsUGV.h:25</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a0bba981606c09e5759b6f3c653e1f2aa"><div class="ttname"><a href="classAP__MotorsUGV.html#a0bba981606c09e5759b6f3c653e1f2aa">AP_MotorsUGV::set_mainsail</a></div><div class="ttdeci">void set_mainsail(float mainsail)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00204">AP_MotorsUGV.cpp:204</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ab9980d91aa26e0e8c4ccac7f666e2fe3"><div class="ttname"><a href="classAP__MotorsUGV.html#ab9980d91aa26e0e8c4ccac7f666e2fe3">AP_MotorsUGV::setup_safety_output</a></div><div class="ttdeci">void setup_safety_output()</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00126">AP_MotorsUGV.cpp:126</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ab1d1490b3786f9b000f48cb3ecea6b1b"><div class="ttname"><a href="classAP__MotorsUGV.html#ab1d1490b3786f9b000f48cb3ecea6b1b">AP_MotorsUGV::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00106">AP_MotorsUGV.h:106</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="../libraries/AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaa0232349c42f0aaf5046cf03cdc201372"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa0232349c42f0aaf5046cf03cdc201372">AP_MotorsUGV::PWM_TYPE_BRUSHED_BIPOLAR</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00018">AP_MotorsUGV.h:18</a></div></div>
<div class="ttc" id="classGCS_html_a9866f3484283db744409e40719cef765"><div class="ttname"><a href="../libraries/classGCS.html#a9866f3484283db744409e40719cef765">GCS::send_text</a></div><div class="ttdeci">void send_text(MAV_SEVERITY severity, const char *fmt,...)</div></div>
<div class="ttc" id="classSRV__Channels_html_a9d15cd2e79678595ef5087b54d46ecb8"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a9d15cd2e79678595ef5087b54d46ecb8">SRV_Channels::set_safety_limit</a></div><div class="ttdeci">static void set_safety_limit(SRV_Channel::Aux_servo_function_t function, SRV_Channel::LimitValue limit)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a32f1794ebf9887243f5c869bfbe834d3"><div class="ttname"><a href="classAP__MotorsUGV.html#a32f1794ebf9887243f5c869bfbe834d3">AP_MotorsUGV::set_lateral</a></div><div class="ttdeci">void set_lateral(float lateral)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00198">AP_MotorsUGV.cpp:198</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3c13ea4a9949243234dce823c2fa961d"><div class="ttname"><a href="classAP__MotorsUGV.html#a3c13ea4a9949243234dce823c2fa961d">AP_MotorsUGV::have_skid_steering</a></div><div class="ttdeci">bool have_skid_steering() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00225">AP_MotorsUGV.cpp:225</a></div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_a7a28c0cef38387b867f1f5141a702daf"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#a7a28c0cef38387b867f1f5141a702daf">AP_HAL::RCOutput::set_output_mode</a></div><div class="ttdeci">virtual void set_output_mode(uint16_t mask, enum output_mode mode)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ac3de31b4f9d4746da2fe105f073537cc"><div class="ttname"><a href="classAP__MotorsUGV.html#ac3de31b4f9d4746da2fe105f073537cc">AP_MotorsUGV::get_rate_controlled_throttle</a></div><div class="ttdeci">float get_rate_controlled_throttle(SRV_Channel::Aux_servo_function_t function, float throttle, float dt)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00851">AP_MotorsUGV.cpp:851</a></div></div>
<div class="ttc" id="classSRV__Channels_html_ae90ac2cb19a55521eb5e0b6b58792e80"><div class="ttname"><a href="../libraries/classSRV__Channels.html#ae90ac2cb19a55521eb5e0b6b58792e80">SRV_Channels::set_failsafe_limit</a></div><div class="ttdeci">static void set_failsafe_limit(SRV_Channel::Aux_servo_function_t function, SRV_Channel::LimitValue limit)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a268de7e450c57ebafb9fd6ba64b9d233"><div class="ttname"><a href="classAP__MotorsUGV.html#a268de7e450c57ebafb9fd6ba64b9d233">AP_MotorsUGV::output_mainsail</a></div><div class="ttdeci">void output_mainsail()</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00790">AP_MotorsUGV.cpp:790</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ac993a856521fd85525bce7007982f3d5"><div class="ttname"><a href="classAP__MotorsUGV.html#ac993a856521fd85525bce7007982f3d5">AP_MotorsUGV::has_sail</a></div><div class="ttdeci">bool has_sail() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00235">AP_MotorsUGV.cpp:235</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a982e43b7116337c7dfd900bf7c4c9302"><div class="ttname"><a href="classAP__MotorsUGV.html#a982e43b7116337c7dfd900bf7c4c9302">AP_MotorsUGV::_lateral_factor</a></div><div class="ttdeci">float _lateral_factor[AP_MOTORS_NUM_MOTORS_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00186">AP_MotorsUGV.h:186</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ad962f64af80f94519b7e5de9f2973046"><div class="ttname"><a href="classAP__MotorsUGV.html#ad962f64af80f94519b7e5de9f2973046">AP_MotorsUGV::set_steering</a></div><div class="ttdeci">void set_steering(float steering, bool apply_scaling=true)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00179">AP_MotorsUGV.cpp:179</a></div></div>
<div class="ttc" id="AP__Math_8h_html_ad525609d9dba6ffa556a0fbf08a3f9b4"><div class="ttname"><a href="../libraries/AP__Math_8h.html#ad525609d9dba6ffa556a0fbf08a3f9b4">constrain_float</a></div><div class="ttdeci">float constrain_float(const float amt, const float low, const float high)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_afe4fc68f14806edec31643f91bd50f91"><div class="ttname"><a href="classAP__MotorsUGV.html#afe4fc68f14806edec31643f91bd50f91">AP_MotorsUGV::_vector_throttle_base</a></div><div class="ttdeci">AP_Float _vector_throttle_base</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00172">AP_MotorsUGV.h:172</a></div></div>
<div class="ttc" id="classAP__ServoRelayEvents_html"><div class="ttname"><a href="../libraries/classAP__ServoRelayEvents.html">AP_ServoRelayEvents</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68ae5af5177edb37a7244e0be6c9473efe5">SRV_Channel::k_mainsail_sheet</a></div><div class="ttdeci">k_mainsail_sheet</div></div>
<div class="ttc" id="classSRV__Channels_html_aa8ed20a48e6ffe0cb62e87fb9fa2f772"><div class="ttname"><a href="../libraries/classSRV__Channels.html#aa8ed20a48e6ffe0cb62e87fb9fa2f772">SRV_Channels::get_output_channel_mask</a></div><div class="ttdeci">static uint16_t get_output_channel_mask(SRV_Channel::Aux_servo_function_t function)</div></div>
<div class="ttc" id="examples_2AnalogIn_2AnalogIn_8cpp_html_a130f3ebe4c1bb6993e1094760227ad6a"><div class="ttname"><a href="../libraries/examples_2AnalogIn_2AnalogIn_8cpp.html#a130f3ebe4c1bb6993e1094760227ad6a">chan</a></div><div class="ttdeci">AP_HAL::AnalogSource * chan</div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a44f85b5c346aea6379642a4970f0a0a2">SRV_Channel::k_throttleLeft</a></div><div class="ttdeci">k_throttleLeft</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_afb6ba2ed5993134dd5be96bd52c15f41"><div class="ttname"><a href="classAP__MotorsUGV.html#afb6ba2ed5993134dd5be96bd52c15f41">AP_MotorsUGV::_lateral</a></div><div class="ttdeci">float _lateral</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00180">AP_MotorsUGV.h:180</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a08d12bc5da50b61094e29e72fed64834"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a08d12bc5da50b61094e29e72fed64834">SRV_Channel::get_reversed</a></div><div class="ttdeci">bool get_reversed(void) const</div></div>
<div class="ttc" id="AP__Math_8h_html_a8b6f71a42818d74fd8bfe348108942fa"><div class="ttname"><a href="../libraries/AP__Math_8h.html#a8b6f71a42818d74fd8bfe348108942fa">is_negative</a></div><div class="ttdeci">bool is_negative(const T fVal1)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3f57c8a316743b33c1a513fd5ffc2c4aa34d5c0fe61f953eef03d85aa35ffc498"><div class="ttname"><a href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aa34d5c0fe61f953eef03d85aa35ffc498">AP_MotorsUGV::MOTOR_TEST_STEERING</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00027">AP_MotorsUGV.h:27</a></div></div>
<div class="ttc" id="classAP__HAL_1_1HAL_html_aa6daf2df3dfc0b9f0f503db64a52b0cc"><div class="ttname"><a href="../libraries/classAP__HAL_1_1HAL.html#aa6daf2df3dfc0b9f0f503db64a52b0cc">AP_HAL::HAL::rcout</a></div><div class="ttdeci">AP_HAL::RCOutput * rcout</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ad51931763e093262c254c2338e92f813"><div class="ttname"><a href="classAP__MotorsUGV.html#ad51931763e093262c254c2338e92f813">AP_MotorsUGV::set_throttle</a></div><div class="ttdeci">void set_throttle(float throttle)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00186">AP_MotorsUGV.cpp:186</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a8b1c592622478d3b9ce90b11cfdb7c00"><div class="ttname"><a href="classAP__MotorsUGV.html#a8b1c592622478d3b9ce90b11cfdb7c00">AP_MotorsUGV::_disarm_disable_pwm</a></div><div class="ttdeci">AP_Int8 _disarm_disable_pwm</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00167">AP_MotorsUGV.h:167</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a6bdc435846b87498670af6018e094f64"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a6bdc435846b87498670af6018e094f64">SRV_Channels::cork</a></div><div class="ttdeci">static void cork()</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ae865bf6f4d58e187e73bd156ffae97b7"><div class="ttname"><a href="classAP__MotorsUGV.html#ae865bf6f4d58e187e73bd156ffae97b7">AP_MotorsUGV::sanity_check_parameters</a></div><div class="ttdeci">void sanity_check_parameters()</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00438">AP_MotorsUGV.cpp:438</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaa62cdb59efd013e2b7c2fadfeffdb336b"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaa62cdb59efd013e2b7c2fadfeffdb336b">AP_MotorsUGV::PWM_TYPE_DSHOT600</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00021">AP_MotorsUGV.h:21</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_aefc1524c06ea9c0049e70790f11a9334"><div class="ttname"><a href="classAP__MotorsUGV.html#aefc1524c06ea9c0049e70790f11a9334">AP_MotorsUGV::set_limits_from_input</a></div><div class="ttdeci">void set_limits_from_input(bool armed, float steering, float throttle)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00813">AP_MotorsUGV.cpp:813</a></div></div>
<div class="ttc" id="AP__MotorsUGV_8h_html"><div class="ttname"><a href="AP__MotorsUGV_8h.html">AP_MotorsUGV.h</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a39112be7cfaa9679ae45c5014aeb63bca26288a6a28b4c213cd669493d7d45292"><div class="ttname"><a href="classAP__MotorsUGV.html#a39112be7cfaa9679ae45c5014aeb63bca26288a6a28b4c213cd669493d7d45292">AP_MotorsUGV::FRAME_TYPE_OMNI3</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00037">AP_MotorsUGV.h:37</a></div></div>
<div class="ttc" id="classAP__ServoRelayEvents_html_a97e7a71ad2ed00b9b4ceb20bc617be4c"><div class="ttname"><a href="../libraries/classAP__ServoRelayEvents.html#a97e7a71ad2ed00b9b4ceb20bc617be4c">AP_ServoRelayEvents::do_set_relay</a></div><div class="ttdeci">bool do_set_relay(uint8_t relay_num, uint8_t state)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html"><div class="ttname"><a href="classAP__MotorsUGV.html">AP_MotorsUGV</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00007">AP_MotorsUGV.h:7</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a85827508e66eefbeee6b28051b494a72"><div class="ttname"><a href="classAP__MotorsUGV.html#a85827508e66eefbeee6b28051b494a72">AP_MotorsUGV::pre_arm_check</a></div><div class="ttdeci">bool pre_arm_check(bool report) const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00397">AP_MotorsUGV.cpp:397</a></div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a17b07ea85c29e2b07e8ab73568cf4fd2">SRV_Channel::k_steering</a></div><div class="ttdeci">k_steering</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_aa030840d7598fc6302c3d523979b4b5b"><div class="ttname"><a href="classAP__MotorsUGV.html#aa030840d7598fc6302c3d523979b4b5b">AP_MotorsUGV::output</a></div><div class="ttdeci">void output(bool armed, float ground_speed, float dt)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00240">AP_MotorsUGV.cpp:240</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a56b43bbb927e44b7aec222c2c88ba1d1"><div class="ttname"><a href="classAP__MotorsUGV.html#a56b43bbb927e44b7aec222c2c88ba1d1">AP_MotorsUGV::clear_omni_motors</a></div><div class="ttdeci">void clear_omni_motors(int8_t motor_num)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00558">AP_MotorsUGV.cpp:558</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_af70a7aca5f94dea1ba7acf978a2a3d4b"><div class="ttname"><a href="classAP__MotorsUGV.html#af70a7aca5f94dea1ba7acf978a2a3d4b">AP_MotorsUGV::output_omni</a></div><div class="ttdeci">void output_omni(bool armed, float steering, float throttle, float lateral)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00674">AP_MotorsUGV.cpp:674</a></div></div>
<div class="ttc" id="classAP__WheelRateControl_html_aab84fcd466e5a86567e0e628092f2fc1"><div class="ttname"><a href="../libraries/classAP__WheelRateControl.html#aab84fcd466e5a86567e0e628092f2fc1">AP_WheelRateControl::enabled</a></div><div class="ttdeci">bool enabled(uint8_t instance)</div></div>
<div class="ttc" id="classSRV__Channel_html_a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3"><div class="ttname"><a href="../libraries/classSRV__Channel.html#a9ca1754fc905dddeebec41568a475d68a323602c02b20f75a236c749e83dcb3c3">SRV_Channel::k_motor4</a></div><div class="ttdeci">k_motor4</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a27611cd34d855dc865aeb7c9cd9d6ddaab7fc68482de73b2cd4b4e362fecb6ce3"><div class="ttname"><a href="classAP__MotorsUGV.html#a27611cd34d855dc865aeb7c9cd9d6ddaab7fc68482de73b2cd4b4e362fecb6ce3">AP_MotorsUGV::PWM_TYPE_ONESHOT</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00015">AP_MotorsUGV.h:15</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a702499ded67a098a022e3457279c30db"><div class="ttname"><a href="classAP__MotorsUGV.html#a702499ded67a098a022e3457279c30db">AP_MotorsUGV::setup_servo_output</a></div><div class="ttdeci">void setup_servo_output()</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00154">AP_MotorsUGV.cpp:154</a></div></div>
<div class="ttc" id="classSRV__Channels_html_ade6632e078eb500dfab7910b28513ade"><div class="ttname"><a href="../libraries/classSRV__Channels.html#ade6632e078eb500dfab7910b28513ade">SRV_Channels::calc_pwm</a></div><div class="ttdeci">static void calc_pwm(void)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a16f779fadf5c976587d51d9fd02d00da"><div class="ttname"><a href="classAP__MotorsUGV.html#a16f779fadf5c976587d51d9fd02d00da">AP_MotorsUGV::_throttle_prev</a></div><div class="ttdeci">float _throttle_prev</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00178">AP_MotorsUGV.h:178</a></div></div>
<div class="ttc" id="SRV__Channel_8h_html"><div class="ttname"><a href="../libraries/SRV__Channel_8h.html">SRV_Channel.h</a></div></div>
<div class="ttc" id="classSRV__Channels_html_a378e0022237c196e6107c9e79f340285"><div class="ttname"><a href="../libraries/classSRV__Channels.html#a378e0022237c196e6107c9e79f340285">SRV_Channels::function_assigned</a></div><div class="ttdeci">static bool function_assigned(SRV_Channel::Aux_servo_function_t function)</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a3f57c8a316743b33c1a513fd5ffc2c4aaf990a43d195b02b25a2347b211345b2e"><div class="ttname"><a href="classAP__MotorsUGV.html#a3f57c8a316743b33c1a513fd5ffc2c4aaf990a43d195b02b25a2347b211345b2e">AP_MotorsUGV::MOTOR_TEST_THROTTLE_RIGHT</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00029">AP_MotorsUGV.h:29</a></div></div>
<div class="ttc" id="AP__Param_8h_html_a0f9acb038a5283b964b862aea8cc5051"><div class="ttname"><a href="../libraries/AP__Param_8h.html#a0f9acb038a5283b964b862aea8cc5051">AP_GROUPEND</a></div><div class="ttdeci">#define AP_GROUPEND</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ac6a939c7d6afae6228ac9447c08c195b"><div class="ttname"><a href="classAP__MotorsUGV.html#ac6a939c7d6afae6228ac9447c08c195b">AP_MotorsUGV::output_skid_steering</a></div><div class="ttdeci">void output_skid_steering(bool armed, float steering, float throttle, float dt)</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00625">AP_MotorsUGV.cpp:625</a></div></div>
<div class="ttc" id="classAP__MotorsUGV_html_a39ec5ee1f11ac2fcca1eedd4ebf381f4"><div class="ttname"><a href="classAP__MotorsUGV.html#a39ec5ee1f11ac2fcca1eedd4ebf381f4">AP_MotorsUGV::_throttle_factor</a></div><div class="ttdeci">float _throttle_factor[AP_MOTORS_NUM_MOTORS_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8h_source.html#l00184">AP_MotorsUGV.h:184</a></div></div>
<div class="ttc" id="classAP__HAL_1_1RCOutput_html_afabff18b963ba9ef5b605e6e7aeca093ab1e27b7d703bdf42b6223d9b9161d9a0"><div class="ttname"><a href="../libraries/classAP__HAL_1_1RCOutput.html#afabff18b963ba9ef5b605e6e7aeca093ab1e27b7d703bdf42b6223d9b9161d9a0">AP_HAL::RCOutput::MODE_PWM_ONESHOT</a></div><div class="ttdeci">MODE_PWM_ONESHOT</div></div>
<div class="ttc" id="classAP__MotorsUGV_html_ab02978771c0241b8823dc616a2121f19"><div class="ttname"><a href="classAP__MotorsUGV.html#ab02978771c0241b8823dc616a2121f19">AP_MotorsUGV::active</a></div><div class="ttdeci">bool active() const</div><div class="ttdef"><b>Definition:</b> <a href="AP__MotorsUGV_8cpp_source.html#l00873">AP_MotorsUGV.cpp:873</a></div></div>
<div class="ttc" id="classSRV__Channel_html"><div class="ttname"><a href="../libraries/classSRV__Channel.html">SRV_Channel</a></div></div>
<div class="ttc" id="classAP__Param_html_a5f6dcfce1c0a79cf5bd81283e22f3201"><div class="ttname"><a href="../libraries/classAP__Param.html#a5f6dcfce1c0a79cf5bd81283e22f3201">AP_Param::setup_object_defaults</a></div><div class="ttdeci">static void setup_object_defaults(const void *object_pointer, const struct GroupInfo *group_info)</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 11 2019 14:34:43 for APM:Rover by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
